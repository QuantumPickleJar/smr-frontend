import{S as _n,i as Vn,s as An,d as j,v as Pn,an as pe,$ as He,F as pn,G as hn,ai as Xe,f as gn,n as X,u as W,j as c,x as ze,e as m,K as N,g as p,h as g,N as D,O as d,m as h,R as a,b as P,k as M,X as O,a6 as $n,y as he,I as ge,aC as nn,a0 as Kn,aD as je,V as vn,J as lt,M as at,a4 as rt,Q as ct,Y as Nt,aa as Qn,a7 as Wn,U as $e,r as H,p as ve,t as Z,q as be,T as ut,a5 as ti,W as ei,az as ni}from"./vendor.3a29e177.js";import{o as Qt,s as vt,a as Wt,b as ii,l as oi,f as bn,g as si,V as Tt,c as yn,v as wn,r as xn}from"./forms.dd75ac7f.js";import{t as En}from"./forms.7054c8cd.js";import{m as Ye}from"./markdown.c113ec0d.js";import{H as kn,t as qe}from"./graphql.fef59309.js";import{T as Mn}from"./TagList.2bf706da.js";import{M as In}from"./ModCompatibilityEdit.6eae84e5.js";const Oe=Qt({name:vt().min(3).max(32),mod_reference:vt().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:vt().min(16).max(128),full_description:Wt(vt()),logo:Wt(ii().refine(e=>"name"in e&&"size"in e&&"type"in e)),source_url:vt().url().optional().or(oi("")),authors:Wt(Qt({role:vt(),user_id:vt()}).array()),compatibility:Wt(Qt({EA:Qt({state:vt(),note:bn()}),EXP:Qt({state:vt(),note:bn()})})),hidden:si(),tagIDs:Wt(vt().array())}),jt="src/lib/components/mods/ModAuthor.svelte";function Bn(e){let t,n;const l={c:function(){t=m("p"),n=N("Unknown User ID"),this.h()},l:function(s){t=p(s,"P",{class:!0});var i=g(t);n=D(i,"Unknown User ID"),i.forEach(c),this.h()},h:function(){d(t,"class","mr-2 whitespace-nowrap"),h(t,jt,28,2,952)},m:function(s,i){X(s,t,i),a(t,n)},p:W,d:function(s){s&&c(t)}};return j("SvelteRegisterBlock",{block:l,id:Bn.name,type:"else",source:"(28:0) {:else}",ctx:e}),l}function Tn(e){let t,n,l,o,s,i,r=e[2].data.getUser.username+"",f;const w={c:function(){t=m("div"),n=m("div"),o=P(),s=m("div"),i=m("span"),f=N(r),this.h()},l:function(S){t=p(S,"DIV",{class:!0});var E=g(t);n=p(E,"DIV",{class:!0,style:!0}),g(n).forEach(c),o=M(E),s=p(E,"DIV",{class:!0});var I=g(s);i=p(I,"SPAN",{class:!0});var v=g(i);f=D(v,r),v.forEach(c),I.forEach(c),E.forEach(c),this.h()},h:function(){d(n,"class","rounded-full bg-cover w-7 h-7"),d(n,"style",l=`background-image: url("${e[2].data.getUser.avatar||Xe+"/images/no_image.webp"}")`),h(n,jt,20,4,654),d(i,"class","text-yellow-500"),h(i,jt,24,6,855),d(s,"class","grid grid-flow-row"),h(s,jt,23,4,816),d(t,"class","grid grid-flow-col auto-cols-max gap-x-2 mr-2"),h(t,jt,19,2,590)},m:function(S,E){X(S,t,E),a(t,n),a(t,o),a(t,s),a(s,i),a(i,f)},p:function(S,E){E&4&&l!==(l=`background-image: url("${S[2].data.getUser.avatar||Xe+"/images/no_image.webp"}")`)&&d(n,"style",l),E&4&&r!==(r=S[2].data.getUser.username+"")&&O(f,r)},d:function(S){S&&c(t)}};return j("SvelteRegisterBlock",{block:w,id:Tn.name,type:"if",source:"(19:29) ",ctx:e}),w}function Nn(e){let t,n=e[3]("error.oh-no")+"",l,o,s=e[2].error.message+"",i;const r={c:function(){t=m("p"),l=N(n),o=N("... "),i=N(s),this.h()},l:function(w){t=p(w,"P",{class:!0});var y=g(t);l=D(y,n),o=D(y,"... "),i=D(y,s),y.forEach(c),this.h()},h:function(){d(t,"class","mr-2"),h(t,jt,17,2,493)},m:function(w,y){X(w,t,y),a(t,l),a(t,o),a(t,i)},p:function(w,y){y&8&&n!==(n=w[3]("error.oh-no")+"")&&O(l,n),y&4&&s!==(s=w[2].error.message+"")&&O(i,s)},d:function(w){w&&c(t)}};return j("SvelteRegisterBlock",{block:r,id:Nn.name,type:"if",source:"(17:22) ",ctx:e}),r}function Dn(e){let t,n=e[3]("loading")+"",l,o;const s={c:function(){t=m("p"),l=N(n),o=N("..."),this.h()},l:function(r){t=p(r,"P",{class:!0});var f=g(t);l=D(f,n),o=D(f,"..."),f.forEach(c),this.h()},h:function(){d(t,"class","mr-2"),h(t,jt,15,2,429)},m:function(r,f){X(r,t,f),a(t,l),a(t,o)},p:function(r,f){f&8&&n!==(n=r[3]("loading")+"")&&O(l,n)},d:function(r){r&&c(t)}};return j("SvelteRegisterBlock",{block:s,id:Dn.name,type:"if",source:"(15:0) {#if $user.fetching}",ctx:e}),s}function Ge(e){let t;function n(i,r){return i[2].fetching?Dn:i[2].error?Nn:i[2].data.getUser?Tn:Bn}let l=n(e),o=l(e);const s={c:function(){o.c(),t=gn()},l:function(r){o.l(r),t=gn()},m:function(r,f){o.m(r,f),X(r,t,f)},p:function(r,[f]){l===(l=n(r))&&o?o.p(r,f):(o.d(1),o=l(r),o&&(o.c(),o.m(t.parentNode,t)))},i:W,o:W,d:function(r){o.d(r),r&&c(t)}};return j("SvelteRegisterBlock",{block:s,id:Ge.name,type:"component",source:"",ctx:e}),s}function ri(e,t,n){let l,o,s=W,i=()=>(s(),s=ze(l,x=>n(2,o=x)),l),r,f=W,w=()=>(f(),f=ze(I,x=>n(3,r=x)),I);e.$$.on_destroy.push(()=>s()),e.$$.on_destroy.push(()=>f());let{$$slots:y={},$$scope:S}=t;Pn("ModAuthor",y,[]);let{id:E}=t;const{t:I}=pe();He(I,"t"),w();const v=pn();e.$$.on_mount.push(function(){E===void 0&&!("id"in t||e.$$.bound[e.$$.props.id])&&console.warn("<ModAuthor> was created without expected prop 'id'")});const z=["id"];return Object.keys(t).forEach(x=>{!~z.indexOf(x)&&x.slice(0,2)!=="$$"&&x!=="slot"&&console.warn(`<ModAuthor> was created with unknown prop '${x}'`)}),e.$$set=x=>{"id"in x&&n(4,E=x.id)},e.$capture_state=()=>({queryStore:hn,getContextClient:pn,GetUserDocument:kn,assets:Xe,getTranslate:pe,id:E,t:I,client:v,user:l,$user:o,$t:r}),e.$inject_state=x=>{"id"in x&&n(4,E=x.id),"user"in x&&i(n(1,l=x.user))},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&16&&i(n(1,l=hn({query:kn,client:v,variables:{user:E}})))},[I,l,o,r,E]}class Rn extends _n{constructor(t){super(t),Vn(this,t,ri,Ge,An,{id:4,t:0}),j("SvelteRegisterComponent",{component:this,tagName:"ModAuthor",options:t,id:Ge.name})}get id(){throw new Error("<ModAuthor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(t){throw new Error("<ModAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[0]}set t(t){throw new Error("<ModAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const $="src/lib/components/mods/ModForm.svelte";function Sn(e,t,n){const l=e.slice();return l[27]=t[n],l[28]=t,l[29]=n,l}function Fn(e){let t,n=(e[30]||"")+"",l;const o={c:function(){t=m("span"),l=N(n),this.h()},l:function(i){t=p(i,"SPAN",{class:!0});var r=g(t);l=D(r,n),r.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),h(t,$,78,8,2573)},m:function(i,r){X(i,t,r),a(t,l)},p:function(i,r){r[0]&1073741824&&n!==(n=(i[30]||"")+"")&&O(l,n)},d:function(i){i&&c(t)}};return j("SvelteRegisterBlock",{block:o,id:Fn.name,type:"slot",source:'(78:6) <ValidationMessage for=\\"name\\" let:messages={message}>',ctx:e}),o}function Ze(e){let t,n=e[7]("mod.reference-warning")+"",l;const o={c:function(){t=m("span"),l=N(n),this.h()},l:function(i){t=p(i,"SPAN",{});var r=g(t);l=D(r,n),r.forEach(c),this.h()},h:function(){h(t,$,87,10,2905)},m:function(i,r){X(i,t,r),a(t,l)},p:function(i,r){r[0]&128&&n!==(n=i[7]("mod.reference-warning")+"")&&O(l,n)},d:function(i){i&&c(t)}};return j("SvelteRegisterBlock",{block:o,id:Ze.name,type:"if",source:"(87:8) {#if !editing}",ctx:e}),o}function Un(e){let t,n=(e[30]||"")+"",l;const o={c:function(){t=m("span"),l=N(n),this.h()},l:function(i){t=p(i,"SPAN",{class:!0});var r=g(t);l=D(r,n),r.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),h(t,$,91,8,3054)},m:function(i,r){X(i,t,r),a(t,l)},p:function(i,r){r[0]&1073741824&&n!==(n=(i[30]||"")+"")&&O(l,n)},d:function(i){i&&c(t)}};return j("SvelteRegisterBlock",{block:o,id:Un.name,type:"slot",source:'(91:6) <ValidationMessage for=\\"mod_reference\\" let:messages={message}>',ctx:e}),o}function Cn(e){let t,n=(e[30]||"")+"",l;const o={c:function(){t=m("span"),l=N(n),this.h()},l:function(i){t=p(i,"SPAN",{class:!0});var r=g(t);l=D(r,n),r.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),h(t,$,101,8,3463)},m:function(i,r){X(i,t,r),a(t,l)},p:function(i,r){r[0]&1073741824&&n!==(n=(i[30]||"")+"")&&O(l,n)},d:function(i){i&&c(t)}};return j("SvelteRegisterBlock",{block:o,id:Cn.name,type:"slot",source:'(101:6) <ValidationMessage for=\\"short_description\\" let:messages={message}>',ctx:e}),o}function Ln(e){let t,n=(e[30]||"")+"",l;const o={c:function(){t=m("span"),l=N(n),this.h()},l:function(i){t=p(i,"SPAN",{class:!0});var r=g(t);l=D(r,n),r.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),h(t,$,112,10,3954)},m:function(i,r){X(i,t,r),a(t,l)},p:function(i,r){r[0]&1073741824&&n!==(n=(i[30]||"")+"")&&O(l,n)},d:function(i){i&&c(t)}};return j("SvelteRegisterBlock",{block:o,id:Ln.name,type:"slot",source:'(112:8) <ValidationMessage for=\\"full_description\\" let:messages={message}>',ctx:e}),o}function jn(e){const t={c:W,l:W,m:W,p:W,d:W};return j("SvelteRegisterBlock",{block:t,id:jn.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:e}),t}function qn(e){let t,n=e[31]+"";const l={c:function(){t=m("div"),this.h()},l:function(s){t=p(s,"DIV",{class:!0});var i=g(t);i.forEach(c),this.h()},h:function(){d(t,"class","markdown-content right s-YtrVF1HCE9t3"),h(t,$,118,10,4215)},m:function(s,i){X(s,t,i),t.innerHTML=n},p:function(s,i){i[0]&64&&n!==(n=s[31]+"")&&(t.innerHTML=n)},d:function(s){s&&c(t)}};return j("SvelteRegisterBlock",{block:l,id:qn.name,type:"then",source:'(118:55)            <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:e}),l}function On(e){const t={c:W,l:W,m:W,p:W,d:W};return j("SvelteRegisterBlock",{block:t,id:On.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:e}),t}function Hn(e){let t,n=(e[30]||"")+"",l;const o={c:function(){t=m("span"),l=N(n),this.h()},l:function(i){t=p(i,"SPAN",{class:!0});var r=g(t);l=D(r,n),r.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),h(t,$,137,8,4755)},m:function(i,r){X(i,t,r),a(t,l)},p:function(i,r){r[0]&1073741824&&n!==(n=(i[30]||"")+"")&&O(l,n)},d:function(i){i&&c(t)}};return j("SvelteRegisterBlock",{block:o,id:Hn.name,type:"slot",source:'(137:6) <ValidationMessage for=\\"logo\\" let:messages={message}>',ctx:e}),o}function Xn(e){let t,n=(e[30]||"")+"",l;const o={c:function(){t=m("span"),l=N(n),this.h()},l:function(i){t=p(i,"SPAN",{class:!0});var r=g(t);l=D(r,n),r.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),h(t,$,147,8,5143)},m:function(i,r){X(i,t,r),a(t,l)},p:function(i,r){r[0]&1073741824&&n!==(n=(i[30]||"")+"")&&O(l,n)},d:function(i){i&&c(t)}};return j("SvelteRegisterBlock",{block:o,id:Xn.name,type:"slot",source:'(147:6) <ValidationMessage for=\\"source_url\\" let:messages={message}>',ctx:e}),o}function zn(e){let t=e[7]("entry.hidden")+"",n;const l={c:function(){n=N(t)},l:function(s){n=D(s,t)},m:function(s,i){X(s,n,i)},p:function(s,i){i[0]&128&&t!==(t=s[7]("entry.hidden")+"")&&O(n,t)},d:function(s){s&&c(n)}};return j("SvelteRegisterBlock",{block:l,id:zn.name,type:"slot",source:'(153:6) <SlideToggle name=\\"slider-label\\" bind:checked={$data.hidden}>',ctx:e}),l}function Yn(e){let t,n=(e[30]||"")+"",l;const o={c:function(){t=m("span"),l=N(n),this.h()},l:function(i){t=p(i,"SPAN",{class:!0});var r=g(t);l=D(r,n),r.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),h(t,$,156,8,5469)},m:function(i,r){X(i,t,r),a(t,l)},p:function(i,r){r[0]&1073741824&&n!==(n=(i[30]||"")+"")&&O(l,n)},d:function(i){i&&c(t)}};return j("SvelteRegisterBlock",{block:o,id:Yn.name,type:"slot",source:'(156:6) <ValidationMessage for=\\"hidden\\" let:messages={message}>',ctx:e}),o}function Je(e){let t,n,l,o,s,i,r,f,w=e[7]("authors")+"",y,S,E,I,v=e[7]("add")+"",z,x,T,J,R;function F(q){e[22](q)}let tt={name:"slider-label",$$slots:{default:[Gn]},$$scope:{ctx:e}};e[5]!==void 0&&(tt.checked=e[5]),n=new nn({props:tt,$$inline:!0}),he.push(()=>ge(n,"checked",F)),n.$on("change",e[23]);let A=e[5]&&Ke(e),et=e[4].authors;vn(et);let V=[];for(let q=0;q<et.length;q+=1)V[q]=tn(Sn(e,et,q));const it=q=>Z(V[q],1,1,()=>{V[q]=null}),ft={c:function(){t=m("div"),lt(n.$$.fragment),o=P(),A&&A.c(),s=P(),i=m("div"),r=m("div"),f=m("h4"),y=N(w),S=P(),E=m("button"),I=m("span"),z=N(v),x=P();for(let k=0;k<V.length;k+=1)V[k].c();this.h()},l:function(k){t=p(k,"DIV",{});var B=g(t);at(n.$$.fragment,B),B.forEach(c),o=M(k),A&&A.l(k),s=M(k),i=p(k,"DIV",{class:!0});var U=g(i);r=p(U,"DIV",{class:!0});var L=g(r);f=p(L,"H4",{class:!0});var K=g(f);y=D(K,w),K.forEach(c),S=M(L),E=p(L,"BUTTON",{class:!0,type:!0});var St=g(E);I=p(St,"SPAN",{});var nt=g(I);z=D(nt,v),nt.forEach(c),St.forEach(c),L.forEach(c),x=M(U);for(let u=0;u<V.length;u+=1)V[u].l(U);U.forEach(c),this.h()},h:function(){h(t,$,160,6,5587),d(f,"class","mr-4"),h(f,$,177,10,6110),h(I,$,179,12,6248),d(E,"class","btn variant-ghost-primary"),d(E,"type","button"),h(E,$,178,10,6158),d(r,"class","flex items-center"),h(r,$,176,8,6068),d(i,"class","grid grid-flow-row gap-2"),h(i,$,175,6,6021)},m:function(k,B){X(k,t,B),ct(n,t,null),X(k,o,B),A&&A.m(k,B),X(k,s,B),X(k,i,B),a(i,r),a(r,f),a(f,y),a(r,S),a(r,E),a(E,I),a(I,z),a(i,x);for(let U=0;U<V.length;U+=1)V[U]&&V[U].m(i,null);T=!0,J||(R=Nt(E,"click",e[10],!1,!1,!1,!1),J=!0)},p:function(k,B){const U={};if(B[0]&128|B[1]&2&&(U.$$scope={dirty:B,ctx:k}),!l&&B[0]&32&&(l=!0,U.checked=k[5],$e(()=>l=!1)),n.$set(U),k[5]?A?(A.p(k,B),B[0]&32&&H(A,1)):(A=Ke(k),A.c(),H(A,1),A.m(s.parentNode,s)):A&&(ve(),Z(A,1,1,()=>{A=null}),be()),(!T||B[0]&128)&&w!==(w=k[7]("authors")+"")&&O(y,w),(!T||B[0]&128)&&v!==(v=k[7]("add")+"")&&O(z,v),B[0]&2192){et=k[4].authors,vn(et);let L;for(L=0;L<et.length;L+=1){const K=Sn(k,et,L);V[L]?(V[L].p(K,B),H(V[L],1)):(V[L]=tn(K),V[L].c(),H(V[L],1),V[L].m(i,null))}for(ve(),L=et.length;L<V.length;L+=1)it(L);be()}},i:function(k){if(!T){H(n.$$.fragment,k),H(A);for(let B=0;B<et.length;B+=1)H(V[B]);T=!0}},o:function(k){Z(n.$$.fragment,k),Z(A),V=V.filter(Boolean);for(let B=0;B<V.length;B+=1)Z(V[B]);T=!1},d:function(k){k&&c(t),ut(n),k&&c(o),A&&A.d(k),k&&c(s),k&&c(i),ei(V,k),J=!1,R()}};return j("SvelteRegisterBlock",{block:ft,id:Je.name,type:"if",source:"(160:4) {#if editing}",ctx:e}),ft}function Gn(e){let t=e[7]("compatibility-info.edit")+"",n;const l={c:function(){n=N(t)},l:function(s){n=D(s,t)},m:function(s,i){X(s,n,i)},p:function(s,i){i[0]&128&&t!==(t=s[7]("compatibility-info.edit")+"")&&O(n,t)},d:function(s){s&&c(n)}};return j("SvelteRegisterBlock",{block:l,id:Gn.name,type:"slot",source:'(162:8) <SlideToggle           name=\\"slider-label\\"           bind:checked={editCompatibility}           on:change={() => {             $data.compatibility = editCompatibility ? originalCompatibility : undefined;           }}>',ctx:e}),l}function Ke(e){let t,n,l;function o(r){e[24](r)}let s={};e[4].compatibility!==void 0&&(s.compatibilityInfo=e[4].compatibility),t=new In({props:s,$$inline:!0}),he.push(()=>ge(t,"compatibilityInfo",o));const i={c:function(){lt(t.$$.fragment)},l:function(f){at(t.$$.fragment,f)},m:function(f,w){ct(t,f,w),l=!0},p:function(f,w){const y={};!n&&w[0]&16&&(n=!0,y.compatibilityInfo=f[4].compatibility,$e(()=>n=!1)),t.$set(y)},i:function(f){l||(H(t.$$.fragment,f),l=!0)},o:function(f){Z(t.$$.fragment,f),l=!1},d:function(f){ut(t,f)}};return j("SvelteRegisterBlock",{block:i,id:Ke.name,type:"if",source:"(172:6) {#if editCompatibility}",ctx:e}),i}function Qe(e){let t,n,l;n=new Rn({props:{id:e[4].authors[e[29]].user_id},$$inline:!0});const o={c:function(){t=m("div"),lt(n.$$.fragment),this.h()},l:function(i){t=p(i,"DIV",{class:!0});var r=g(t);at(n.$$.fragment,r),r.forEach(c),this.h()},h:function(){d(t,"class","p-2"),h(t,$,185,14,6447)},m:function(i,r){X(i,t,r),ct(n,t,null),l=!0},p:function(i,r){const f={};r[0]&16&&(f.id=i[4].authors[i[29]].user_id),n.$set(f)},i:function(i){l||(H(n.$$.fragment,i),l=!0)},o:function(i){Z(n.$$.fragment,i),l=!1},d:function(i){i&&c(t),ut(n)}};return j("SvelteRegisterBlock",{block:o,id:Qe.name,type:"if",source:"(185:12) {#if $data.authors[i].user_id}",ctx:e}),o}function We(e){let t,n,l=e[7]("remove")+"",o,s,i;function r(){return e[26](e[29])}const f={c:function(){t=m("button"),n=m("span"),o=N(l),this.h()},l:function(y){t=p(y,"BUTTON",{class:!0,type:!0});var S=g(t);n=p(S,"SPAN",{});var E=g(n);o=D(E,l),E.forEach(c),S.forEach(c),this.h()},h:function(){h(n,$,200,16,7036),d(t,"class","btn variant-ghost-primary"),d(t,"type","button"),h(t,$,199,14,6930)},m:function(y,S){X(y,t,S),a(t,n),a(n,o),s||(i=Nt(t,"click",r,!1,!1,!1,!1),s=!0)},p:function(y,S){e=y,S[0]&128&&l!==(l=e[7]("remove")+"")&&O(o,l)},d:function(y){y&&c(t),s=!1,i()}};return j("SvelteRegisterBlock",{block:f,id:We.name,type:"if",source:"(199:12) {#if author.role !== 'creator'}",ctx:e}),f}function tn(e){let t,n,l,o,s,i,r,f,w,y,S,E,I,v=e[4].authors[e[29]].user_id&&Qe(e);function z(){e[25].call(r,e[29])}let x=e[27].role!=="creator"&&We(e);const T={c:function(){t=m("div"),v&&v.c(),n=P(),l=m("label"),o=m("span"),s=N("User ID"),i=P(),r=m("input"),w=P(),x&&x.c(),y=P(),this.h()},l:function(R){t=p(R,"DIV",{class:!0});var F=g(t);v&&v.l(F),n=M(F),l=p(F,"LABEL",{class:!0});var tt=g(l);o=p(tt,"SPAN",{});var A=g(o);s=D(A,"User ID"),A.forEach(c),i=M(tt),r=p(tt,"INPUT",{type:!0,class:!0}),tt.forEach(c),w=M(F),x&&x.l(F),y=M(F),F.forEach(c),this.h()},h:function(){h(o,$,190,14,6612),d(r,"type","text"),r.required=!0,d(r,"class","input p-2"),r.disabled=f=e[27].role==="creator",h(r,$,191,14,6647),d(l,"class","label"),h(l,$,189,12,6576),d(t,"class","flex items-end"),h(t,$,183,10,6361)},m:function(R,F){X(R,t,F),v&&v.m(t,null),a(t,n),a(t,l),a(l,o),a(o,s),a(l,i),a(l,r),rt(r,e[4].authors[e[29]].user_id),a(t,w),x&&x.m(t,null),a(t,y),S=!0,E||(I=Nt(r,"input",z),E=!0)},p:function(R,F){e=R,e[4].authors[e[29]].user_id?v?(v.p(e,F),F[0]&16&&H(v,1)):(v=Qe(e),v.c(),H(v,1),v.m(t,n)):v&&(ve(),Z(v,1,1,()=>{v=null}),be()),(!S||F[0]&16&&f!==(f=e[27].role==="creator"))&&ni(r,"disabled",f),F[0]&16&&r.value!==e[4].authors[e[29]].user_id&&rt(r,e[4].authors[e[29]].user_id),e[27].role!=="creator"?x?x.p(e,F):(x=We(e),x.c(),x.m(t,y)):x&&(x.d(1),x=null)},i:function(R){S||(H(v),S=!0)},o:function(R){Z(v),S=!1},d:function(R){R&&c(t),v&&v.d(),x&&x.d(),E=!1,I()}};return j("SvelteRegisterBlock",{block:T,id:tn.name,type:"each",source:"(183:8) {#each $data.authors as author, i}",ctx:e}),T}function en(e){let t,n,l,o,s,i=e[7]("entry.name")+"",r,f,w,y,S,E,I,v,z,x=e[7]("mod.reference")+"",T,J,R,F,tt,A,et,V,it,ft,q=e[7]("entry.short-description")+"",k,B,U,L,K,St,nt,u,dt,qt,zt=e[7]("entry.full-description")+"",te,ye,mt,we,_t,xe,gt,Dt,Yt=e[7]("preview")+"",ee,Ee,ke,ne,Se,Rt,bt,_e,Ve,pt,Vt,Gt=e[7]("logo")+"",ie,Ae,Pe,$t,Me,At,Ie,yt,wt,Ot,Zt=e[7]("entry.source-url")+"",oe,Be,ht,Te,Pt,Ne,xt,Et,De,Re,Mt,Fe,se,Ht,It,re,st,Ue,on;S=new Tt({props:{for:"name",$$slots:{default:[Fn,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0});let Q=!e[2]&&Ze(e);A=new Tt({props:{for:"mod_reference",$$slots:{default:[Un,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0}),K=new Tt({props:{for:"short_description",$$slots:{default:[Cn,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0}),_t=new Tt({props:{for:"full_description",$$slots:{default:[Ln,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0});let ot={ctx:e,current:null,token:null,hasCatch:!1,pending:On,then:qn,catch:jn,value:31};$n(ne=Ye(e[6]),ot);function Zn(_){e[19](_)}let sn={editable:!0};e[3]!==void 0&&(sn.tags=e[3]),bt=new Mn({props:sn,$$inline:!0}),he.push(()=>ge(bt,"tags",Zn)),At=new Tt({props:{for:"logo",$$slots:{default:[Hn,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0}),Pt=new Tt({props:{for:"source_url",$$slots:{default:[Xn,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0});function Jn(_){e[21](_)}let rn={name:"slider-label",$$slots:{default:[zn]},$$scope:{ctx:e}};e[4].hidden!==void 0&&(rn.checked=e[4].hidden),Et=new nn({props:rn,$$inline:!0}),he.push(()=>ge(Et,"checked",Jn)),Mt=new Tt({props:{for:"hidden",$$slots:{default:[Yn,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0});let G=e[2]&&Je(e);const ln={c:function(){t=m("form"),n=m("div"),l=m("div"),o=m("label"),s=m("span"),r=N(i),f=P(),w=m("input"),y=P(),lt(S.$$.fragment),E=P(),I=m("div"),v=m("label"),z=m("span"),T=N(x),J=P(),R=m("input"),F=P(),Q&&Q.c(),tt=P(),lt(A.$$.fragment),et=P(),V=m("div"),it=m("label"),ft=m("span"),k=N(q),B=P(),U=m("input"),L=P(),lt(K.$$.fragment),St=P(),nt=m("div"),u=m("div"),dt=m("label"),qt=m("span"),te=N(zt),ye=P(),mt=m("textarea"),we=P(),lt(_t.$$.fragment),xe=P(),gt=m("div"),Dt=m("span"),ee=N(Yt),Ee=N(":"),ke=P(),ot.block.c(),Se=P(),Rt=m("div"),lt(bt.$$.fragment),Ve=P(),pt=m("div"),Vt=m("label"),ie=N(Gt),Ae=N(":"),Pe=P(),$t=m("input"),Me=P(),lt(At.$$.fragment),Ie=P(),yt=m("div"),wt=m("label"),Ot=m("span"),oe=N(Zt),Be=P(),ht=m("input"),Te=P(),lt(Pt.$$.fragment),Ne=P(),xt=m("div"),lt(Et.$$.fragment),Re=P(),lt(Mt.$$.fragment),Fe=P(),G&&G.c(),se=P(),Ht=m("div"),It=m("button"),re=N(e[1]),this.h()},l:function(C){t=p(C,"FORM",{});var b=g(t);n=p(b,"DIV",{class:!0});var Y=g(n);l=p(Y,"DIV",{class:!0});var Ft=g(l);o=p(Ft,"LABEL",{class:!0});var Ut=g(o);s=p(Ut,"SPAN",{});var Jt=g(s);r=D(Jt,i),Jt.forEach(c),f=M(Ut),w=p(Ut,"INPUT",{type:!0,class:!0}),Ut.forEach(c),y=M(Ft),at(S.$$.fragment,Ft),Ft.forEach(c),E=M(Y),I=p(Y,"DIV",{class:!0});var Ct=g(I);v=p(Ct,"LABEL",{class:!0});var kt=g(v);z=p(kt,"SPAN",{});var Kt=g(z);T=D(Kt,x),Kt.forEach(c),J=M(kt),R=p(kt,"INPUT",{type:!0,class:!0}),F=M(kt),Q&&Q.l(kt),kt.forEach(c),tt=M(Ct),at(A.$$.fragment,Ct),Ct.forEach(c),et=M(Y),V=p(Y,"DIV",{class:!0});var Bt=g(V);it=p(Bt,"LABEL",{class:!0});var Lt=g(it);ft=p(Lt,"SPAN",{});var an=g(ft);k=D(an,q),an.forEach(c),B=M(Lt),U=p(Lt,"INPUT",{type:!0,class:!0}),Lt.forEach(c),L=M(Bt),at(K.$$.fragment,Bt),Bt.forEach(c),St=M(Y),nt=p(Y,"DIV",{class:!0});var le=g(nt);u=p(le,"DIV",{class:!0});var ae=g(u);dt=p(ae,"LABEL",{class:!0});var ce=g(dt);qt=p(ce,"SPAN",{});var cn=g(qt);te=D(cn,zt),cn.forEach(c),ye=M(ce),mt=p(ce,"TEXTAREA",{class:!0,rows:!0}),g(mt).forEach(c),ce.forEach(c),we=M(ae),at(_t.$$.fragment,ae),ae.forEach(c),xe=M(le),gt=p(le,"DIV",{class:!0});var ue=g(gt);Dt=p(ue,"SPAN",{});var Ce=g(Dt);ee=D(Ce,Yt),Ee=D(Ce,":"),Ce.forEach(c),ke=M(ue),ot.block.l(ue),ue.forEach(c),le.forEach(c),Se=M(Y),Rt=p(Y,"DIV",{class:!0});var un=g(Rt);at(bt.$$.fragment,un),un.forEach(c),Ve=M(Y),pt=p(Y,"DIV",{class:!0});var Xt=g(pt);Vt=p(Xt,"LABEL",{for:!0});var Le=g(Vt);ie=D(Le,Gt),Ae=D(Le,":"),Le.forEach(c),Pe=M(Xt),$t=p(Xt,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Me=M(Xt),at(At.$$.fragment,Xt),Xt.forEach(c),Ie=M(Y),yt=p(Y,"DIV",{class:!0});var fe=g(yt);wt=p(fe,"LABEL",{class:!0});var de=g(wt);Ot=p(de,"SPAN",{});var fn=g(Ot);oe=D(fn,Zt),fn.forEach(c),Be=M(de),ht=p(de,"INPUT",{type:!0,class:!0}),de.forEach(c),Te=M(fe),at(Pt.$$.fragment,fe),fe.forEach(c),Ne=M(Y),xt=p(Y,"DIV",{class:!0});var me=g(xt);at(Et.$$.fragment,me),Re=M(me),at(Mt.$$.fragment,me),me.forEach(c),Fe=M(Y),G&&G.l(Y),se=M(Y),Ht=p(Y,"DIV",{});var dn=g(Ht);It=p(dn,"BUTTON",{class:!0,type:!0});var mn=g(It);re=D(mn,e[1]),mn.forEach(c),dn.forEach(c),Y.forEach(c),b.forEach(c),this.h()},h:function(){h(s,$,74,8,2377),d(w,"type","text"),w.required=!0,d(w,"class","input p-2"),h(w,$,75,8,2417),d(o,"class","label"),h(o,$,73,6,2347),d(l,"class","grid grid-flow-row gap-2"),h(l,$,72,4,2302),h(z,$,84,8,2747),d(R,"type","text"),R.required=!0,d(R,"class","input p-2"),h(R,$,85,8,2790),d(v,"class","label"),h(v,$,83,6,2717),d(I,"class","grid grid-flow-row gap-2"),h(I,$,82,4,2672),h(ft,$,97,8,3228),d(U,"type","text"),U.required=!0,d(U,"class","input p-2"),h(U,$,98,8,3281),d(it,"class","label"),h(it,$,96,6,3198),d(V,"class","grid grid-flow-row gap-2"),h(V,$,95,4,3153),h(qt,$,108,10,3692),d(mt,"class","vertical-textarea textarea p-2"),mt.required=!0,d(mt,"rows",10),h(mt,$,109,10,3746),d(dt,"class","label"),h(dt,$,107,8,3660),d(u,"class","grid grid-flow-row gap-2 auto-rows-max"),h(u,$,106,6,3599),h(Dt,$,116,8,4119),d(gt,"class","grid grid-flow-row gap-2 auto-rows-max"),h(gt,$,115,6,4058),d(nt,"class","grid gap-6 split s-YtrVF1HCE9t3"),h(nt,$,105,4,3562),d(Rt,"class","grid grid-flow-row gap-2"),h(Rt,$,123,4,4327),d(Vt,"for","logo"),h(Vt,$,128,6,4471),d($t,"id","logo"),d($t,"class","base-input"),d($t,"name","logo"),d($t,"type","file"),d($t,"accept","image/png,image/jpeg,image/gif"),d($t,"placeholder","Logo"),h($t,$,129,6,4517),d(pt,"class","grid grid-flow-row gap-2"),h(pt,$,127,4,4426),h(Ot,$,143,8,4929),d(ht,"type","text"),ht.required=!0,d(ht,"class","input p-2"),h(ht,$,144,8,4975),d(wt,"class","label"),h(wt,$,142,6,4899),d(yt,"class","grid grid-flow-row gap-2"),h(yt,$,141,4,4854),d(xt,"class","grid grid-flow-row gap-2"),h(xt,$,151,4,5242),d(It,"class","btn variant-ghost-primary"),d(It,"type","submit"),h(It,$,209,6,7179),h(Ht,$,208,4,7167),d(n,"class","grid grid-flow-row gap-6"),h(n,$,71,2,2259),h(t,$,70,0,2241)},m:function(C,b){X(C,t,b),a(t,n),a(n,l),a(l,o),a(o,s),a(s,r),a(o,f),a(o,w),rt(w,e[4].name),a(l,y),ct(S,l,null),a(n,E),a(n,I),a(I,v),a(v,z),a(z,T),a(v,J),a(v,R),rt(R,e[4].mod_reference),a(v,F),Q&&Q.m(v,null),a(I,tt),ct(A,I,null),a(n,et),a(n,V),a(V,it),a(it,ft),a(ft,k),a(it,B),a(it,U),rt(U,e[4].short_description),a(V,L),ct(K,V,null),a(n,St),a(n,nt),a(nt,u),a(u,dt),a(dt,qt),a(qt,te),a(dt,ye),a(dt,mt),rt(mt,e[4].full_description),a(u,we),ct(_t,u,null),a(nt,xe),a(nt,gt),a(gt,Dt),a(Dt,ee),a(Dt,Ee),a(gt,ke),ot.block.m(gt,ot.anchor=null),ot.mount=()=>gt,ot.anchor=null,a(n,Se),a(n,Rt),ct(bt,Rt,null),a(n,Ve),a(n,pt),a(pt,Vt),a(Vt,ie),a(Vt,Ae),a(pt,Pe),a(pt,$t),a(pt,Me),ct(At,pt,null),a(n,Ie),a(n,yt),a(yt,wt),a(wt,Ot),a(Ot,oe),a(wt,Be),a(wt,ht),rt(ht,e[4].source_url),a(yt,Te),ct(Pt,yt,null),a(n,Ne),a(n,xt),ct(Et,xt,null),a(xt,Re),ct(Mt,xt,null),a(n,Fe),G&&G.m(n,null),a(n,se),a(n,Ht),a(Ht,It),a(It,re),st=!0,Ue||(on=[Nt(w,"input",e[15]),Nt(R,"input",e[16]),Nt(U,"input",e[17]),Nt(mt,"input",e[18]),Nt(ht,"input",e[20]),Qn(e[8].call(null,t))],Ue=!0)},p:function(C,b){e=C,(!st||b[0]&128)&&i!==(i=e[7]("entry.name")+"")&&O(r,i),b[0]&16&&w.value!==e[4].name&&rt(w,e[4].name);const Y={};b[0]&1073741824|b[1]&2&&(Y.$$scope={dirty:b,ctx:e}),S.$set(Y),(!st||b[0]&128)&&x!==(x=e[7]("mod.reference")+"")&&O(T,x),b[0]&16&&R.value!==e[4].mod_reference&&rt(R,e[4].mod_reference),e[2]?Q&&(Q.d(1),Q=null):Q?Q.p(e,b):(Q=Ze(e),Q.c(),Q.m(v,null));const Ft={};b[0]&1073741824|b[1]&2&&(Ft.$$scope={dirty:b,ctx:e}),A.$set(Ft),(!st||b[0]&128)&&q!==(q=e[7]("entry.short-description")+"")&&O(k,q),b[0]&16&&U.value!==e[4].short_description&&rt(U,e[4].short_description);const Ut={};b[0]&1073741824|b[1]&2&&(Ut.$$scope={dirty:b,ctx:e}),K.$set(Ut),(!st||b[0]&128)&&zt!==(zt=e[7]("entry.full-description")+"")&&O(te,zt),b[0]&16&&rt(mt,e[4].full_description);const Jt={};b[0]&1073741824|b[1]&2&&(Jt.$$scope={dirty:b,ctx:e}),_t.$set(Jt),(!st||b[0]&128)&&Yt!==(Yt=e[7]("preview")+"")&&O(ee,Yt),ot.ctx=e,b[0]&64&&ne!==(ne=Ye(e[6]))&&$n(ne,ot)||Wn(ot,e,b);const Ct={};!_e&&b[0]&8&&(_e=!0,Ct.tags=e[3],$e(()=>_e=!1)),bt.$set(Ct),(!st||b[0]&128)&&Gt!==(Gt=e[7]("logo")+"")&&O(ie,Gt);const kt={};b[0]&1073741824|b[1]&2&&(kt.$$scope={dirty:b,ctx:e}),At.$set(kt),(!st||b[0]&128)&&Zt!==(Zt=e[7]("entry.source-url")+"")&&O(oe,Zt),b[0]&16&&ht.value!==e[4].source_url&&rt(ht,e[4].source_url);const Kt={};b[0]&1073741824|b[1]&2&&(Kt.$$scope={dirty:b,ctx:e}),Pt.$set(Kt);const Bt={};b[0]&128|b[1]&2&&(Bt.$$scope={dirty:b,ctx:e}),!De&&b[0]&16&&(De=!0,Bt.checked=e[4].hidden,$e(()=>De=!1)),Et.$set(Bt);const Lt={};b[0]&1073741824|b[1]&2&&(Lt.$$scope={dirty:b,ctx:e}),Mt.$set(Lt),e[2]?G?(G.p(e,b),b[0]&4&&H(G,1)):(G=Je(e),G.c(),H(G,1),G.m(n,se)):G&&(ve(),Z(G,1,1,()=>{G=null}),be()),(!st||b[0]&2)&&O(re,e[1])},i:function(C){st||(H(S.$$.fragment,C),H(A.$$.fragment,C),H(K.$$.fragment,C),H(_t.$$.fragment,C),H(bt.$$.fragment,C),H(At.$$.fragment,C),H(Pt.$$.fragment,C),H(Et.$$.fragment,C),H(Mt.$$.fragment,C),H(G),st=!0)},o:function(C){Z(S.$$.fragment,C),Z(A.$$.fragment,C),Z(K.$$.fragment,C),Z(_t.$$.fragment,C),Z(bt.$$.fragment,C),Z(At.$$.fragment,C),Z(Pt.$$.fragment,C),Z(Et.$$.fragment,C),Z(Mt.$$.fragment,C),Z(G),st=!1},d:function(C){C&&c(t),ut(S),Q&&Q.d(),ut(A),ut(K),ut(_t),ot.block.d(),ot.token=null,ot=null,ut(bt),ut(At),ut(Pt),ut(Et),ut(Mt),G&&G.d(),Ue=!1,ti(on)}};return j("SvelteRegisterBlock",{block:ln,id:en.name,type:"component",source:"",ctx:e}),ln}function li(e,t,n){let l,o,s,i=W,r=()=>(i(),i=ze(y,u=>n(7,s=u)),y);e.$$.on_destroy.push(()=>i());let{$$slots:f={},$$scope:w}=t;Pn("ModForm",f,[]);const{t:y}=pe();He(y,"t"),r();let{onSubmit:S}=t,{initialValues:E={full_description:"",mod_reference:"",name:"",short_description:"",source_url:"",hidden:!1,tagIDs:[],compatibility:{EA:{state:qe.Works,note:""},EXP:{state:qe.Works,note:""}}}}=t,{submitText:I=s("entry.create")}=t,{editing:v=!1}=t,z=[];const{form:x,data:T}=yn({initialValues:E,extend:[wn({schema:Oe}),xn],onSubmit:u=>S(En(u,Oe))});He(T,"data"),Kn(e,T,u=>n(4,o=u));const J=()=>{o.authors.push({role:"editor",user_id:"",key:""}),T.set(o)},R=u=>{o.authors.splice(u,1),T.set(o)};let F=!1;const tt=o.compatibility;e.$$.on_mount.push(function(){S===void 0&&!("onSubmit"in t||e.$$.bound[e.$$.props.onSubmit])&&console.warn("<ModForm> was created without expected prop 'onSubmit'")});const A=["onSubmit","initialValues","submitText","editing"];Object.keys(t).forEach(u=>{!~A.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<ModForm> was created with unknown prop '${u}'`)});function et(){o.name=this.value,T.set(o)}function V(){o.mod_reference=this.value,T.set(o)}function it(){o.short_description=this.value,T.set(o)}function ft(){o.full_description=this.value,T.set(o)}function q(u){z=u,n(3,z),n(4,o)}function k(){o.source_url=this.value,T.set(o)}function B(u){e.$$.not_equal(o.hidden,u)&&(o.hidden=u,T.set(o))}function U(u){F=u,n(5,F)}const L=()=>{je(T,o.compatibility=F?tt:void 0,o)};function K(u){e.$$.not_equal(o.compatibility,u)&&(o.compatibility=u,T.set(o))}function St(u){o.authors[u].user_id=this.value,T.set(o)}const nt=u=>R(u);return e.$$set=u=>{"onSubmit"in u&&n(13,S=u.onSubmit),"initialValues"in u&&n(14,E=u.initialValues),"submitText"in u&&n(1,I=u.submitText),"editing"in u&&n(2,v=u.editing)},e.$capture_state=()=>({createForm:yn,validator:wn,reporter:xn,ValidationMessage:Tt,modSchema:Oe,trimNonSchema:En,markdown:Ye,ModAuthor:Rn,TagList:Mn,CompatibilityState:qe,ModCompatibility:In,getTranslate:pe,SlideToggle:nn,t:y,onSubmit:S,initialValues:E,submitText:I,editing:v,tags:z,form:x,data:T,addAuthor:J,removeAuthor:R,editCompatibility:F,originalCompatibility:tt,preview:l,$data:o,$t:s}),e.$inject_state=u=>{"onSubmit"in u&&n(13,S=u.onSubmit),"initialValues"in u&&n(14,E=u.initialValues),"submitText"in u&&n(1,I=u.submitText),"editing"in u&&n(2,v=u.editing),"tags"in u&&n(3,z=u.tags),"editCompatibility"in u&&n(5,F=u.editCompatibility),"preview"in u&&n(6,l=u.preview)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{if(e.$$.dirty[0]&24){const u=o;u.tags&&(n(3,z=u.tags),delete u.tags),je(T,o.tagIDs=z.map(dt=>dt.id),o)}e.$$.dirty[0]&16&&je(T,o.compatibility=o.compatibility?o.compatibility:void 0,o),e.$$.dirty[0]&20&&(v||delete o.compatibility),e.$$.dirty[0]&16&&n(6,l=o.full_description||"")},[y,I,v,z,o,F,l,s,x,T,J,R,tt,S,E,et,V,it,ft,q,k,B,U,L,K,St,nt]}class hi extends _n{constructor(t){super(t),Vn(this,t,li,en,An,{t:0,onSubmit:13,initialValues:14,submitText:1,editing:2},null,[-1,-1]),j("SvelteRegisterComponent",{component:this,tagName:"ModForm",options:t,id:en.name})}get t(){return this.$$.ctx[0]}set t(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{hi as M};
//# sourceMappingURL=ModForm.65a48994.js.map
