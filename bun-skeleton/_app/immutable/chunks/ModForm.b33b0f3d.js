import{S as _n,i as Vn,s as An,d as L,v as Pn,ar as pe,a0 as Ge,F as pn,G as hn,aj as He,f as gn,n as G,u as K,j as c,x as Xe,e as p,g as h,M as In,N as d,m as g,b as A,W as N,h as v,k as P,X as T,Q as a,Y as q,a7 as $n,y as he,I as ge,aF as nn,a1 as Qn,aG as je,U as vn,J as lt,L as at,a5 as rt,O as ct,Z as Tt,ab as Kn,a8 as ti,T as $e,r as O,p as ve,t as Z,q as be,R as ut,a6 as ei,V as ni,aD as ii,a9 as oi,aa as si}from"./vendor.b1090c37.js";import{o as Qt,s as vt,a as Kt,b as ri,l as li,f as bn,g as ai,V as Nt,c as yn,v as wn,r as xn}from"./forms.4d060c16.js";import{t as En}from"./forms.b57595de.js";import{m as Ye}from"./markdown.ac1eb5f5.js";import{H as kn,t as qe}from"./graphql.fef59309.js";import{T as Bn}from"./TagList.b55b40fe.js";import{M as Mn}from"./ModCompatibilityEdit.81d4b9d7.js";const Oe=Qt({name:vt().min(3).max(32),mod_reference:vt().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:vt().min(16).max(128),full_description:Kt(vt()),logo:Kt(ri().refine(e=>"name"in e&&"size"in e&&"type"in e)),source_url:vt().url().optional().or(li("")),authors:Kt(Qt({role:vt(),user_id:vt()}).array()),compatibility:Kt(Qt({EA:Qt({state:vt(),note:bn()}),EXP:Qt({state:vt(),note:bn()})})),hidden:ai(),tagIDs:Kt(vt().array())}),jt="src/lib/components/mods/ModAuthor.svelte";function Nn(e){let t,n="Unknown User ID";const l={c:function(){t=p("p"),t.textContent=n,this.h()},l:function(r){t=h(r,"P",{class:!0,"data-svelte-h":!0}),In(t)!=="svelte-12dp6bw"&&(t.textContent=n),this.h()},h:function(){d(t,"class","mr-2 whitespace-nowrap"),g(t,jt,33,2,952)},m:function(r,i){G(r,t,i)},p:K,d:function(r){r&&c(t)}};return L("SvelteRegisterBlock",{block:l,id:Nn.name,type:"else",source:"(28:0) {:else}",ctx:e}),l}function Tn(e){let t,n,l,s,r,i,o=e[2].data.getUser.username+"",f;const x={c:function(){t=p("div"),n=p("div"),s=A(),r=p("div"),i=p("span"),f=N(o),this.h()},l:function(k){t=h(k,"DIV",{class:!0});var E=v(t);n=h(E,"DIV",{class:!0,style:!0}),v(n).forEach(c),s=P(E),r=h(E,"DIV",{class:!0});var I=v(r);i=h(I,"SPAN",{class:!0});var b=v(i);f=T(b,o),b.forEach(c),I.forEach(c),E.forEach(c),this.h()},h:function(){d(n,"class","rounded-full bg-cover w-7 h-7"),d(n,"style",l=`background-image: url("${e[2].data.getUser.avatar||He+"/images/no_image.webp"}")`),g(n,jt,25,4,654),d(i,"class","text-yellow-500"),g(i,jt,29,6,855),d(r,"class","grid grid-flow-row"),g(r,jt,28,4,816),d(t,"class","grid grid-flow-col auto-cols-max gap-x-2 mr-2"),g(t,jt,24,2,590)},m:function(k,E){G(k,t,E),a(t,n),a(t,s),a(t,r),a(r,i),a(i,f)},p:function(k,E){E&4&&l!==(l=`background-image: url("${k[2].data.getUser.avatar||He+"/images/no_image.webp"}")`)&&d(n,"style",l),E&4&&o!==(o=k[2].data.getUser.username+"")&&q(f,o)},d:function(k){k&&c(t)}};return L("SvelteRegisterBlock",{block:x,id:Tn.name,type:"if",source:"(19:29) ",ctx:e}),x}function Dn(e){let t,n=e[3]("error.oh-no")+"",l,s,r=e[2].error.message+"",i;const o={c:function(){t=p("p"),l=N(n),s=N("... "),i=N(r),this.h()},l:function(x){t=h(x,"P",{class:!0});var w=v(t);l=T(w,n),s=T(w,"... "),i=T(w,r),w.forEach(c),this.h()},h:function(){d(t,"class","mr-2"),g(t,jt,22,2,493)},m:function(x,w){G(x,t,w),a(t,l),a(t,s),a(t,i)},p:function(x,w){w&8&&n!==(n=x[3]("error.oh-no")+"")&&q(l,n),w&4&&r!==(r=x[2].error.message+"")&&q(i,r)},d:function(x){x&&c(t)}};return L("SvelteRegisterBlock",{block:o,id:Dn.name,type:"if",source:"(17:22) ",ctx:e}),o}function Rn(e){let t,n=e[3]("loading")+"",l,s;const r={c:function(){t=p("p"),l=N(n),s=N("..."),this.h()},l:function(o){t=h(o,"P",{class:!0});var f=v(t);l=T(f,n),s=T(f,"..."),f.forEach(c),this.h()},h:function(){d(t,"class","mr-2"),g(t,jt,20,2,429)},m:function(o,f){G(o,t,f),a(t,l),a(t,s)},p:function(o,f){f&8&&n!==(n=o[3]("loading")+"")&&q(l,n)},d:function(o){o&&c(t)}};return L("SvelteRegisterBlock",{block:r,id:Rn.name,type:"if",source:"(15:0) {#if $user.fetching}",ctx:e}),r}function Ze(e){let t;function n(i,o){return i[2].fetching?Rn:i[2].error?Dn:i[2].data.getUser?Tn:Nn}let l=n(e),s=l(e);const r={c:function(){s.c(),t=gn()},l:function(o){s.l(o),t=gn()},m:function(o,f){s.m(o,f),G(o,t,f)},p:function(o,[f]){l===(l=n(o))&&s?s.p(o,f):(s.d(1),s=l(o),s&&(s.c(),s.m(t.parentNode,t)))},i:K,o:K,d:function(o){o&&c(t),s.d(o)}};return L("SvelteRegisterBlock",{block:r,id:Ze.name,type:"component",source:"",ctx:e}),r}function ci(e,t,n){let l,s,r=K,i=()=>(r(),r=Xe(l,m=>n(2,s=m)),l),o,f=K,x=()=>(f(),f=Xe(I,m=>n(3,o=m)),I);e.$$.on_destroy.push(()=>r()),e.$$.on_destroy.push(()=>f());let{$$slots:w={},$$scope:k}=t;Pn("ModAuthor",w,[]);let{id:E}=t;const{t:I}=pe();Ge(I,"t"),x();const b=pn();e.$$.on_mount.push(function(){E===void 0&&!("id"in t||e.$$.bound[e.$$.props.id])&&console.warn("<ModAuthor> was created without expected prop 'id'")});const z=["id"];return Object.keys(t).forEach(m=>{!~z.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<ModAuthor> was created with unknown prop '${m}'`)}),e.$$set=m=>{"id"in m&&n(4,E=m.id)},e.$capture_state=()=>({queryStore:hn,getContextClient:pn,GetUserDocument:kn,assets:He,getTranslate:pe,id:E,t:I,client:b,user:l,$user:s,$t:o}),e.$inject_state=m=>{"id"in m&&n(4,E=m.id),"user"in m&&i(n(1,l=m.user))},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&16&&i(n(1,l=hn({query:kn,client:b,variables:{user:E}})))},[I,l,s,o,E]}class Fn extends _n{constructor(t){super(t),Vn(this,t,ci,Ze,An,{id:4,t:0}),L("SvelteRegisterComponent",{component:this,tagName:"ModAuthor",options:t,id:Ze.name})}get id(){throw new Error("<ModAuthor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(t){throw new Error("<ModAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[0]}set t(t){throw new Error("<ModAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const $="src/lib/components/mods/ModForm.svelte";function Sn(e,t,n){const l=e.slice();return l[27]=t[n],l[28]=t,l[29]=n,l}function Cn(e){let t,n=(e[30]||"")+"",l;const s={c:function(){t=p("span"),l=N(n),this.h()},l:function(i){t=h(i,"SPAN",{class:!0});var o=v(t);l=T(o,n),o.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),g(t,$,90,8,2573)},m:function(i,o){G(i,t,o),a(t,l)},p:function(i,o){o[0]&1073741824&&n!==(n=(i[30]||"")+"")&&q(l,n)},d:function(i){i&&c(t)}};return L("SvelteRegisterBlock",{block:s,id:Cn.name,type:"slot",source:'(78:6) <ValidationMessage for=\\"name\\" let:messages={message}>',ctx:e}),s}function ze(e){let t,n=e[7]("mod.reference-warning")+"",l;const s={c:function(){t=p("span"),l=N(n),this.h()},l:function(i){t=h(i,"SPAN",{});var o=v(t);l=T(o,n),o.forEach(c),this.h()},h:function(){g(t,$,99,10,2905)},m:function(i,o){G(i,t,o),a(t,l)},p:function(i,o){o[0]&128&&n!==(n=i[7]("mod.reference-warning")+"")&&q(l,n)},d:function(i){i&&c(t)}};return L("SvelteRegisterBlock",{block:s,id:ze.name,type:"if",source:"(87:8) {#if !editing}",ctx:e}),s}function Un(e){let t,n=(e[30]||"")+"",l;const s={c:function(){t=p("span"),l=N(n),this.h()},l:function(i){t=h(i,"SPAN",{class:!0});var o=v(t);l=T(o,n),o.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),g(t,$,103,8,3054)},m:function(i,o){G(i,t,o),a(t,l)},p:function(i,o){o[0]&1073741824&&n!==(n=(i[30]||"")+"")&&q(l,n)},d:function(i){i&&c(t)}};return L("SvelteRegisterBlock",{block:s,id:Un.name,type:"slot",source:'(91:6) <ValidationMessage for=\\"mod_reference\\" let:messages={message}>',ctx:e}),s}function Ln(e){let t,n=(e[30]||"")+"",l;const s={c:function(){t=p("span"),l=N(n),this.h()},l:function(i){t=h(i,"SPAN",{class:!0});var o=v(t);l=T(o,n),o.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),g(t,$,113,8,3463)},m:function(i,o){G(i,t,o),a(t,l)},p:function(i,o){o[0]&1073741824&&n!==(n=(i[30]||"")+"")&&q(l,n)},d:function(i){i&&c(t)}};return L("SvelteRegisterBlock",{block:s,id:Ln.name,type:"slot",source:'(101:6) <ValidationMessage for=\\"short_description\\" let:messages={message}>',ctx:e}),s}function jn(e){let t,n=(e[30]||"")+"",l;const s={c:function(){t=p("span"),l=N(n),this.h()},l:function(i){t=h(i,"SPAN",{class:!0});var o=v(t);l=T(o,n),o.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),g(t,$,124,10,3954)},m:function(i,o){G(i,t,o),a(t,l)},p:function(i,o){o[0]&1073741824&&n!==(n=(i[30]||"")+"")&&q(l,n)},d:function(i){i&&c(t)}};return L("SvelteRegisterBlock",{block:s,id:jn.name,type:"slot",source:'(112:8) <ValidationMessage for=\\"full_description\\" let:messages={message}>',ctx:e}),s}function qn(e){const t={c:K,l:K,m:K,p:K,d:K};return L("SvelteRegisterBlock",{block:t,id:qn.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:e}),t}function On(e){let t,n,l=e[31]+"";const s={c:function(){t=p("div"),n=new oi(!1),this.h()},l:function(i){t=h(i,"DIV",{class:!0});var o=v(t);n=si(o,!1),o.forEach(c),this.h()},h:function(){n.a=null,d(t,"class","markdown-content right s-YtrVF1HCE9t3"),g(t,$,131,10,4249)},m:function(i,o){G(i,t,o),n.m(l,t)},p:function(i,o){o[0]&64&&l!==(l=i[31]+"")&&n.p(l)},d:function(i){i&&c(t)}};return L("SvelteRegisterBlock",{block:s,id:On.name,type:"then",source:'(118:55)            <!-- eslint-disable -->           <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:e}),s}function Gn(e){const t={c:K,l:K,m:K,p:K,d:K};return L("SvelteRegisterBlock",{block:t,id:Gn.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:e}),t}function Hn(e){let t,n=(e[30]||"")+"",l;const s={c:function(){t=p("span"),l=N(n),this.h()},l:function(i){t=h(i,"SPAN",{class:!0});var o=v(t);l=T(o,n),o.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),g(t,$,150,8,4789)},m:function(i,o){G(i,t,o),a(t,l)},p:function(i,o){o[0]&1073741824&&n!==(n=(i[30]||"")+"")&&q(l,n)},d:function(i){i&&c(t)}};return L("SvelteRegisterBlock",{block:s,id:Hn.name,type:"slot",source:'(138:6) <ValidationMessage for=\\"logo\\" let:messages={message}>',ctx:e}),s}function Xn(e){let t,n=(e[30]||"")+"",l;const s={c:function(){t=p("span"),l=N(n),this.h()},l:function(i){t=h(i,"SPAN",{class:!0});var o=v(t);l=T(o,n),o.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),g(t,$,160,8,5177)},m:function(i,o){G(i,t,o),a(t,l)},p:function(i,o){o[0]&1073741824&&n!==(n=(i[30]||"")+"")&&q(l,n)},d:function(i){i&&c(t)}};return L("SvelteRegisterBlock",{block:s,id:Xn.name,type:"slot",source:'(148:6) <ValidationMessage for=\\"source_url\\" let:messages={message}>',ctx:e}),s}function Yn(e){let t=e[7]("entry.hidden")+"",n;const l={c:function(){n=N(t)},l:function(r){n=T(r,t)},m:function(r,i){G(r,n,i)},p:function(r,i){i[0]&128&&t!==(t=r[7]("entry.hidden")+"")&&q(n,t)},d:function(r){r&&c(n)}};return L("SvelteRegisterBlock",{block:l,id:Yn.name,type:"slot",source:'(154:6) <SlideToggle name=\\"slider-label\\" bind:checked={$data.hidden}>',ctx:e}),l}function Zn(e){let t,n=(e[30]||"")+"",l;const s={c:function(){t=p("span"),l=N(n),this.h()},l:function(i){t=h(i,"SPAN",{class:!0});var o=v(t);l=T(o,n),o.forEach(c),this.h()},h:function(){d(t,"class","validation-message"),g(t,$,169,8,5503)},m:function(i,o){G(i,t,o),a(t,l)},p:function(i,o){o[0]&1073741824&&n!==(n=(i[30]||"")+"")&&q(l,n)},d:function(i){i&&c(t)}};return L("SvelteRegisterBlock",{block:s,id:Zn.name,type:"slot",source:'(157:6) <ValidationMessage for=\\"hidden\\" let:messages={message}>',ctx:e}),s}function We(e){let t,n,l,s,r,i,o,f,x=e[7]("authors")+"",w,k,E,I,b=e[7]("add")+"",z,m,X,W,D;function R(j){e[22](j)}let tt={name:"slider-label",$$slots:{default:[zn]},$$scope:{ctx:e}};e[5]!==void 0&&(tt.checked=e[5]),n=new nn({props:tt,$$inline:!0}),he.push(()=>ge(n,"checked",R)),n.$on("change",e[23]);let M=e[5]&&Je(e),nt=vn(e[4].authors),V=[];for(let j=0;j<nt.length;j+=1)V[j]=tn(Sn(e,nt,j));const it=j=>Z(V[j],1,1,()=>{V[j]=null}),ft={c:function(){t=p("div"),lt(n.$$.fragment),s=A(),M&&M.c(),r=A(),i=p("div"),o=p("div"),f=p("h4"),w=N(x),k=A(),E=p("button"),I=p("span"),z=N(b),m=A();for(let S=0;S<V.length;S+=1)V[S].c();this.h()},l:function(S){t=h(S,"DIV",{});var B=v(t);at(n.$$.fragment,B),B.forEach(c),s=P(S),M&&M.l(S),r=P(S),i=h(S,"DIV",{class:!0});var F=v(i);o=h(F,"DIV",{class:!0});var U=v(o);f=h(U,"H4",{class:!0});var J=v(f);w=T(J,x),J.forEach(c),k=P(U),E=h(U,"BUTTON",{class:!0,type:!0});var St=v(E);I=h(St,"SPAN",{});var et=v(I);z=T(et,b),et.forEach(c),St.forEach(c),U.forEach(c),m=P(F);for(let u=0;u<V.length;u+=1)V[u].l(F);F.forEach(c),this.h()},h:function(){g(t,$,173,6,5621),d(f,"class","mr-4"),g(f,$,190,10,6144),g(I,$,192,12,6282),d(E,"class","btn variant-ghost-primary"),d(E,"type","button"),g(E,$,191,10,6192),d(o,"class","flex items-center"),g(o,$,189,8,6102),d(i,"class","grid grid-flow-row gap-2"),g(i,$,188,6,6055)},m:function(S,B){G(S,t,B),ct(n,t,null),G(S,s,B),M&&M.m(S,B),G(S,r,B),G(S,i,B),a(i,o),a(o,f),a(f,w),a(o,k),a(o,E),a(E,I),a(I,z),a(i,m);for(let F=0;F<V.length;F+=1)V[F]&&V[F].m(i,null);X=!0,W||(D=Tt(E,"click",e[10],!1,!1,!1,!1),W=!0)},p:function(S,B){const F={};if(B[0]&128|B[1]&2&&(F.$$scope={dirty:B,ctx:S}),!l&&B[0]&32&&(l=!0,F.checked=S[5],$e(()=>l=!1)),n.$set(F),S[5]?M?(M.p(S,B),B[0]&32&&O(M,1)):(M=Je(S),M.c(),O(M,1),M.m(r.parentNode,r)):M&&(ve(),Z(M,1,1,()=>{M=null}),be()),(!X||B[0]&128)&&x!==(x=S[7]("authors")+"")&&q(w,x),(!X||B[0]&128)&&b!==(b=S[7]("add")+"")&&q(z,b),B[0]&2192){nt=vn(S[4].authors);let U;for(U=0;U<nt.length;U+=1){const J=Sn(S,nt,U);V[U]?(V[U].p(J,B),O(V[U],1)):(V[U]=tn(J),V[U].c(),O(V[U],1),V[U].m(i,null))}for(ve(),U=nt.length;U<V.length;U+=1)it(U);be()}},i:function(S){if(!X){O(n.$$.fragment,S),O(M);for(let B=0;B<nt.length;B+=1)O(V[B]);X=!0}},o:function(S){Z(n.$$.fragment,S),Z(M),V=V.filter(Boolean);for(let B=0;B<V.length;B+=1)Z(V[B]);X=!1},d:function(S){S&&(c(t),c(s),c(r),c(i)),ut(n),M&&M.d(S),ni(V,S),W=!1,D()}};return L("SvelteRegisterBlock",{block:ft,id:We.name,type:"if",source:"(161:4) {#if editing}",ctx:e}),ft}function zn(e){let t=e[7]("compatibility-info.edit")+"",n;const l={c:function(){n=N(t)},l:function(r){n=T(r,t)},m:function(r,i){G(r,n,i)},p:function(r,i){i[0]&128&&t!==(t=r[7]("compatibility-info.edit")+"")&&q(n,t)},d:function(r){r&&c(n)}};return L("SvelteRegisterBlock",{block:l,id:zn.name,type:"slot",source:'(163:8) <SlideToggle           name=\\"slider-label\\"           bind:checked={editCompatibility}           on:change={() => {             $data.compatibility = editCompatibility ? originalCompatibility : undefined;           }}>',ctx:e}),l}function Je(e){let t,n,l;function s(o){e[24](o)}let r={};e[4].compatibility!==void 0&&(r.compatibilityInfo=e[4].compatibility),t=new Mn({props:r,$$inline:!0}),he.push(()=>ge(t,"compatibilityInfo",s));const i={c:function(){lt(t.$$.fragment)},l:function(f){at(t.$$.fragment,f)},m:function(f,x){ct(t,f,x),l=!0},p:function(f,x){const w={};!n&&x[0]&16&&(n=!0,w.compatibilityInfo=f[4].compatibility,$e(()=>n=!1)),t.$set(w)},i:function(f){l||(O(t.$$.fragment,f),l=!0)},o:function(f){Z(t.$$.fragment,f),l=!1},d:function(f){ut(t,f)}};return L("SvelteRegisterBlock",{block:i,id:Je.name,type:"if",source:"(173:6) {#if editCompatibility}",ctx:e}),i}function Qe(e){let t,n,l;n=new Fn({props:{id:e[4].authors[e[29]].user_id},$$inline:!0});const s={c:function(){t=p("div"),lt(n.$$.fragment),this.h()},l:function(i){t=h(i,"DIV",{class:!0});var o=v(t);at(n.$$.fragment,o),o.forEach(c),this.h()},h:function(){d(t,"class","p-2"),g(t,$,198,14,6481)},m:function(i,o){G(i,t,o),ct(n,t,null),l=!0},p:function(i,o){const f={};o[0]&16&&(f.id=i[4].authors[i[29]].user_id),n.$set(f)},i:function(i){l||(O(n.$$.fragment,i),l=!0)},o:function(i){Z(n.$$.fragment,i),l=!1},d:function(i){i&&c(t),ut(n)}};return L("SvelteRegisterBlock",{block:s,id:Qe.name,type:"if",source:"(186:12) {#if $data.authors[i].user_id}",ctx:e}),s}function Ke(e){let t,n,l=e[7]("remove")+"",s,r,i;function o(){return e[26](e[29])}const f={c:function(){t=p("button"),n=p("span"),s=N(l),this.h()},l:function(w){t=h(w,"BUTTON",{class:!0,type:!0});var k=v(t);n=h(k,"SPAN",{});var E=v(n);s=T(E,l),E.forEach(c),k.forEach(c),this.h()},h:function(){g(n,$,213,16,7070),d(t,"class","btn variant-ghost-primary"),d(t,"type","button"),g(t,$,212,14,6964)},m:function(w,k){G(w,t,k),a(t,n),a(n,s),r||(i=Tt(t,"click",o,!1,!1,!1,!1),r=!0)},p:function(w,k){e=w,k[0]&128&&l!==(l=e[7]("remove")+"")&&q(s,l)},d:function(w){w&&c(t),r=!1,i()}};return L("SvelteRegisterBlock",{block:f,id:Ke.name,type:"if",source:"(200:12) {#if author.role !== 'creator'}",ctx:e}),f}function tn(e){let t,n,l,s,r="User ID",i,o,f,x,w,k,E,I,b=e[4].authors[e[29]].user_id&&Qe(e);function z(){e[25].call(o,e[29])}let m=e[27].role!=="creator"&&Ke(e);const X={c:function(){t=p("div"),b&&b.c(),n=A(),l=p("label"),s=p("span"),s.textContent=r,i=A(),o=p("input"),x=A(),m&&m.c(),w=A(),this.h()},l:function(D){t=h(D,"DIV",{class:!0});var R=v(t);b&&b.l(R),n=P(R),l=h(R,"LABEL",{class:!0});var tt=v(l);s=h(tt,"SPAN",{"data-svelte-h":!0}),In(s)!=="svelte-5fmcbq"&&(s.textContent=r),i=P(tt),o=h(tt,"INPUT",{type:!0,class:!0}),tt.forEach(c),x=P(R),m&&m.l(R),w=P(R),R.forEach(c),this.h()},h:function(){g(s,$,203,14,6646),d(o,"type","text"),o.required=!0,d(o,"class","input p-2"),o.disabled=f=e[27].role==="creator",g(o,$,204,14,6681),d(l,"class","label"),g(l,$,202,12,6610),d(t,"class","flex items-end"),g(t,$,196,10,6395)},m:function(D,R){G(D,t,R),b&&b.m(t,null),a(t,n),a(t,l),a(l,s),a(l,i),a(l,o),rt(o,e[4].authors[e[29]].user_id),a(t,x),m&&m.m(t,null),a(t,w),k=!0,E||(I=Tt(o,"input",z),E=!0)},p:function(D,R){e=D,e[4].authors[e[29]].user_id?b?(b.p(e,R),R[0]&16&&O(b,1)):(b=Qe(e),b.c(),O(b,1),b.m(t,n)):b&&(ve(),Z(b,1,1,()=>{b=null}),be()),(!k||R[0]&16&&f!==(f=e[27].role==="creator"))&&ii(o,"disabled",f),R[0]&16&&o.value!==e[4].authors[e[29]].user_id&&rt(o,e[4].authors[e[29]].user_id),e[27].role!=="creator"?m?m.p(e,R):(m=Ke(e),m.c(),m.m(t,w)):m&&(m.d(1),m=null)},i:function(D){k||(O(b),k=!0)},o:function(D){Z(b),k=!1},d:function(D){D&&c(t),b&&b.d(),m&&m.d(),E=!1,I()}};return L("SvelteRegisterBlock",{block:X,id:tn.name,type:"each",source:"(184:8) {#each $data.authors as author, i}",ctx:e}),X}function en(e){let t,n,l,s,r,i=e[7]("entry.name")+"",o,f,x,w,k,E,I,b,z,m=e[7]("mod.reference")+"",X,W,D,R,tt,M,nt,V,it,ft,j=e[7]("entry.short-description")+"",S,B,F,U,J,St,et,u,dt,qt,Xt=e[7]("entry.full-description")+"",te,ye,mt,we,_t,xe,gt,Dt,Yt=e[7]("preview")+"",ee,Ee,ke,ne,Se,Rt,bt,_e,Ve,pt,Vt,Zt=e[7]("logo")+"",ie,Ae,Pe,$t,Ie,At,Be,yt,wt,Ot,zt=e[7]("entry.source-url")+"",oe,Me,ht,Ne,Pt,Te,xt,Et,De,Re,It,Fe,se,Gt,Bt,re,st,Ce,on;k=new Nt({props:{for:"name",$$slots:{default:[Cn,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0});let Q=!e[2]&&ze(e);M=new Nt({props:{for:"mod_reference",$$slots:{default:[Un,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0}),J=new Nt({props:{for:"short_description",$$slots:{default:[Ln,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0}),_t=new Nt({props:{for:"full_description",$$slots:{default:[jn,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0});let ot={ctx:e,current:null,token:null,hasCatch:!1,pending:Gn,then:On,catch:qn,value:31};$n(ne=Ye(e[6]),ot);function Wn(_){e[19](_)}let sn={editable:!0};e[3]!==void 0&&(sn.tags=e[3]),bt=new Bn({props:sn,$$inline:!0}),he.push(()=>ge(bt,"tags",Wn)),At=new Nt({props:{for:"logo",$$slots:{default:[Hn,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0}),Pt=new Nt({props:{for:"source_url",$$slots:{default:[Xn,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0});function Jn(_){e[21](_)}let rn={name:"slider-label",$$slots:{default:[Yn]},$$scope:{ctx:e}};e[4].hidden!==void 0&&(rn.checked=e[4].hidden),Et=new nn({props:rn,$$inline:!0}),he.push(()=>ge(Et,"checked",Jn)),It=new Nt({props:{for:"hidden",$$slots:{default:[Zn,({messages:_})=>({30:_}),({messages:_})=>[_?1073741824:0]]},$$scope:{ctx:e}},$$inline:!0});let Y=e[2]&&We(e);const ln={c:function(){t=p("form"),n=p("div"),l=p("div"),s=p("label"),r=p("span"),o=N(i),f=A(),x=p("input"),w=A(),lt(k.$$.fragment),E=A(),I=p("div"),b=p("label"),z=p("span"),X=N(m),W=A(),D=p("input"),R=A(),Q&&Q.c(),tt=A(),lt(M.$$.fragment),nt=A(),V=p("div"),it=p("label"),ft=p("span"),S=N(j),B=A(),F=p("input"),U=A(),lt(J.$$.fragment),St=A(),et=p("div"),u=p("div"),dt=p("label"),qt=p("span"),te=N(Xt),ye=A(),mt=p("textarea"),we=A(),lt(_t.$$.fragment),xe=A(),gt=p("div"),Dt=p("span"),ee=N(Yt),Ee=N(":"),ke=A(),ot.block.c(),Se=A(),Rt=p("div"),lt(bt.$$.fragment),Ve=A(),pt=p("div"),Vt=p("label"),ie=N(Zt),Ae=N(":"),Pe=A(),$t=p("input"),Ie=A(),lt(At.$$.fragment),Be=A(),yt=p("div"),wt=p("label"),Ot=p("span"),oe=N(zt),Me=A(),ht=p("input"),Ne=A(),lt(Pt.$$.fragment),Te=A(),xt=p("div"),lt(Et.$$.fragment),Re=A(),lt(It.$$.fragment),Fe=A(),Y&&Y.c(),se=A(),Gt=p("div"),Bt=p("button"),re=N(e[1]),this.h()},l:function(C){t=h(C,"FORM",{});var y=v(t);n=h(y,"DIV",{class:!0});var H=v(n);l=h(H,"DIV",{class:!0});var Ft=v(l);s=h(Ft,"LABEL",{class:!0});var Ct=v(s);r=h(Ct,"SPAN",{});var Wt=v(r);o=T(Wt,i),Wt.forEach(c),f=P(Ct),x=h(Ct,"INPUT",{type:!0,class:!0}),Ct.forEach(c),w=P(Ft),at(k.$$.fragment,Ft),Ft.forEach(c),E=P(H),I=h(H,"DIV",{class:!0});var Ut=v(I);b=h(Ut,"LABEL",{class:!0});var kt=v(b);z=h(kt,"SPAN",{});var Jt=v(z);X=T(Jt,m),Jt.forEach(c),W=P(kt),D=h(kt,"INPUT",{type:!0,class:!0}),R=P(kt),Q&&Q.l(kt),kt.forEach(c),tt=P(Ut),at(M.$$.fragment,Ut),Ut.forEach(c),nt=P(H),V=h(H,"DIV",{class:!0});var Mt=v(V);it=h(Mt,"LABEL",{class:!0});var Lt=v(it);ft=h(Lt,"SPAN",{});var an=v(ft);S=T(an,j),an.forEach(c),B=P(Lt),F=h(Lt,"INPUT",{type:!0,class:!0}),Lt.forEach(c),U=P(Mt),at(J.$$.fragment,Mt),Mt.forEach(c),St=P(H),et=h(H,"DIV",{class:!0});var le=v(et);u=h(le,"DIV",{class:!0});var ae=v(u);dt=h(ae,"LABEL",{class:!0});var ce=v(dt);qt=h(ce,"SPAN",{});var cn=v(qt);te=T(cn,Xt),cn.forEach(c),ye=P(ce),mt=h(ce,"TEXTAREA",{class:!0,rows:!0}),v(mt).forEach(c),ce.forEach(c),we=P(ae),at(_t.$$.fragment,ae),ae.forEach(c),xe=P(le),gt=h(le,"DIV",{class:!0});var ue=v(gt);Dt=h(ue,"SPAN",{});var Ue=v(Dt);ee=T(Ue,Yt),Ee=T(Ue,":"),Ue.forEach(c),ke=P(ue),ot.block.l(ue),ue.forEach(c),le.forEach(c),Se=P(H),Rt=h(H,"DIV",{class:!0});var un=v(Rt);at(bt.$$.fragment,un),un.forEach(c),Ve=P(H),pt=h(H,"DIV",{class:!0});var Ht=v(pt);Vt=h(Ht,"LABEL",{for:!0});var Le=v(Vt);ie=T(Le,Zt),Ae=T(Le,":"),Le.forEach(c),Pe=P(Ht),$t=h(Ht,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Ie=P(Ht),at(At.$$.fragment,Ht),Ht.forEach(c),Be=P(H),yt=h(H,"DIV",{class:!0});var fe=v(yt);wt=h(fe,"LABEL",{class:!0});var de=v(wt);Ot=h(de,"SPAN",{});var fn=v(Ot);oe=T(fn,zt),fn.forEach(c),Me=P(de),ht=h(de,"INPUT",{type:!0,class:!0}),de.forEach(c),Ne=P(fe),at(Pt.$$.fragment,fe),fe.forEach(c),Te=P(H),xt=h(H,"DIV",{class:!0});var me=v(xt);at(Et.$$.fragment,me),Re=P(me),at(It.$$.fragment,me),me.forEach(c),Fe=P(H),Y&&Y.l(H),se=P(H),Gt=h(H,"DIV",{});var dn=v(Gt);Bt=h(dn,"BUTTON",{class:!0,type:!0});var mn=v(Bt);re=T(mn,e[1]),mn.forEach(c),dn.forEach(c),H.forEach(c),y.forEach(c),this.h()},h:function(){g(r,$,86,8,2377),d(x,"type","text"),x.required=!0,d(x,"class","input p-2"),g(x,$,87,8,2417),d(s,"class","label"),g(s,$,85,6,2347),d(l,"class","grid grid-flow-row gap-2"),g(l,$,84,4,2302),g(z,$,96,8,2747),d(D,"type","text"),D.required=!0,d(D,"class","input p-2"),g(D,$,97,8,2790),d(b,"class","label"),g(b,$,95,6,2717),d(I,"class","grid grid-flow-row gap-2"),g(I,$,94,4,2672),g(ft,$,109,8,3228),d(F,"type","text"),F.required=!0,d(F,"class","input p-2"),g(F,$,110,8,3281),d(it,"class","label"),g(it,$,108,6,3198),d(V,"class","grid grid-flow-row gap-2"),g(V,$,107,4,3153),g(qt,$,120,10,3692),d(mt,"class","vertical-textarea textarea p-2"),mt.required=!0,d(mt,"rows",10),g(mt,$,121,10,3746),d(dt,"class","label"),g(dt,$,119,8,3660),d(u,"class","grid grid-flow-row gap-2 auto-rows-max"),g(u,$,118,6,3599),g(Dt,$,128,8,4119),d(gt,"class","grid grid-flow-row gap-2 auto-rows-max"),g(gt,$,127,6,4058),d(et,"class","grid gap-6 split s-YtrVF1HCE9t3"),g(et,$,117,4,3562),d(Rt,"class","grid grid-flow-row gap-2"),g(Rt,$,136,4,4361),d(Vt,"for","logo"),g(Vt,$,141,6,4505),d($t,"id","logo"),d($t,"class","base-input"),d($t,"name","logo"),d($t,"type","file"),d($t,"accept","image/png,image/jpeg,image/gif"),d($t,"placeholder","Logo"),g($t,$,142,6,4551),d(pt,"class","grid grid-flow-row gap-2"),g(pt,$,140,4,4460),g(Ot,$,156,8,4963),d(ht,"type","text"),ht.required=!0,d(ht,"class","input p-2"),g(ht,$,157,8,5009),d(wt,"class","label"),g(wt,$,155,6,4933),d(yt,"class","grid grid-flow-row gap-2"),g(yt,$,154,4,4888),d(xt,"class","grid grid-flow-row gap-2"),g(xt,$,164,4,5276),d(Bt,"class","btn variant-ghost-primary"),d(Bt,"type","submit"),g(Bt,$,222,6,7213),g(Gt,$,221,4,7201),d(n,"class","grid grid-flow-row gap-6"),g(n,$,83,2,2259),g(t,$,82,0,2241)},m:function(C,y){G(C,t,y),a(t,n),a(n,l),a(l,s),a(s,r),a(r,o),a(s,f),a(s,x),rt(x,e[4].name),a(l,w),ct(k,l,null),a(n,E),a(n,I),a(I,b),a(b,z),a(z,X),a(b,W),a(b,D),rt(D,e[4].mod_reference),a(b,R),Q&&Q.m(b,null),a(I,tt),ct(M,I,null),a(n,nt),a(n,V),a(V,it),a(it,ft),a(ft,S),a(it,B),a(it,F),rt(F,e[4].short_description),a(V,U),ct(J,V,null),a(n,St),a(n,et),a(et,u),a(u,dt),a(dt,qt),a(qt,te),a(dt,ye),a(dt,mt),rt(mt,e[4].full_description),a(u,we),ct(_t,u,null),a(et,xe),a(et,gt),a(gt,Dt),a(Dt,ee),a(Dt,Ee),a(gt,ke),ot.block.m(gt,ot.anchor=null),ot.mount=()=>gt,ot.anchor=null,a(n,Se),a(n,Rt),ct(bt,Rt,null),a(n,Ve),a(n,pt),a(pt,Vt),a(Vt,ie),a(Vt,Ae),a(pt,Pe),a(pt,$t),a(pt,Ie),ct(At,pt,null),a(n,Be),a(n,yt),a(yt,wt),a(wt,Ot),a(Ot,oe),a(wt,Me),a(wt,ht),rt(ht,e[4].source_url),a(yt,Ne),ct(Pt,yt,null),a(n,Te),a(n,xt),ct(Et,xt,null),a(xt,Re),ct(It,xt,null),a(n,Fe),Y&&Y.m(n,null),a(n,se),a(n,Gt),a(Gt,Bt),a(Bt,re),st=!0,Ce||(on=[Tt(x,"input",e[15]),Tt(D,"input",e[16]),Tt(F,"input",e[17]),Tt(mt,"input",e[18]),Tt(ht,"input",e[20]),Kn(e[8].call(null,t))],Ce=!0)},p:function(C,y){e=C,(!st||y[0]&128)&&i!==(i=e[7]("entry.name")+"")&&q(o,i),y[0]&16&&x.value!==e[4].name&&rt(x,e[4].name);const H={};y[0]&1073741824|y[1]&2&&(H.$$scope={dirty:y,ctx:e}),k.$set(H),(!st||y[0]&128)&&m!==(m=e[7]("mod.reference")+"")&&q(X,m),y[0]&16&&D.value!==e[4].mod_reference&&rt(D,e[4].mod_reference),e[2]?Q&&(Q.d(1),Q=null):Q?Q.p(e,y):(Q=ze(e),Q.c(),Q.m(b,null));const Ft={};y[0]&1073741824|y[1]&2&&(Ft.$$scope={dirty:y,ctx:e}),M.$set(Ft),(!st||y[0]&128)&&j!==(j=e[7]("entry.short-description")+"")&&q(S,j),y[0]&16&&F.value!==e[4].short_description&&rt(F,e[4].short_description);const Ct={};y[0]&1073741824|y[1]&2&&(Ct.$$scope={dirty:y,ctx:e}),J.$set(Ct),(!st||y[0]&128)&&Xt!==(Xt=e[7]("entry.full-description")+"")&&q(te,Xt),y[0]&16&&rt(mt,e[4].full_description);const Wt={};y[0]&1073741824|y[1]&2&&(Wt.$$scope={dirty:y,ctx:e}),_t.$set(Wt),(!st||y[0]&128)&&Yt!==(Yt=e[7]("preview")+"")&&q(ee,Yt),ot.ctx=e,y[0]&64&&ne!==(ne=Ye(e[6]))&&$n(ne,ot)||ti(ot,e,y);const Ut={};!_e&&y[0]&8&&(_e=!0,Ut.tags=e[3],$e(()=>_e=!1)),bt.$set(Ut),(!st||y[0]&128)&&Zt!==(Zt=e[7]("logo")+"")&&q(ie,Zt);const kt={};y[0]&1073741824|y[1]&2&&(kt.$$scope={dirty:y,ctx:e}),At.$set(kt),(!st||y[0]&128)&&zt!==(zt=e[7]("entry.source-url")+"")&&q(oe,zt),y[0]&16&&ht.value!==e[4].source_url&&rt(ht,e[4].source_url);const Jt={};y[0]&1073741824|y[1]&2&&(Jt.$$scope={dirty:y,ctx:e}),Pt.$set(Jt);const Mt={};y[0]&128|y[1]&2&&(Mt.$$scope={dirty:y,ctx:e}),!De&&y[0]&16&&(De=!0,Mt.checked=e[4].hidden,$e(()=>De=!1)),Et.$set(Mt);const Lt={};y[0]&1073741824|y[1]&2&&(Lt.$$scope={dirty:y,ctx:e}),It.$set(Lt),e[2]?Y?(Y.p(e,y),y[0]&4&&O(Y,1)):(Y=We(e),Y.c(),O(Y,1),Y.m(n,se)):Y&&(ve(),Z(Y,1,1,()=>{Y=null}),be()),(!st||y[0]&2)&&q(re,e[1])},i:function(C){st||(O(k.$$.fragment,C),O(M.$$.fragment,C),O(J.$$.fragment,C),O(_t.$$.fragment,C),O(bt.$$.fragment,C),O(At.$$.fragment,C),O(Pt.$$.fragment,C),O(Et.$$.fragment,C),O(It.$$.fragment,C),O(Y),st=!0)},o:function(C){Z(k.$$.fragment,C),Z(M.$$.fragment,C),Z(J.$$.fragment,C),Z(_t.$$.fragment,C),Z(bt.$$.fragment,C),Z(At.$$.fragment,C),Z(Pt.$$.fragment,C),Z(Et.$$.fragment,C),Z(It.$$.fragment,C),Z(Y),st=!1},d:function(C){C&&c(t),ut(k),Q&&Q.d(),ut(M),ut(J),ut(_t),ot.block.d(),ot.token=null,ot=null,ut(bt),ut(At),ut(Pt),ut(Et),ut(It),Y&&Y.d(),Ce=!1,ei(on)}};return L("SvelteRegisterBlock",{block:ln,id:en.name,type:"component",source:"",ctx:e}),ln}function ui(e,t,n){let l,s,r,i=K,o=()=>(i(),i=Xe(w,u=>n(7,r=u)),w);e.$$.on_destroy.push(()=>i());let{$$slots:f={},$$scope:x}=t;Pn("ModForm",f,[]);const{t:w}=pe();Ge(w,"t"),o();let{onSubmit:k}=t,{initialValues:E={full_description:"",mod_reference:"",name:"",short_description:"",source_url:"",hidden:!1,tagIDs:[],compatibility:{EA:{state:qe.Works,note:""},EXP:{state:qe.Works,note:""}}}}=t,{submitText:I=r("entry.create")}=t,{editing:b=!1}=t;const{form:z,data:m}=yn({initialValues:E,extend:[wn({schema:Oe}),xn],onSubmit:u=>k(En(u,Oe))});Ge(m,"data"),Qn(e,m,u=>n(4,s=u));let X=[];const W=()=>{s.authors.push({role:"editor",user_id:"",key:""}),m.set(s)},D=u=>{s.authors.splice(u,1),m.set(s)};let R=!1;const tt=s.compatibility;e.$$.on_mount.push(function(){k===void 0&&!("onSubmit"in t||e.$$.bound[e.$$.props.onSubmit])&&console.warn("<ModForm> was created without expected prop 'onSubmit'")});const M=["onSubmit","initialValues","submitText","editing"];Object.keys(t).forEach(u=>{!~M.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<ModForm> was created with unknown prop '${u}'`)});function nt(){s.name=this.value,m.set(s)}function V(){s.mod_reference=this.value,m.set(s)}function it(){s.short_description=this.value,m.set(s)}function ft(){s.full_description=this.value,m.set(s)}function j(u){X=u,n(3,X),n(4,s)}function S(){s.source_url=this.value,m.set(s)}function B(u){e.$$.not_equal(s.hidden,u)&&(s.hidden=u,m.set(s))}function F(u){R=u,n(5,R)}const U=()=>{je(m,s.compatibility=R?tt:void 0,s)};function J(u){e.$$.not_equal(s.compatibility,u)&&(s.compatibility=u,m.set(s))}function St(u){s.authors[u].user_id=this.value,m.set(s)}const et=u=>D(u);return e.$$set=u=>{"onSubmit"in u&&n(13,k=u.onSubmit),"initialValues"in u&&n(14,E=u.initialValues),"submitText"in u&&n(1,I=u.submitText),"editing"in u&&n(2,b=u.editing)},e.$capture_state=()=>({createForm:yn,validator:wn,reporter:xn,ValidationMessage:Nt,modSchema:Oe,trimNonSchema:En,markdown:Ye,ModAuthor:Fn,TagList:Bn,CompatibilityState:qe,ModCompatibility:Mn,getTranslate:pe,SlideToggle:nn,t:w,onSubmit:k,initialValues:E,submitText:I,editing:b,form:z,data:m,tags:X,addAuthor:W,removeAuthor:D,editCompatibility:R,originalCompatibility:tt,preview:l,$data:s,$t:r}),e.$inject_state=u=>{"onSubmit"in u&&n(13,k=u.onSubmit),"initialValues"in u&&n(14,E=u.initialValues),"submitText"in u&&n(1,I=u.submitText),"editing"in u&&n(2,b=u.editing),"tags"in u&&n(3,X=u.tags),"editCompatibility"in u&&n(5,R=u.editCompatibility),"preview"in u&&n(6,l=u.preview)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{if(e.$$.dirty[0]&24){const u=s;u.tags&&(n(3,X=u.tags),delete u.tags),je(m,s.tagIDs=X.map(dt=>dt.id),s)}e.$$.dirty[0]&16&&je(m,s.compatibility=s.compatibility?s.compatibility:void 0,s),e.$$.dirty[0]&20&&(b||delete s.compatibility),e.$$.dirty[0]&16&&n(6,l=s.full_description||"")},[w,I,b,X,s,R,l,r,z,m,W,D,tt,k,E,nt,V,it,ft,j,S,B,F,U,J,St,et]}class vi extends _n{constructor(t){super(t),Vn(this,t,ui,en,An,{t:0,onSubmit:13,initialValues:14,submitText:1,editing:2},null,[-1,-1]),L("SvelteRegisterComponent",{component:this,tagName:"ModForm",options:t,id:en.name})}get t(){return this.$$.ctx[0]}set t(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<ModForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(t){throw new Error("<ModForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{vi as M};
//# sourceMappingURL=ModForm.b33b0f3d.js.map
