import{S as Ot,i as Mt,s as It,d as L,a7 as ot,v as _t,ak as lt,a1 as De,a2 as rt,w as ct,U as ke,e as $,W as k,b as j,J as Le,g as w,h as V,X as R,j as d,k as F,M as he,L as ze,m as S,a5 as me,N as A,am as Ct,n as I,Q as c,an as at,O as Ge,Z as ft,ab as Dt,Y as M,r as re,p as Lt,t as de,q as zt,a8 as Gt,ax as Ut,R as Ue,a6 as Wt,u as J,x as qt,ao as Qt,f as ut,V as yt,a9 as Ht,aa as Jt}from"./vendor.e64de9a4.js";import{o as Kt,a as Xt,b as Yt,e as mt,s as dt,V as Re,c as ht,v as pt,r as gt}from"./forms.b31f694b.js";import{J as Zt}from"./jszip.51351a8d.js";import{v as en}from"./uplugin.950f199e.js";import{t as vt}from"./forms.ff663c7a.js";import{m as We}from"./markdown.4d5b68b9.js";import{V as bt}from"./graphql.fef59309.js";import{b as qe}from"./formatting.6f84ef8f.js";const tn=async(n,e,t)=>e.async("string").then(async s=>{const r=await en(s);if(r.length!=0)return{message:`invalid ${t}.uplugin`,extended:r};const l=JSON.parse(s);let i=!1;for(const o of l.Plugins)if(o.Name==="SML"){i=!0;break}return i?{uplugin:l,objects:Object.keys(n.files).filter(o=>o.endsWith(".so")||o.endsWith(".dll")||o.endsWith(".pak"))}:{message:"mod must depend on SML"}}).catch(s=>({message:`invalid ${t}.uplugin: ${s}`})),nn=async(n,e)=>new Zt().loadAsync(n).then(s=>{const r=s.file("WindowsNoEditor/"+e+".uplugin");return r?tn(s,r,e):{message:"WindowsNoEditor/"+e+".uplugin missing from mod"}}).catch(s=>({message:"invalid zip/smod file: "+s})),$t=(n,e)=>Kt({file:Xt(Yt().superRefine(async(t,s)=>{if(!("name"in t&&"size"in t&&"type"in t)){s.addIssue({message:"Unknown file error",code:mt.custom});return}const r=await nn(t,n);if("message"in r){s.addIssue({message:r.message,code:mt.custom});return}e.set(r)})),changelog:dt(),stability:dt()});const y="src/lib/components/versions/VersionForm.svelte";function wt(n,e,t){const s=n.slice();return s[19]=e[t],s}function St(n,e,t){const s=n.slice();return s[22]=e[t],s}function xt(n){let e,t=(n[18]||"")+"",s;const r={c:function(){e=$("span"),s=k(t),this.h()},l:function(i){e=w(i,"SPAN",{class:!0});var o=V(e);s=R(o,t),o.forEach(d),this.h()},h:function(){A(e,"class","validation-message"),S(e,y,55,8,1786)},m:function(i,o){I(i,e,o),c(e,s)},p:function(i,o){o&262144&&t!==(t=(i[18]||"")+"")&&M(s,t)},d:function(i){i&&d(e)}};return L("SvelteRegisterBlock",{block:r,id:xt.name,type:"slot",source:'(46:6) <ValidationMessage for=\\"stability\\" let:messages={message}>',ctx:n}),r}function Qe(n){let e,t,s=n[6]("file")+"",r,l,i,o,v,f,g,m,h,u;f=new Re({props:{for:"file",$$slots:{default:[Vt,({messages:E})=>({18:E}),({messages:E})=>E?262144:0]},$$scope:{ctx:n}},$$inline:!0});let a=n[3].file&&He(n),x=n[7]&&Je(n);const z={c:function(){e=$("div"),t=$("label"),r=k(s),l=k(" *"),i=j(),o=$("input"),v=j(),Le(f.$$.fragment),g=j(),a&&a.c(),m=j(),x&&x.c(),h=ut(),this.h()},l:function(p){e=w(p,"DIV",{class:!0});var P=V(e);t=w(P,"LABEL",{for:!0});var _=V(t);r=R(_,s),l=R(_," *"),_.forEach(d),i=F(P),o=w(P,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),v=F(P),ze(f.$$.fragment,P),P.forEach(d),g=F(p),a&&a.l(p),m=F(p),x&&x.l(p),h=ut(),this.h()},h:function(){A(t,"for","file"),S(t,y,61,8,1953),A(o,"id","file"),A(o,"class","base-input"),A(o,"name","file"),A(o,"type","file"),A(o,"accept",".zip,.smod"),A(o,"placeholder","File"),S(o,y,62,8,2002),A(e,"class","grid grid-flow-row gap-2"),S(e,y,60,6,1906)},m:function(p,P){I(p,e,P),c(e,t),c(t,r),c(t,l),c(e,i),c(e,o),c(e,v),Ge(f,e,null),I(p,g,P),a&&a.m(p,P),I(p,m,P),x&&x.m(p,P),I(p,h,P),u=!0},p:function(p,P){(!u||P&64)&&s!==(s=p[6]("file")+"")&&M(r,s);const _={};P&33816576&&(_.$$scope={dirty:P,ctx:p}),f.$set(_),p[3].file?a?a.p(p,P):(a=He(p),a.c(),a.m(m.parentNode,m)):a&&(a.d(1),a=null),p[7]?x?x.p(p,P):(x=Je(p),x.c(),x.m(h.parentNode,h)):x&&(x.d(1),x=null)},i:function(p){u||(re(f.$$.fragment,p),u=!0)},o:function(p){de(f.$$.fragment,p),u=!1},d:function(p){p&&(d(e),d(g),d(m),d(h)),Ue(f),a&&a.d(p),x&&x.d(p)}};return L("SvelteRegisterBlock",{block:z,id:Qe.name,type:"if",source:"(51:4) {#if !editing}",ctx:n}),z}function Vt(n){let e,t=(n[18]||"")+"",s;const r={c:function(){e=$("span"),s=k(t),this.h()},l:function(i){e=w(i,"SPAN",{class:!0});var o=V(e);s=R(o,t),o.forEach(d),this.h()},h:function(){A(e,"class","validation-message"),S(e,y,64,10,2176)},m:function(i,o){I(i,e,o),c(e,s)},p:function(i,o){o&262144&&t!==(t=(i[18]||"")+"")&&M(s,t)},d:function(i){i&&d(e)}};return L("SvelteRegisterBlock",{block:r,id:Vt.name,type:"slot",source:'(55:8) <ValidationMessage for=\\"file\\" let:messages={message}>',ctx:n}),r}function He(n){let e,t,s,r=n[6]("file-type")+"",l,i,o,v=(n[3].file.type||"Unknown")+"",f,g,m,h,u,a=n[6]("file-size")+"",x,z,E,p=qe(n[3].file.size)+"",P;const _={c:function(){e=$("div"),t=$("span"),s=$("strong"),l=k(r),i=k(":"),o=j(),f=k(v),g=$("br"),m=j(),h=$("span"),u=$("strong"),x=k(a),z=k(":"),E=j(),P=k(p),this.h()},l:function(O){e=w(O,"DIV",{});var N=V(e);t=w(N,"SPAN",{});var T=V(t);s=w(T,"STRONG",{});var b=V(s);l=R(b,r),i=R(b,":"),b.forEach(d),o=F(T),f=R(T,v),T.forEach(d),g=w(N,"BR",{}),m=F(N),h=w(N,"SPAN",{});var U=V(h);u=w(U,"STRONG",{});var W=V(u);x=R(W,a),z=R(W,":"),W.forEach(d),E=F(U),P=R(U,p),U.forEach(d),N.forEach(d),this.h()},h:function(){S(s,y,70,16,2328),S(t,y,70,10,2322),S(g,y,70,89,2401),S(u,y,71,16,2424),S(h,y,71,10,2418),S(e,y,69,8,2306)},m:function(O,N){I(O,e,N),c(e,t),c(t,s),c(s,l),c(s,i),c(t,o),c(t,f),c(e,g),c(e,m),c(e,h),c(h,u),c(u,x),c(u,z),c(h,E),c(h,P)},p:function(O,N){N&64&&r!==(r=O[6]("file-type")+"")&&M(l,r),N&8&&v!==(v=(O[3].file.type||"Unknown")+"")&&M(f,v),N&64&&a!==(a=O[6]("file-size")+"")&&M(x,a),N&8&&p!==(p=qe(O[3].file.size)+"")&&M(P,p)},d:function(O){O&&d(e)}};return L("SvelteRegisterBlock",{block:_,id:He.name,type:"if",source:"(60:6) {#if $data.file}",ctx:n}),_}function Je(n){let e,t,s,r,l=n[6]("version")+"",i,o,v,f=n[7].uplugin.Version+"",g,m,h,u,a;function x(N,T){return N[7].uplugin.SemVersion!==void 0?kt:Et}let z=x(n),E=z(n),p=n[7].uplugin.Plugins!==void 0&&Ke(n);function P(N,T){return N[7].objects&&N[7].objects.length>0?Bt:Nt}let _=P(n),B=_(n);const O={c:function(){e=$("div"),t=$("p"),s=$("span"),r=$("strong"),i=k(l),o=k(":"),v=j(),g=k(f),m=$("br"),h=j(),E.c(),u=j(),p&&p.c(),a=j(),B.c(),this.h()},l:function(T){e=w(T,"DIV",{});var b=V(e);t=w(b,"P",{class:!0});var U=V(t);s=w(U,"SPAN",{});var W=V(s);r=w(W,"STRONG",{});var se=V(r);i=R(se,l),o=R(se,":"),se.forEach(d),v=F(W),g=R(W,f),m=w(W,"BR",{}),W.forEach(d),h=F(U),E.l(U),U.forEach(d),u=F(b),p&&p.l(b),a=F(b),B.l(b),b.forEach(d),this.h()},h:function(){S(r,y,78,18,2606),S(m,y,78,78,2666),S(s,y,78,12,2600),A(t,"class","mb-4"),S(t,y,77,10,2571),S(e,y,76,8,2555)},m:function(T,b){I(T,e,b),c(e,t),c(t,s),c(s,r),c(r,i),c(r,o),c(s,v),c(s,g),c(s,m),c(t,h),E.m(t,null),c(e,u),p&&p.m(e,null),c(e,a),B.m(e,null)},p:function(T,b){b&64&&l!==(l=T[6]("version")+"")&&M(i,l),b&128&&f!==(f=T[7].uplugin.Version+"")&&M(g,f),z===(z=x(T))&&E?E.p(T,b):(E.d(1),E=z(T),E&&(E.c(),E.m(t,null))),T[7].uplugin.Plugins!==void 0?p?p.p(T,b):(p=Ke(T),p.c(),p.m(e,a)):p&&(p.d(1),p=null),_===(_=P(T))&&B?B.p(T,b):(B.d(1),B=_(T),B&&(B.c(),B.m(e,null)))},d:function(T){T&&d(e),E.d(),p&&p.d(),B.d()}};return L("SvelteRegisterBlock",{block:O,id:Je.name,type:"if",source:"(67:6) {#if $modMeta}",ctx:n}),O}function Et(n){let e,t=n[6]("version-form.missing-sem-version")+"",s,r,l=n[7].uplugin.Version+"",i,o;const v={c:function(){e=$("span"),s=k(t),r=j(),i=k(l),o=k(".0.0"),this.h()},l:function(g){e=w(g,"SPAN",{class:!0});var m=V(e);s=R(m,t),r=F(m),i=R(m,l),o=R(m,".0.0"),m.forEach(d),this.h()},h:function(){A(e,"class","text-yellow-600"),S(e,y,83,14,2867)},m:function(g,m){I(g,e,m),c(e,s),c(e,r),c(e,i),c(e,o)},p:function(g,m){m&64&&t!==(t=g[6]("version-form.missing-sem-version")+"")&&M(s,t),m&128&&l!==(l=g[7].uplugin.Version+"")&&M(i,l)},d:function(g){g&&d(e)}};return L("SvelteRegisterBlock",{block:v,id:Et.name,type:"else",source:"(74:12) {:else}",ctx:n}),v}function kt(n){let e,t,s="SemVersion:",r,l=n[7].uplugin.SemVersion+"",i,o;const v={c:function(){e=$("span"),t=$("strong"),t.textContent=s,r=j(),i=k(l),o=$("br"),this.h()},l:function(g){e=w(g,"SPAN",{});var m=V(e);t=w(m,"STRONG",{"data-svelte-h":!0}),he(t)!=="svelte-1q9kpdp"&&(t.textContent=s),r=F(m),i=R(m,l),o=w(m,"BR",{}),m.forEach(d),this.h()},h:function(){S(t,y,81,20,2761),S(o,y,81,78,2819),S(e,y,81,14,2755)},m:function(g,m){I(g,e,m),c(e,t),c(e,r),c(e,i),c(e,o)},p:function(g,m){m&128&&l!==(l=g[7].uplugin.SemVersion+"")&&M(i,l)},d:function(g){g&&d(e)}};return L("SvelteRegisterBlock",{block:v,id:kt.name,type:"if",source:"(72:12) {#if $modMeta.uplugin.SemVersion !== undefined}",ctx:n}),v}function Ke(n){let e,t,s=n[6]("dependencies")+"",r,l,i,o,v=ke(n[7].uplugin.Plugins),f=[];for(let m=0;m<v.length;m+=1)f[m]=Xe(St(n,v,m));const g={c:function(){e=$("p"),t=$("strong"),r=k(s),l=k(":"),i=$("br"),o=j();for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l:function(h){e=w(h,"P",{});var u=V(e);t=w(u,"STRONG",{});var a=V(t);r=R(a,s),l=R(a,":"),a.forEach(d),i=w(u,"BR",{}),o=F(u);for(let x=0;x<f.length;x+=1)f[x].l(u);u.forEach(d),this.h()},h:function(){S(t,y,92,14,3143),S(i,y,92,52,3181),S(e,y,91,12,3125)},m:function(h,u){I(h,e,u),c(e,t),c(t,r),c(t,l),c(e,i),c(e,o);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(e,null)},p:function(h,u){if(u&64&&s!==(s=h[6]("dependencies")+"")&&M(r,s),u&128){v=ke(h[7].uplugin.Plugins);let a;for(a=0;a<v.length;a+=1){const x=St(h,v,a);f[a]?f[a].p(x,u):(f[a]=Xe(x),f[a].c(),f[a].m(e,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=v.length}},d:function(h){h&&d(e),yt(f,h)}};return L("SvelteRegisterBlock",{block:g,id:Ke.name,type:"if",source:"(82:10) {#if $modMeta.uplugin.Plugins !== undefined}",ctx:n}),g}function Rt(n){let e,t="*";const s={c:function(){e=$("span"),e.textContent=t,this.h()},l:function(l){e=w(l,"SPAN",{"data-svelte-h":!0}),he(e)!=="svelte-140b0co"&&(e.textContent=t),this.h()},h:function(){S(e,y,98,18,3443)},m:function(l,i){I(l,e,i)},p:J,d:function(l){l&&d(e)}};return L("SvelteRegisterBlock",{block:s,id:Rt.name,type:"else",source:"(89:16) {:else}",ctx:n}),s}function Pt(n){let e,t=n[22].SemVersion+"",s;const r={c:function(){e=$("span"),s=k(t),this.h()},l:function(i){e=w(i,"SPAN",{});var o=V(e);s=R(o,t),o.forEach(d),this.h()},h:function(){S(e,y,96,18,3364)},m:function(i,o){I(i,e,o),c(e,s)},p:function(i,o){o&128&&t!==(t=i[22].SemVersion+"")&&M(s,t)},d:function(i){i&&d(e)}};return L("SvelteRegisterBlock",{block:r,id:Pt.name,type:"if",source:"(87:16) {#if dependency.SemVersion}",ctx:n}),r}function Xe(n){let e,t=n[22].Name+"",s,r,l,i,o;function v(h,u){return h[22].SemVersion?Pt:Rt}let f=v(n),g=f(n);const m={c:function(){e=$("strong"),s=k(t),r=k(":"),l=j(),g.c(),i=j(),o=$("br"),this.h()},l:function(u){e=w(u,"STRONG",{});var a=V(e);s=R(a,t),r=R(a,":"),a.forEach(d),l=F(u),g.l(u),i=F(u),o=w(u,"BR",{}),this.h()},h:function(){S(e,y,94,16,3265),S(o,y,100,16,3496)},m:function(u,a){I(u,e,a),c(e,s),c(e,r),I(u,l,a),g.m(u,a),I(u,i,a),I(u,o,a)},p:function(u,a){a&128&&t!==(t=u[22].Name+"")&&M(s,t),f===(f=v(u))&&g?g.p(u,a):(g.d(1),g=f(u),g&&(g.c(),g.m(i.parentNode,i)))},d:function(u){u&&(d(e),d(l),d(i),d(o)),g.d(u)}};return L("SvelteRegisterBlock",{block:m,id:Xe.name,type:"each",source:"(85:14) {#each $modMeta.uplugin.Plugins as dependency}",ctx:n}),m}function Nt(n){let e,t,s=n[6]("version-form.missing-sem-version")+"",r;const l={c:function(){e=$("p"),t=$("span"),r=k(s),this.h()},l:function(o){e=w(o,"P",{});var v=V(e);t=w(v,"SPAN",{class:!0});var f=V(t);r=R(f,s),f.forEach(d),v.forEach(d),this.h()},h:function(){A(t,"class","text-yellow-600"),S(t,y,115,14,3890),S(e,y,114,12,3872)},m:function(o,v){I(o,e,v),c(e,t),c(t,r)},p:function(o,v){v&64&&s!==(s=o[6]("version-form.missing-sem-version")+"")&&M(r,s)},d:function(o){o&&d(e)}};return L("SvelteRegisterBlock",{block:l,id:Nt.name,type:"else",source:"(105:10) {:else}",ctx:n}),l}function Bt(n){let e,t,s=n[6]("objects")+"",r,l,i,o,v=ke(n[7].objects),f=[];for(let m=0;m<v.length;m+=1)f[m]=Ye(wt(n,v,m));const g={c:function(){e=$("p"),t=$("strong"),r=k(s),l=k(":"),i=$("br"),o=j();for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l:function(h){e=w(h,"P",{});var u=V(e);t=w(u,"STRONG",{});var a=V(t);r=R(a,s),l=R(a,":"),a.forEach(d),i=w(u,"BR",{}),o=F(u);for(let x=0;x<f.length;x+=1)f[x].l(u);u.forEach(d),this.h()},h:function(){S(t,y,107,14,3653),S(i,y,107,47,3686),S(e,y,106,12,3635)},m:function(h,u){I(h,e,u),c(e,t),c(t,r),c(t,l),c(e,i),c(e,o);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(e,null)},p:function(h,u){if(u&64&&s!==(s=h[6]("objects")+"")&&M(r,s),u&128){v=ke(h[7].objects);let a;for(a=0;a<v.length;a+=1){const x=wt(h,v,a);f[a]?f[a].p(x,u):(f[a]=Ye(x),f[a].c(),f[a].m(e,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=v.length}},d:function(h){h&&d(e),yt(f,h)}};return L("SvelteRegisterBlock",{block:g,id:Bt.name,type:"if",source:"(97:10) {#if $modMeta.objects && $modMeta.objects.length > 0}",ctx:n}),g}function Ye(n){let e,t=n[19]+"",s,r,l;const i={c:function(){e=$("span"),s=k(t),r=j(),l=$("br"),this.h()},l:function(v){e=w(v,"SPAN",{});var f=V(e);s=R(f,t),f.forEach(d),r=F(v),l=w(v,"BR",{}),this.h()},h:function(){S(e,y,109,16,3758),S(l,y,110,16,3796)},m:function(v,f){I(v,e,f),c(e,s),I(v,r,f),I(v,l,f)},p:function(v,f){f&128&&t!==(t=v[19]+"")&&M(s,t)},d:function(v){v&&(d(e),d(r),d(l))}};return L("SvelteRegisterBlock",{block:i,id:Ye.name,type:"each",source:"(100:14) {#each $modMeta.objects as object}",ctx:n}),i}function Tt(n){let e,t=(n[18]||"")+"",s;const r={c:function(){e=$("span"),s=k(t),this.h()},l:function(i){e=w(i,"SPAN",{class:!0});var o=V(e);s=R(o,t),o.forEach(d),this.h()},h:function(){A(e,"class","validation-message"),S(e,y,131,10,4442)},m:function(i,o){I(i,e,o),c(e,s)},p:function(i,o){o&262144&&t!==(t=(i[18]||"")+"")&&M(s,t)},d:function(i){i&&d(e)}};return L("SvelteRegisterBlock",{block:r,id:Tt.name,type:"slot",source:'(122:8) <ValidationMessage for=\\"changelog\\" let:messages={message}>',ctx:n}),r}function At(n){const e={c:J,l:J,m:J,p:J,d:J};return L("SvelteRegisterBlock",{block:e,id:At.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function jt(n){let e,t,s=n[17]+"";const r={c:function(){e=$("div"),t=new Ht(!1),this.h()},l:function(i){e=w(i,"DIV",{class:!0});var o=V(e);t=Jt(o,!1),o.forEach(d),this.h()},h:function(){t.a=null,A(e,"class","markdown-content right s-Aj89xH93RQKp"),S(e,y,138,10,4737)},m:function(i,o){I(i,e,o),t.m(s,e)},p:function(i,o){o&32&&s!==(s=i[17]+"")&&t.p(s)},d:function(i){i&&d(e)}};return L("SvelteRegisterBlock",{block:r,id:jt.name,type:"then",source:'(128:55)            <!-- eslint-disable -->           <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:n}),r}function Ft(n){const e={c:J,l:J,m:J,p:J,d:J};return L("SvelteRegisterBlock",{block:e,id:Ft.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function Ze(n){let e,t,s,r,l,i=n[6]("stability")+"",o,v,f,g,m,h="Alpha",u,a="Beta",x,z="Release",E,p,P,_,B,O,N,T,b=n[6]("changelog")+"",U,W,se,K,Pe,te,Ne,Y,ie,ce=n[6]("preview")+"",pe,Be,Te,ge,Ae,Z,ae=n[6]("version-form.agreement-to")+"",ve,je,ne,fe=n[6]("content-policy")+"",be,Fe,Oe,le,ee,$e,X,Me,et;p=new Re({props:{for:"stability",$$slots:{default:[xt,({messages:G})=>({18:G}),({messages:G})=>G?262144:0]},$$scope:{ctx:n}},$$inline:!0});let D=!n[2]&&Qe(n);te=new Re({props:{for:"changelog",$$slots:{default:[Tt,({messages:G})=>({18:G}),({messages:G})=>G?262144:0]},$$scope:{ctx:n}},$$inline:!0});let q={ctx:n,current:null,token:null,hasCatch:!1,pending:Ft,then:jt,catch:At,value:17};ot(ge=We(n[5]),q);const tt={c:function(){e=$("form"),t=$("div"),s=$("div"),r=$("label"),l=$("span"),o=k(i),v=k(" *"),f=j(),g=$("select"),m=$("option"),m.textContent=h,u=$("option"),u.textContent=a,x=$("option"),x.textContent=z,E=j(),Le(p.$$.fragment),P=j(),D&&D.c(),_=j(),B=$("div"),O=$("div"),N=$("label"),T=$("span"),U=k(b),W=k(" *"),se=j(),K=$("textarea"),Pe=j(),Le(te.$$.fragment),Ne=j(),Y=$("div"),ie=$("span"),pe=k(ce),Be=k(":"),Te=j(),q.block.c(),Ae=j(),Z=$("div"),ve=k(ae),je=j(),ne=$("a"),be=k(fe),Fe=k("."),Oe=j(),le=$("div"),ee=$("button"),$e=k(n[1]),this.h()},l:function(Q){e=w(Q,"FORM",{});var C=V(e);t=w(C,"DIV",{class:!0});var H=V(t);s=w(H,"DIV",{class:!0});var oe=V(s);r=w(oe,"LABEL",{class:!0});var we=V(r);l=w(we,"SPAN",{});var Ie=V(l);o=R(Ie,i),v=R(Ie," *"),Ie.forEach(d),f=F(we),g=w(we,"SELECT",{class:!0});var Se=V(g);m=w(Se,"OPTION",{"data-svelte-h":!0}),he(m)!=="svelte-4emh7a"&&(m.textContent=h),u=w(Se,"OPTION",{"data-svelte-h":!0}),he(u)!=="svelte-14mt04m"&&(u.textContent=a),x=w(Se,"OPTION",{"data-svelte-h":!0}),he(x)!=="svelte-zdik1o"&&(x.textContent=z),Se.forEach(d),we.forEach(d),E=F(oe),ze(p.$$.fragment,oe),oe.forEach(d),P=F(H),D&&D.l(H),_=F(H),B=w(H,"DIV",{class:!0});var ye=V(B);O=w(ye,"DIV",{class:!0});var xe=V(O);N=w(xe,"LABEL",{class:!0});var Ve=V(N);T=w(Ve,"SPAN",{});var _e=V(T);U=R(_e,b),W=R(_e," *"),_e.forEach(d),se=F(Ve),K=w(Ve,"TEXTAREA",{class:!0,rows:!0}),V(K).forEach(d),Ve.forEach(d),Pe=F(xe),ze(te.$$.fragment,xe),xe.forEach(d),Ne=F(ye),Y=w(ye,"DIV",{class:!0});var Ee=V(Y);ie=w(Ee,"SPAN",{});var Ce=V(ie);pe=R(Ce,ce),Be=R(Ce,":"),Ce.forEach(d),Te=F(Ee),q.block.l(Ee),Ee.forEach(d),ye.forEach(d),Ae=F(H),Z=w(H,"DIV",{class:!0});var ue=V(Z);ve=R(ue,ae),je=F(ue),ne=w(ue,"A",{href:!0,class:!0});var nt=V(ne);be=R(nt,fe),nt.forEach(d),Fe=R(ue,"."),ue.forEach(d),Oe=F(H),le=w(H,"DIV",{});var st=V(le);ee=w(st,"BUTTON",{class:!0,type:!0});var it=V(ee);$e=R(it,n[1]),it.forEach(d),st.forEach(d),H.forEach(d),C.forEach(d),this.h()},h:function(){S(l,y,47,8,1443),m.__value="alpha",me(m,m.__value),S(m,y,49,10,1547),u.__value="beta",me(u,u.__value),S(u,y,50,10,1594),x.__value="release",me(x,x.__value),S(x,y,51,10,1639),A(g,"class","select"),n[3].stability===void 0&&Ct(()=>n[14].call(g)),S(g,y,48,8,1484),A(r,"class","label"),S(r,y,46,6,1413),A(s,"class","grid grid-flow-row gap-2"),S(s,y,45,4,1368),S(T,y,127,10,4205),A(K,"class","vertical-textarea textarea p-2"),K.required=!0,A(K,"rows",10),S(K,y,128,10,4248),A(N,"class","label"),S(N,y,126,8,4173),A(O,"class","grid grid-flow-row gap-2 auto-rows-max"),S(O,y,125,6,4112),S(ie,y,135,8,4607),A(Y,"class","grid grid-flow-row gap-2 auto-rows-max"),S(Y,y,134,6,4546),A(B,"class","grid gap-6 split s-Aj89xH93RQKp"),S(B,y,124,4,4075),A(ne,"href","/content-policy"),A(ne,"class","s-Aj89xH93RQKp"),S(ne,y,144,40,4914),A(Z,"class","text-muted"),S(Z,y,143,4,4849),A(ee,"class","btn variant-ghost-primary"),A(ee,"type","submit"),ee.disabled=n[4],S(ee,y,148,6,4996),S(le,y,147,4,4984),A(t,"class","grid grid-flow-row gap-6"),S(t,y,44,2,1325),S(e,y,43,0,1307)},m:function(Q,C){I(Q,e,C),c(e,t),c(t,s),c(s,r),c(r,l),c(l,o),c(l,v),c(r,f),c(r,g),c(g,m),c(g,u),c(g,x),at(g,n[3].stability,!0),c(s,E),Ge(p,s,null),c(t,P),D&&D.m(t,null),c(t,_),c(t,B),c(B,O),c(O,N),c(N,T),c(T,U),c(T,W),c(N,se),c(N,K),me(K,n[3].changelog),c(O,Pe),Ge(te,O,null),c(B,Ne),c(B,Y),c(Y,ie),c(ie,pe),c(ie,Be),c(Y,Te),q.block.m(Y,q.anchor=null),q.mount=()=>Y,q.anchor=null,c(t,Ae),c(t,Z),c(Z,ve),c(Z,je),c(Z,ne),c(ne,be),c(Z,Fe),c(t,Oe),c(t,le),c(le,ee),c(ee,$e),X=!0,Me||(et=[ft(g,"change",n[14]),ft(K,"input",n[15]),Dt(n[9].call(null,e))],Me=!0)},p:function(Q,[C]){n=Q,(!X||C&64)&&i!==(i=n[6]("stability")+"")&&M(o,i),C&8&&at(g,n[3].stability);const H={};C&33816576&&(H.$$scope={dirty:C,ctx:n}),p.$set(H),n[2]?D&&(Lt(),de(D,1,1,()=>{D=null}),zt()):D?(D.p(n,C),C&4&&re(D,1)):(D=Qe(n),D.c(),re(D,1),D.m(t,_)),(!X||C&64)&&b!==(b=n[6]("changelog")+"")&&M(U,b),C&8&&me(K,n[3].changelog);const oe={};C&33816576&&(oe.$$scope={dirty:C,ctx:n}),te.$set(oe),(!X||C&64)&&ce!==(ce=n[6]("preview")+"")&&M(pe,ce),q.ctx=n,C&32&&ge!==(ge=We(n[5]))&&ot(ge,q)||Gt(q,n,C),(!X||C&64)&&ae!==(ae=n[6]("version-form.agreement-to")+"")&&M(ve,ae),(!X||C&64)&&fe!==(fe=n[6]("content-policy")+"")&&M(be,fe),(!X||C&2)&&M($e,n[1]),(!X||C&16)&&Ut(ee,"disabled",n[4])},i:function(Q){X||(re(p.$$.fragment,Q),re(D),re(te.$$.fragment,Q),X=!0)},o:function(Q){de(p.$$.fragment,Q),de(D),de(te.$$.fragment,Q),X=!1},d:function(Q){Q&&d(e),Ue(p),D&&D.d(),Ue(te),q.block.d(),q.token=null,q=null,Me=!1,Wt(et)}};return L("SvelteRegisterBlock",{block:tt,id:Ze.name,type:"component",source:"",ctx:n}),tt}function sn(n,e,t){let s,r,l,i=J,o=()=>(i(),i=qt(m,b=>t(6,l=b)),m),v;n.$$.on_destroy.push(()=>i());let{$$slots:f={},$$scope:g}=e;_t("VersionForm",f,[]);const{t:m}=lt();De(m,"t"),o();let{modReference:h}=e,{onSubmit:u}=e,{initialValues:a={arch:[{ModVersionID:"",platform:"",asset:"",hash:"",size:0}],changelog:"",stability:bt.Alpha}}=e,{submitText:x=l("entry.create")}=e,{editing:z=!1}=e;const E=ct();De(E,"modMeta"),rt(n,E,b=>t(7,v=b));let p=!1;const P=$t(h,E),{form:_,data:B}=ht({initialValues:a,extend:[pt({schema:P}),gt],onSubmit:b=>{t(4,p=!0),u(vt(b,P)).then(()=>t(4,p=!1))}});De(B,"data"),rt(n,B,b=>t(3,r=b)),n.$$.on_mount.push(function(){h===void 0&&!("modReference"in e||n.$$.bound[n.$$.props.modReference])&&console.warn("<VersionForm> was created without expected prop 'modReference'"),u===void 0&&!("onSubmit"in e||n.$$.bound[n.$$.props.onSubmit])&&console.warn("<VersionForm> was created without expected prop 'onSubmit'")});const O=["modReference","onSubmit","initialValues","submitText","editing"];Object.keys(e).forEach(b=>{!~O.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<VersionForm> was created with unknown prop '${b}'`)});function N(){r.stability=Qt(this),B.set(r)}function T(){r.changelog=this.value,B.set(r)}return n.$$set=b=>{"modReference"in b&&t(11,h=b.modReference),"onSubmit"in b&&t(12,u=b.onSubmit),"initialValues"in b&&t(13,a=b.initialValues),"submitText"in b&&t(1,x=b.submitText),"editing"in b&&t(2,z=b.editing)},n.$capture_state=()=>({createForm:ht,validator:pt,reporter:gt,ValidationMessage:Re,constructVersionSchema:$t,trimNonSchema:vt,markdown:We,writable:ct,VersionStabilities:bt,prettyBytes:qe,getTranslate:lt,t:m,modReference:h,onSubmit:u,initialValues:a,submitText:x,editing:z,modMeta:E,disabled:p,versionSchema:P,form:_,data:B,preview:s,$data:r,$t:l,$modMeta:v}),n.$inject_state=b=>{"modReference"in b&&t(11,h=b.modReference),"onSubmit"in b&&t(12,u=b.onSubmit),"initialValues"in b&&t(13,a=b.initialValues),"submitText"in b&&t(1,x=b.submitText),"editing"in b&&t(2,z=b.editing),"disabled"in b&&t(4,p=b.disabled),"preview"in b&&t(5,s=b.preview)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&8&&t(5,s=r.changelog||"")},[m,x,z,r,p,s,l,v,E,_,B,h,u,a,N,T]}class dn extends Ot{constructor(e){super(e),Mt(this,e,sn,Ze,It,{t:0,modReference:11,onSubmit:12,initialValues:13,submitText:1,editing:2}),L("SvelteRegisterComponent",{component:this,tagName:"VersionForm",options:e,id:Ze.name})}get t(){return this.$$.ctx[0]}set t(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get modReference(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set modReference(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{dn as V};
//# sourceMappingURL=VersionForm.28354a42.js.map
