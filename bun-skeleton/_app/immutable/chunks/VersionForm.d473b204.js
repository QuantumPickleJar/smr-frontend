import{S as jt,i as Ot,s as It,d as W,a6 as it,v as _t,aq as ot,$ as Me,a0 as lt,w as rt,V as Ee,e as $,K as R,b as F,J as je,g as w,h as E,N as k,j as h,k as M,M as Oe,m as S,O as A,af as Dt,n as _,R as r,as as ct,Q as Ie,a4 as at,Y as ft,aa as Lt,X as I,r as le,p as zt,t as ue,q as Gt,a7 as Wt,aC as Ht,T as _e,a5 as Ut,u as J,x as Ct,at as Kt,f as ut,W as yt}from"./vendor.883dd93b.js";import{o as qt,a as Jt,b as Qt,e as mt,s as ht,V as Ve,c as pt,v as dt,r as gt}from"./forms.199b7eab.js";import{J as Xt}from"./jszip.335f03e3.js";import{v as Yt}from"./uplugin.d8a2f653.js";import{t as vt}from"./forms.810360b9.js";import{m as De}from"./markdown.969ad57d.js";import{V as bt}from"./graphql.fef59309.js";import{b as Le}from"./formatting.6f84ef8f.js";const Zt=async(n,e,t)=>e.async("string").then(async s=>{const o=await Yt(s);if(o.length!=0)return{message:`invalid ${t}.uplugin`,extended:o};const l=JSON.parse(s);let i=!1;for(const f of l.Plugins)if(f.Name==="SML"){i=!0;break}return i?{uplugin:l,objects:Object.keys(n.files).filter(f=>f.endsWith(".so")||f.endsWith(".dll")||f.endsWith(".pak"))}:{message:"mod must depend on SML"}}).catch(s=>({message:`invalid ${t}.uplugin: ${s}`})),en=async(n,e)=>new Xt().loadAsync(n).then(s=>{const o=s.file("WindowsNoEditor/"+e+".uplugin");return o?Zt(s,o,e):{message:"WindowsNoEditor/"+e+".uplugin missing from mod"}}).catch(s=>({message:"invalid zip/smod file: "+s})),$t=(n,e)=>qt({file:Jt(Qt().superRefine(async(t,s)=>{if(!("name"in t&&"size"in t&&"type"in t)){s.addIssue({message:"Unknown file error",code:mt.custom});return}const o=await en(t,n);if("message"in o){s.addIssue({message:o.message,code:mt.custom});return}e.set(o)})),changelog:ht(),stability:ht()});const y="src/lib/components/versions/VersionForm.svelte";function wt(n,e,t){const s=n.slice();return s[19]=e[t],s}function St(n,e,t){const s=n.slice();return s[22]=e[t],s}function Et(n){let e,t=(n[18]||"")+"",s;const o={c:function(){e=$("span"),s=R(t),this.h()},l:function(i){e=w(i,"SPAN",{class:!0});var f=E(e);s=k(f,t),f.forEach(h),this.h()},h:function(){A(e,"class","validation-message"),S(e,y,46,8,1784)},m:function(i,f){_(i,e,f),r(e,s)},p:function(i,f){f&262144&&t!==(t=(i[18]||"")+"")&&I(s,t)},d:function(i){i&&h(e)}};return W("SvelteRegisterBlock",{block:o,id:Et.name,type:"slot",source:'(46:6) <ValidationMessage for=\\"stability\\" let:messages={message}>',ctx:n}),o}function ze(n){let e,t,s=n[6]("file")+"",o,l,i,f,d,c,b,p,u,m;c=new Ve({props:{for:"file",$$slots:{default:[Vt,({messages:x})=>({18:x}),({messages:x})=>x?262144:0]},$$scope:{ctx:n}},$$inline:!0});let a=n[3].file&&Ge(n),V=n[7]&&We(n);const z={c:function(){e=$("div"),t=$("label"),o=R(s),l=R(":"),i=F(),f=$("input"),d=F(),je(c.$$.fragment),b=F(),a&&a.c(),p=F(),V&&V.c(),u=ut(),this.h()},l:function(g){e=w(g,"DIV",{class:!0});var P=E(e);t=w(P,"LABEL",{for:!0});var j=E(t);o=k(j,s),l=k(j,":"),j.forEach(h),i=M(P),f=w(P,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),d=M(P),Oe(c.$$.fragment,P),P.forEach(h),b=M(g),a&&a.l(g),p=M(g),V&&V.l(g),u=ut(),this.h()},h:function(){A(t,"for","file"),S(t,y,52,8,1951),A(f,"id","file"),A(f,"class","base-input"),A(f,"name","file"),A(f,"type","file"),A(f,"accept",".zip,.smod"),A(f,"placeholder","File"),S(f,y,53,8,1999),A(e,"class","grid grid-flow-row gap-2"),S(e,y,51,6,1904)},m:function(g,P){_(g,e,P),r(e,t),r(t,o),r(t,l),r(e,i),r(e,f),r(e,d),Ie(c,e,null),_(g,b,P),a&&a.m(g,P),_(g,p,P),V&&V.m(g,P),_(g,u,P),m=!0},p:function(g,P){(!m||P&64)&&s!==(s=g[6]("file")+"")&&I(o,s);const j={};P&33816576&&(j.$$scope={dirty:P,ctx:g}),c.$set(j),g[3].file?a?a.p(g,P):(a=Ge(g),a.c(),a.m(p.parentNode,p)):a&&(a.d(1),a=null),g[7]?V?V.p(g,P):(V=We(g),V.c(),V.m(u.parentNode,u)):V&&(V.d(1),V=null)},i:function(g){m||(le(c.$$.fragment,g),m=!0)},o:function(g){ue(c.$$.fragment,g),m=!1},d:function(g){g&&h(e),_e(c),g&&h(b),a&&a.d(g),g&&h(p),V&&V.d(g),g&&h(u)}};return W("SvelteRegisterBlock",{block:z,id:ze.name,type:"if",source:"(51:4) {#if !editing}",ctx:n}),z}function Vt(n){let e,t=(n[18]||"")+"",s;const o={c:function(){e=$("span"),s=R(t),this.h()},l:function(i){e=w(i,"SPAN",{class:!0});var f=E(e);s=k(f,t),f.forEach(h),this.h()},h:function(){A(e,"class","validation-message"),S(e,y,55,10,2173)},m:function(i,f){_(i,e,f),r(e,s)},p:function(i,f){f&262144&&t!==(t=(i[18]||"")+"")&&I(s,t)},d:function(i){i&&h(e)}};return W("SvelteRegisterBlock",{block:o,id:Vt.name,type:"slot",source:'(55:8) <ValidationMessage for=\\"file\\" let:messages={message}>',ctx:n}),o}function Ge(n){let e,t,s,o=n[6]("file-type")+"",l,i,f,d=(n[3].file.type||"Unknown")+"",c,b,p,u,m,a=n[6]("file-size")+"",V,z,x,g=Le(n[3].file.size)+"",P;const j={c:function(){e=$("div"),t=$("span"),s=$("strong"),l=R(o),i=R(":"),f=F(),c=R(d),b=$("br"),p=F(),u=$("span"),m=$("strong"),V=R(a),z=R(":"),x=F(),P=R(g),this.h()},l:function(O){e=w(O,"DIV",{});var B=E(e);t=w(B,"SPAN",{});var T=E(t);s=w(T,"STRONG",{});var v=E(s);l=k(v,o),i=k(v,":"),v.forEach(h),f=M(T),c=k(T,d),T.forEach(h),b=w(B,"BR",{}),p=M(B),u=w(B,"SPAN",{});var U=E(u);m=w(U,"STRONG",{});var L=E(m);V=k(L,a),z=k(L,":"),L.forEach(h),x=M(U),P=k(U,g),U.forEach(h),B.forEach(h),this.h()},h:function(){S(s,y,61,16,2325),S(t,y,61,10,2319),S(b,y,61,89,2398),S(m,y,62,16,2421),S(u,y,62,10,2415),S(e,y,60,8,2303)},m:function(O,B){_(O,e,B),r(e,t),r(t,s),r(s,l),r(s,i),r(t,f),r(t,c),r(e,b),r(e,p),r(e,u),r(u,m),r(m,V),r(m,z),r(u,x),r(u,P)},p:function(O,B){B&64&&o!==(o=O[6]("file-type")+"")&&I(l,o),B&8&&d!==(d=(O[3].file.type||"Unknown")+"")&&I(c,d),B&64&&a!==(a=O[6]("file-size")+"")&&I(V,a),B&8&&g!==(g=Le(O[3].file.size)+"")&&I(P,g)},d:function(O){O&&h(e)}};return W("SvelteRegisterBlock",{block:j,id:Ge.name,type:"if",source:"(60:6) {#if $data.file}",ctx:n}),j}function We(n){let e,t,s,o,l=n[6]("version")+"",i,f,d,c=n[7].uplugin.Version+"",b,p,u,m,a;function V(B,T){return B[7].uplugin.SemVersion!==void 0?Rt:xt}let z=V(n),x=z(n),g=n[7].uplugin.Plugins!==void 0&&He(n);function P(B,T){return B[7].objects&&B[7].objects.length>0?Bt:Nt}let j=P(n),N=j(n);const O={c:function(){e=$("div"),t=$("p"),s=$("span"),o=$("strong"),i=R(l),f=R(":"),d=F(),b=R(c),p=$("br"),u=F(),x.c(),m=F(),g&&g.c(),a=F(),N.c(),this.h()},l:function(T){e=w(T,"DIV",{});var v=E(e);t=w(v,"P",{class:!0});var U=E(t);s=w(U,"SPAN",{});var L=E(s);o=w(L,"STRONG",{});var ne=E(o);i=k(ne,l),f=k(ne,":"),ne.forEach(h),d=M(L),b=k(L,c),p=w(L,"BR",{}),L.forEach(h),u=M(U),x.l(U),U.forEach(h),m=M(v),g&&g.l(v),a=M(v),N.l(v),v.forEach(h),this.h()},h:function(){S(o,y,69,18,2603),S(p,y,69,78,2663),S(s,y,69,12,2597),A(t,"class","mb-4"),S(t,y,68,10,2568),S(e,y,67,8,2552)},m:function(T,v){_(T,e,v),r(e,t),r(t,s),r(s,o),r(o,i),r(o,f),r(s,d),r(s,b),r(s,p),r(t,u),x.m(t,null),r(e,m),g&&g.m(e,null),r(e,a),N.m(e,null)},p:function(T,v){v&64&&l!==(l=T[6]("version")+"")&&I(i,l),v&128&&c!==(c=T[7].uplugin.Version+"")&&I(b,c),z===(z=V(T))&&x?x.p(T,v):(x.d(1),x=z(T),x&&(x.c(),x.m(t,null))),T[7].uplugin.Plugins!==void 0?g?g.p(T,v):(g=He(T),g.c(),g.m(e,a)):g&&(g.d(1),g=null),j===(j=P(T))&&N?N.p(T,v):(N.d(1),N=j(T),N&&(N.c(),N.m(e,null)))},d:function(T){T&&h(e),x.d(),g&&g.d(),N.d()}};return W("SvelteRegisterBlock",{block:O,id:We.name,type:"if",source:"(67:6) {#if $modMeta}",ctx:n}),O}function xt(n){let e,t=n[6]("version-form.missing-sem-version")+"",s,o,l=n[7].uplugin.Version+"",i,f;const d={c:function(){e=$("span"),s=R(t),o=F(),i=R(l),f=R(".0.0"),this.h()},l:function(b){e=w(b,"SPAN",{class:!0});var p=E(e);s=k(p,t),o=M(p),i=k(p,l),f=k(p,".0.0"),p.forEach(h),this.h()},h:function(){A(e,"class","text-yellow-600"),S(e,y,74,14,2864)},m:function(b,p){_(b,e,p),r(e,s),r(e,o),r(e,i),r(e,f)},p:function(b,p){p&64&&t!==(t=b[6]("version-form.missing-sem-version")+"")&&I(s,t),p&128&&l!==(l=b[7].uplugin.Version+"")&&I(i,l)},d:function(b){b&&h(e)}};return W("SvelteRegisterBlock",{block:d,id:xt.name,type:"else",source:"(74:12) {:else}",ctx:n}),d}function Rt(n){let e,t,s,o,l=n[7].uplugin.SemVersion+"",i,f;const d={c:function(){e=$("span"),t=$("strong"),s=R("SemVersion:"),o=F(),i=R(l),f=$("br"),this.h()},l:function(b){e=w(b,"SPAN",{});var p=E(e);t=w(p,"STRONG",{});var u=E(t);s=k(u,"SemVersion:"),u.forEach(h),o=M(p),i=k(p,l),f=w(p,"BR",{}),p.forEach(h),this.h()},h:function(){S(t,y,72,20,2758),S(f,y,72,78,2816),S(e,y,72,14,2752)},m:function(b,p){_(b,e,p),r(e,t),r(t,s),r(e,o),r(e,i),r(e,f)},p:function(b,p){p&128&&l!==(l=b[7].uplugin.SemVersion+"")&&I(i,l)},d:function(b){b&&h(e)}};return W("SvelteRegisterBlock",{block:d,id:Rt.name,type:"if",source:"(72:12) {#if $modMeta.uplugin.SemVersion !== undefined}",ctx:n}),d}function He(n){let e,t,s=n[6]("dependencies")+"",o,l,i,f,d=n[7].uplugin.Plugins;Ee(d);let c=[];for(let p=0;p<d.length;p+=1)c[p]=Ue(St(n,d,p));const b={c:function(){e=$("p"),t=$("strong"),o=R(s),l=R(":"),i=$("br"),f=F();for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l:function(u){e=w(u,"P",{});var m=E(e);t=w(m,"STRONG",{});var a=E(t);o=k(a,s),l=k(a,":"),a.forEach(h),i=w(m,"BR",{}),f=M(m);for(let V=0;V<c.length;V+=1)c[V].l(m);m.forEach(h),this.h()},h:function(){S(t,y,83,14,3140),S(i,y,83,52,3178),S(e,y,82,12,3122)},m:function(u,m){_(u,e,m),r(e,t),r(t,o),r(t,l),r(e,i),r(e,f);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(e,null)},p:function(u,m){if(m&64&&s!==(s=u[6]("dependencies")+"")&&I(o,s),m&128){d=u[7].uplugin.Plugins,Ee(d);let a;for(a=0;a<d.length;a+=1){const V=St(u,d,a);c[a]?c[a].p(V,m):(c[a]=Ue(V),c[a].c(),c[a].m(e,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=d.length}},d:function(u){u&&h(e),yt(c,u)}};return W("SvelteRegisterBlock",{block:b,id:He.name,type:"if",source:"(82:10) {#if $modMeta.uplugin.Plugins !== undefined}",ctx:n}),b}function kt(n){let e,t;const s={c:function(){e=$("span"),t=R("*"),this.h()},l:function(l){e=w(l,"SPAN",{});var i=E(e);t=k(i,"*"),i.forEach(h),this.h()},h:function(){S(e,y,89,18,3440)},m:function(l,i){_(l,e,i),r(e,t)},p:J,d:function(l){l&&h(e)}};return W("SvelteRegisterBlock",{block:s,id:kt.name,type:"else",source:"(89:16) {:else}",ctx:n}),s}function Pt(n){let e,t=n[22].SemVersion+"",s;const o={c:function(){e=$("span"),s=R(t),this.h()},l:function(i){e=w(i,"SPAN",{});var f=E(e);s=k(f,t),f.forEach(h),this.h()},h:function(){S(e,y,87,18,3361)},m:function(i,f){_(i,e,f),r(e,s)},p:function(i,f){f&128&&t!==(t=i[22].SemVersion+"")&&I(s,t)},d:function(i){i&&h(e)}};return W("SvelteRegisterBlock",{block:o,id:Pt.name,type:"if",source:"(87:16) {#if dependency.SemVersion}",ctx:n}),o}function Ue(n){let e,t=n[22].Name+"",s,o,l,i,f;function d(u,m){return u[22].SemVersion?Pt:kt}let c=d(n),b=c(n);const p={c:function(){e=$("strong"),s=R(t),o=R(":"),l=F(),b.c(),i=F(),f=$("br"),this.h()},l:function(m){e=w(m,"STRONG",{});var a=E(e);s=k(a,t),o=k(a,":"),a.forEach(h),l=M(m),b.l(m),i=M(m),f=w(m,"BR",{}),this.h()},h:function(){S(e,y,85,16,3262),S(f,y,91,16,3493)},m:function(m,a){_(m,e,a),r(e,s),r(e,o),_(m,l,a),b.m(m,a),_(m,i,a),_(m,f,a)},p:function(m,a){a&128&&t!==(t=m[22].Name+"")&&I(s,t),c===(c=d(m))&&b?b.p(m,a):(b.d(1),b=c(m),b&&(b.c(),b.m(i.parentNode,i)))},d:function(m){m&&h(e),m&&h(l),b.d(m),m&&h(i),m&&h(f)}};return W("SvelteRegisterBlock",{block:p,id:Ue.name,type:"each",source:"(85:14) {#each $modMeta.uplugin.Plugins as dependency}",ctx:n}),p}function Nt(n){let e,t,s=n[6]("version-form.missing-sem-version")+"",o;const l={c:function(){e=$("p"),t=$("span"),o=R(s),this.h()},l:function(f){e=w(f,"P",{});var d=E(e);t=w(d,"SPAN",{class:!0});var c=E(t);o=k(c,s),c.forEach(h),d.forEach(h),this.h()},h:function(){A(t,"class","text-yellow-600"),S(t,y,106,14,3887),S(e,y,105,12,3869)},m:function(f,d){_(f,e,d),r(e,t),r(t,o)},p:function(f,d){d&64&&s!==(s=f[6]("version-form.missing-sem-version")+"")&&I(o,s)},d:function(f){f&&h(e)}};return W("SvelteRegisterBlock",{block:l,id:Nt.name,type:"else",source:"(105:10) {:else}",ctx:n}),l}function Bt(n){let e,t,s=n[6]("objects")+"",o,l,i,f,d=n[7].objects;Ee(d);let c=[];for(let p=0;p<d.length;p+=1)c[p]=Ce(wt(n,d,p));const b={c:function(){e=$("p"),t=$("strong"),o=R(s),l=R(":"),i=$("br"),f=F();for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l:function(u){e=w(u,"P",{});var m=E(e);t=w(m,"STRONG",{});var a=E(t);o=k(a,s),l=k(a,":"),a.forEach(h),i=w(m,"BR",{}),f=M(m);for(let V=0;V<c.length;V+=1)c[V].l(m);m.forEach(h),this.h()},h:function(){S(t,y,98,14,3650),S(i,y,98,47,3683),S(e,y,97,12,3632)},m:function(u,m){_(u,e,m),r(e,t),r(t,o),r(t,l),r(e,i),r(e,f);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(e,null)},p:function(u,m){if(m&64&&s!==(s=u[6]("objects")+"")&&I(o,s),m&128){d=u[7].objects,Ee(d);let a;for(a=0;a<d.length;a+=1){const V=wt(u,d,a);c[a]?c[a].p(V,m):(c[a]=Ce(V),c[a].c(),c[a].m(e,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=d.length}},d:function(u){u&&h(e),yt(c,u)}};return W("SvelteRegisterBlock",{block:b,id:Bt.name,type:"if",source:"(97:10) {#if $modMeta.objects && $modMeta.objects.length > 0}",ctx:n}),b}function Ce(n){let e,t=n[19]+"",s,o,l;const i={c:function(){e=$("span"),s=R(t),o=F(),l=$("br"),this.h()},l:function(d){e=w(d,"SPAN",{});var c=E(e);s=k(c,t),c.forEach(h),o=M(d),l=w(d,"BR",{}),this.h()},h:function(){S(e,y,100,16,3755),S(l,y,101,16,3793)},m:function(d,c){_(d,e,c),r(e,s),_(d,o,c),_(d,l,c)},p:function(d,c){c&128&&t!==(t=d[19]+"")&&I(s,t)},d:function(d){d&&h(e),d&&h(o),d&&h(l)}};return W("SvelteRegisterBlock",{block:i,id:Ce.name,type:"each",source:"(100:14) {#each $modMeta.objects as object}",ctx:n}),i}function Tt(n){let e,t=(n[18]||"")+"",s;const o={c:function(){e=$("span"),s=R(t),this.h()},l:function(i){e=w(i,"SPAN",{class:!0});var f=E(e);s=k(f,t),f.forEach(h),this.h()},h:function(){A(e,"class","validation-message"),S(e,y,122,10,4437)},m:function(i,f){_(i,e,f),r(e,s)},p:function(i,f){f&262144&&t!==(t=(i[18]||"")+"")&&I(s,t)},d:function(i){i&&h(e)}};return W("SvelteRegisterBlock",{block:o,id:Tt.name,type:"slot",source:'(122:8) <ValidationMessage for=\\"changelog\\" let:messages={message}>',ctx:n}),o}function At(n){const e={c:J,l:J,m:J,p:J,d:J};return W("SvelteRegisterBlock",{block:e,id:At.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function Ft(n){let e,t=n[17]+"";const s={c:function(){e=$("div"),this.h()},l:function(l){e=w(l,"DIV",{class:!0});var i=E(e);i.forEach(h),this.h()},h:function(){A(e,"class","markdown-content right s-Aj89xH93RQKp"),S(e,y,128,10,4698)},m:function(l,i){_(l,e,i),e.innerHTML=t},p:function(l,i){i&32&&t!==(t=l[17]+"")&&(e.innerHTML=t)},d:function(l){l&&h(e)}};return W("SvelteRegisterBlock",{block:s,id:Ft.name,type:"then",source:'(128:55)            <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:n}),s}function Mt(n){const e={c:J,l:J,m:J,p:J,d:J};return W("SvelteRegisterBlock",{block:e,id:Mt.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function Ke(n){let e,t,s,o,l,i=n[6]("stability")+"",f,d,c,b,p,u,m,a,V,z,x,g,P,j,N,O,B,T=n[6]("changelog")+"",v,U,L,ne,ee,xe,X,se,re=n[6]("preview")+"",me,Re,ke,he,Pe,Y,ce=n[6]("version-form.agreement-to")+"",pe,Ne,te,ae=n[6]("content-policy")+"",de,Be,Te,oe,Z,ge,Q,Ae,qe;x=new Ve({props:{for:"stability",$$slots:{default:[Et,({messages:H})=>({18:H}),({messages:H})=>H?262144:0]},$$scope:{ctx:n}},$$inline:!0});let G=!n[2]&&ze(n);ee=new Ve({props:{for:"changelog",$$slots:{default:[Tt,({messages:H})=>({18:H}),({messages:H})=>H?262144:0]},$$scope:{ctx:n}},$$inline:!0});let C={ctx:n,current:null,token:null,hasCatch:!1,pending:Mt,then:Ft,catch:At,value:17};it(he=De(n[5]),C);const Je={c:function(){e=$("form"),t=$("div"),s=$("div"),o=$("label"),l=$("span"),f=R(i),d=F(),c=$("select"),b=$("option"),p=R("Alpha"),u=$("option"),m=R("Beta"),a=$("option"),V=R("Release"),z=F(),je(x.$$.fragment),g=F(),G&&G.c(),P=F(),j=$("div"),N=$("div"),O=$("label"),B=$("span"),v=R(T),U=F(),L=$("textarea"),ne=F(),je(ee.$$.fragment),xe=F(),X=$("div"),se=$("span"),me=R(re),Re=R(":"),ke=F(),C.block.c(),Pe=F(),Y=$("div"),pe=R(ce),Ne=F(),te=$("a"),de=R(ae),Be=R("."),Te=F(),oe=$("div"),Z=$("button"),ge=R(n[1]),this.h()},l:function(K){e=w(K,"FORM",{});var D=E(e);t=w(D,"DIV",{class:!0});var q=E(t);s=w(q,"DIV",{class:!0});var ie=E(s);o=w(ie,"LABEL",{class:!0});var ve=E(o);l=w(ve,"SPAN",{});var Qe=E(l);f=k(Qe,i),Qe.forEach(h),d=M(ve),c=w(ve,"SELECT",{class:!0});var be=E(c);b=w(be,"OPTION",{});var Xe=E(b);p=k(Xe,"Alpha"),Xe.forEach(h),u=w(be,"OPTION",{});var Ye=E(u);m=k(Ye,"Beta"),Ye.forEach(h),a=w(be,"OPTION",{});var Ze=E(a);V=k(Ze,"Release"),Ze.forEach(h),be.forEach(h),ve.forEach(h),z=M(ie),Oe(x.$$.fragment,ie),ie.forEach(h),g=M(q),G&&G.l(q),P=M(q),j=w(q,"DIV",{class:!0});var $e=E(j);N=w($e,"DIV",{class:!0});var we=E(N);O=w(we,"LABEL",{class:!0});var Se=E(O);B=w(Se,"SPAN",{});var et=E(B);v=k(et,T),et.forEach(h),U=M(Se),L=w(Se,"TEXTAREA",{class:!0,rows:!0}),E(L).forEach(h),Se.forEach(h),ne=M(we),Oe(ee.$$.fragment,we),we.forEach(h),xe=M($e),X=w($e,"DIV",{class:!0});var ye=E(X);se=w(ye,"SPAN",{});var Fe=E(se);me=k(Fe,re),Re=k(Fe,":"),Fe.forEach(h),ke=M(ye),C.block.l(ye),ye.forEach(h),$e.forEach(h),Pe=M(q),Y=w(q,"DIV",{class:!0});var fe=E(Y);pe=k(fe,ce),Ne=M(fe),te=w(fe,"A",{href:!0,class:!0});var tt=E(te);de=k(tt,ae),tt.forEach(h),Be=k(fe,"."),fe.forEach(h),Te=M(q),oe=w(q,"DIV",{});var nt=E(oe);Z=w(nt,"BUTTON",{class:!0,type:!0});var st=E(Z);ge=k(st,n[1]),st.forEach(h),nt.forEach(h),q.forEach(h),D.forEach(h),this.h()},h:function(){S(l,y,38,8,1443),b.__value="alpha",b.value=b.__value,S(b,y,40,10,1545),u.__value="beta",u.value=u.__value,S(u,y,41,10,1592),a.__value="release",a.value=a.__value,S(a,y,42,10,1637),A(c,"class","select"),n[3].stability===void 0&&Dt(()=>n[14].call(c)),S(c,y,39,8,1482),A(o,"class","label"),S(o,y,37,6,1413),A(s,"class","grid grid-flow-row gap-2"),S(s,y,36,4,1368),S(B,y,118,10,4202),A(L,"class","vertical-textarea textarea p-2"),L.required=!0,A(L,"rows",10),S(L,y,119,10,4243),A(O,"class","label"),S(O,y,117,8,4170),A(N,"class","grid grid-flow-row gap-2 auto-rows-max"),S(N,y,116,6,4109),S(se,y,126,8,4602),A(X,"class","grid grid-flow-row gap-2 auto-rows-max"),S(X,y,125,6,4541),A(j,"class","grid gap-6 split s-Aj89xH93RQKp"),S(j,y,115,4,4072),A(te,"href","/content-policy"),A(te,"class","s-Aj89xH93RQKp"),S(te,y,134,40,4875),A(Y,"class","text-muted"),S(Y,y,133,4,4810),A(Z,"class","btn variant-ghost-primary"),A(Z,"type","submit"),Z.disabled=n[4],S(Z,y,138,6,4957),S(oe,y,137,4,4945),A(t,"class","grid grid-flow-row gap-6"),S(t,y,35,2,1325),S(e,y,34,0,1307)},m:function(K,D){_(K,e,D),r(e,t),r(t,s),r(s,o),r(o,l),r(l,f),r(o,d),r(o,c),r(c,b),r(b,p),r(c,u),r(u,m),r(c,a),r(a,V),ct(c,n[3].stability,!0),r(s,z),Ie(x,s,null),r(t,g),G&&G.m(t,null),r(t,P),r(t,j),r(j,N),r(N,O),r(O,B),r(B,v),r(O,U),r(O,L),at(L,n[3].changelog),r(N,ne),Ie(ee,N,null),r(j,xe),r(j,X),r(X,se),r(se,me),r(se,Re),r(X,ke),C.block.m(X,C.anchor=null),C.mount=()=>X,C.anchor=null,r(t,Pe),r(t,Y),r(Y,pe),r(Y,Ne),r(Y,te),r(te,de),r(Y,Be),r(t,Te),r(t,oe),r(oe,Z),r(Z,ge),Q=!0,Ae||(qe=[ft(c,"change",n[14]),ft(L,"input",n[15]),Lt(n[9].call(null,e))],Ae=!0)},p:function(K,[D]){n=K,(!Q||D&64)&&i!==(i=n[6]("stability")+"")&&I(f,i),D&8&&ct(c,n[3].stability);const q={};D&33816576&&(q.$$scope={dirty:D,ctx:n}),x.$set(q),n[2]?G&&(zt(),ue(G,1,1,()=>{G=null}),Gt()):G?(G.p(n,D),D&4&&le(G,1)):(G=ze(n),G.c(),le(G,1),G.m(t,P)),(!Q||D&64)&&T!==(T=n[6]("changelog")+"")&&I(v,T),D&8&&at(L,n[3].changelog);const ie={};D&33816576&&(ie.$$scope={dirty:D,ctx:n}),ee.$set(ie),(!Q||D&64)&&re!==(re=n[6]("preview")+"")&&I(me,re),C.ctx=n,D&32&&he!==(he=De(n[5]))&&it(he,C)||Wt(C,n,D),(!Q||D&64)&&ce!==(ce=n[6]("version-form.agreement-to")+"")&&I(pe,ce),(!Q||D&64)&&ae!==(ae=n[6]("content-policy")+"")&&I(de,ae),(!Q||D&2)&&I(ge,n[1]),(!Q||D&16)&&Ht(Z,"disabled",n[4])},i:function(K){Q||(le(x.$$.fragment,K),le(G),le(ee.$$.fragment,K),Q=!0)},o:function(K){ue(x.$$.fragment,K),ue(G),ue(ee.$$.fragment,K),Q=!1},d:function(K){K&&h(e),_e(x),G&&G.d(),_e(ee),C.block.d(),C.token=null,C=null,Ae=!1,Ut(qe)}};return W("SvelteRegisterBlock",{block:Je,id:Ke.name,type:"component",source:"",ctx:n}),Je}function tn(n,e,t){let s,o,l,i=J,f=()=>(i(),i=Ct(p,v=>t(6,l=v)),p),d;n.$$.on_destroy.push(()=>i());let{$$slots:c={},$$scope:b}=e;_t("VersionForm",c,[]);const{t:p}=ot();Me(p,"t"),f();let{modReference:u}=e,{onSubmit:m}=e,{initialValues:a={arch:[{ModVersionID:"",platform:"",asset:"",hash:"",size:0}],changelog:"",stability:bt.Alpha}}=e,{submitText:V=l("entry.create")}=e,{editing:z=!1}=e;const x=rt();Me(x,"modMeta"),lt(n,x,v=>t(7,d=v));let g=!1;const P=$t(u,x),{form:j,data:N}=pt({initialValues:a,extend:[dt({schema:P}),gt],onSubmit:v=>{t(4,g=!0),m(vt(v,P)).then(()=>t(4,g=!1))}});Me(N,"data"),lt(n,N,v=>t(3,o=v)),n.$$.on_mount.push(function(){u===void 0&&!("modReference"in e||n.$$.bound[n.$$.props.modReference])&&console.warn("<VersionForm> was created without expected prop 'modReference'"),m===void 0&&!("onSubmit"in e||n.$$.bound[n.$$.props.onSubmit])&&console.warn("<VersionForm> was created without expected prop 'onSubmit'")});const O=["modReference","onSubmit","initialValues","submitText","editing"];Object.keys(e).forEach(v=>{!~O.indexOf(v)&&v.slice(0,2)!=="$$"&&v!=="slot"&&console.warn(`<VersionForm> was created with unknown prop '${v}'`)});function B(){o.stability=Kt(this),N.set(o)}function T(){o.changelog=this.value,N.set(o)}return n.$$set=v=>{"modReference"in v&&t(11,u=v.modReference),"onSubmit"in v&&t(12,m=v.onSubmit),"initialValues"in v&&t(13,a=v.initialValues),"submitText"in v&&t(1,V=v.submitText),"editing"in v&&t(2,z=v.editing)},n.$capture_state=()=>({createForm:pt,validator:dt,reporter:gt,ValidationMessage:Ve,constructVersionSchema:$t,trimNonSchema:vt,markdown:De,writable:rt,VersionStabilities:bt,prettyBytes:Le,getTranslate:ot,t:p,modReference:u,onSubmit:m,initialValues:a,submitText:V,editing:z,modMeta:x,disabled:g,versionSchema:P,form:j,data:N,preview:s,$data:o,$t:l,$modMeta:d}),n.$inject_state=v=>{"modReference"in v&&t(11,u=v.modReference),"onSubmit"in v&&t(12,m=v.onSubmit),"initialValues"in v&&t(13,a=v.initialValues),"submitText"in v&&t(1,V=v.submitText),"editing"in v&&t(2,z=v.editing),"disabled"in v&&t(4,g=v.disabled),"preview"in v&&t(5,s=v.preview)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&8&&t(5,s=o.changelog||"")},[p,V,z,o,g,s,l,d,x,j,N,u,m,a,B,T]}class un extends jt{constructor(e){super(e),Ot(this,e,tn,Ke,It,{t:0,modReference:11,onSubmit:12,initialValues:13,submitText:1,editing:2}),W("SvelteRegisterComponent",{component:this,tagName:"VersionForm",options:e,id:Ke.name})}get t(){return this.$$.ctx[0]}set t(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get modReference(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set modReference(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{un as V};
//# sourceMappingURL=VersionForm.d473b204.js.map
