{"version":3,"mappings":"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","names":["initializeGraphQLClient","fetch","createClient","url","API_GRAPHQL","exchanges","cacheExchange","schema","keys","GetMods","LatestVersions","UserMod","GetGuides","OAuthOptions","UserRoles","Compatibility","CompatibilityInfo","updates","Mutation","_result","args","cache","invalidate","__typename","id","guideId","modId","versionId","smlVersionId","authExchange","async","utils","token","get","userToken","operation","appendHeaders","Authorization","error","message","indexOf","persistedExchange","preferGetForPersistedQueries","fetchExchange","load","client","t0_value","ctx","t2_value","t4_value","insert_hydration_dev","target","button0","anchor","button1","button2","dirty","set_data_dev","t0","t2","t4","p","t1","t1_value","div","current","fetching","div2","append_hydration_dev","h2","div1","div0","signingIn","$$props","t","getTranslate","getContextClient","goTo","service","localStorage","setItem","goto","conicStops","color","start","end","oauthOptions","queryStore","query","GetOAuthOptionsDocument","variables","callback_url","encodeURIComponent","window","location","origin","pathname","requestPolicy","$oauthOptions","data","getOAuthOptions","github","google","facebook","span","getMe","GetMeDocument","pause","first","subscribe","oneMonth","Date","getTime","cookie","set","domain","hostname","expires","mutation","LogoutDocument","undefined","toPromise","catch","then","remove","resume","unsub","response","console","user","signInMethods","OAuthGithubDocument","OAuthGoogleDocument","OAuthFacebookDocument","errorMessage","errorToast","modalStore","getModalStore","signInMethod","getItem","removeItem","queryParams","Object","fromEntries","$page","searchParams","entries","length","URLSearchParams","search","code","state","trigger","loginModal","result","$$invalidate","session","close","value","type","component","ref","LoginModal","props","username","t6_value","create_if_block_3","attr_dev","div0_style_value","avatar","span0","span1","t6","button","icon","label","a","a_href_value","external","create_if_block_1","li","create_if_block","t9_value","create_if_block_2","i","nav0","ul0","hr","nav1","ul1","nav2","ul2","li0","li1","span2","t9","accessibility","click_handler","base","click_handler_2","$user","preloadData","item","currentPath","isAdmin","roles","approveMods","approveVersions","editSMLVersions","top","$t","bottom","div2_class_value","b","monospacePrefix","iconNames","AnnouncementImportance","Info","Alert","Warning","Fix","backgroundColors","importance","isMonospace","startsWith","finalMessage","replaceAll","getAnnouncements","each_blocks","announcementrow_changes","announcements","GetAnnouncementsDocument","name","flag","toggle_class","nav","ul","tolgee","getTolgee","languages","en","de","fr","lv","mt","lang","writable","$tolgee","getLanguage","l","changeLanguage","languageMenuBox","event","placement","closeQuery","k","pingLauncher","t8_value","div1_style_value","div4","div3","li2","button3","t8","drawerStore","getDrawerStore","userMenuBox","click_handler_5","open","script0","script0_src_value","script1","main","aside","document_1","head","link0","link1","link2","link3","link4","link5","link6","meta0","meta1","meta2","link7","initializeStores","storePopup","computePosition","autoUpdate","offset","shift","flip","arrow","Tolgee","use","DevTools","FormatSimple","LanguageDetector","init","defaultNs","defaultLanguage","fallbackLanguage","apiUrl","PUBLIC_TOLGEE_API_URL","apiKey","PUBLIC_TOLGEE_API_KEY","staticData","enCommon","deCommon","frCommon","lvCommon","mtCommon","zhHansCommon","zhHantCommon","gTag","PUBLIC_GOOGLE_SITE_TAG","root","onMount","document","body","n","b9","cookieconsent","initialise","palette","popup","background","theme","position","customProtocolCheck","import","toLocaleLowerCase","hasLauncher","toString","setContextClient","classList","add"],"sources":["../../../../../../src/lib/core/graphql.ts","../../../../../../src/routes/+layout.ts","../../../../../../src/lib/modals/LoginModal.svelte","../../../../../../src/lib/components/auth/LoginDialog.svelte","../../../../../../src/lib/components/general/Sidebar.svelte","../../../../../../src/lib/components/announcements/AnnouncementRow.svelte","../../../../../../src/lib/components/announcements/AnnouncementHeader.svelte","../../../../../../src/lib/components/general/TranslationDropdown.svelte","../../../../../../src/lib/components/general/TopBar.svelte","../../../../../../src/routes/+layout.svelte"],"sourcesContent":["import schema from '$lib/generated/graphql.schema.urql.json';\nimport { createClient, fetchExchange, type Client } from '@urql/svelte';\nimport { cacheExchange } from '@urql/exchange-graphcache';\nimport { persistedExchange } from '@urql/exchange-persisted';\nimport { API_GRAPHQL } from './api';\nimport { userToken } from '$lib/stores/user';\nimport { authExchange } from '@urql/exchange-auth';\nimport type { LoadEvent } from '@sveltejs/kit';\nimport { get } from 'svelte/store';\n\nexport const initializeGraphQLClient = (fetch?: LoadEvent['fetch']): Client =>\n  createClient({\n    url: API_GRAPHQL,\n    fetch,\n    exchanges: [\n      cacheExchange({\n        schema,\n        keys: {\n          GetMods: () => null,\n          LatestVersions: () => null,\n          UserMod: () => null,\n          GetGuides: () => null,\n          OAuthOptions: () => null,\n          UserRoles: () => null,\n          Compatibility: () => null,\n          CompatibilityInfo: () => null\n        },\n        updates: {\n          Mutation: {\n            deleteGuide(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Guide',\n                id: args.guideId as string\n              });\n            },\n            deleteMod(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Mod',\n                id: args.modId as string\n              });\n            },\n            approveMod(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Mod',\n                id: args.modId as string\n              });\n            },\n            denyMod(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Mod',\n                id: args.modId as string\n              });\n            },\n            approveVersion(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Version',\n                id: args.versionId as string\n              });\n            },\n            denyVersion(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Version',\n                id: args.versionId as string\n              });\n            },\n            deleteSMLVersion(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'SMLVersion',\n                id: args.smlVersionId as string\n              });\n            },\n            deleteVersion(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Version',\n                id: args.versionId as string\n              });\n            },\n            updateVersion(_result, args, cache) {\n              cache.invalidate({\n                __typename: 'Version',\n                id: args.versionId as string\n              });\n            }\n          }\n        }\n      }),\n      authExchange(async (utils) => {\n        const token = get(userToken);\n        return {\n          addAuthToOperation(operation) {\n            return utils.appendHeaders(operation, {\n              Authorization: token\n            });\n          },\n          didAuthError(error) {\n            return error.message.indexOf('user not logged in') >= 0;\n          },\n          async refreshAuth() {\n            // Token cannot be refreshed currently\n          }\n        };\n      }),\n      persistedExchange({\n        preferGetForPersistedQueries: true\n      }),\n      fetchExchange\n    ]\n  });\n","import type { LayoutLoad } from './$types';\nimport { initializeGraphQLClient } from '$lib/core';\n\nexport const load: LayoutLoad = async ({ fetch }) => {\n  const client = initializeGraphQLClient(fetch);\n  return {\n    client\n  };\n};\n","<script lang=\"ts\">\n  import { getTranslate } from '@tolgee/svelte';\n  import { goto } from '$app/navigation';\n  import { ConicGradient, type ConicStop } from '@skeletonlabs/skeleton';\n  import { getContextClient, queryStore } from '@urql/svelte';\n  import { GetOAuthOptionsDocument } from '$lib/generated';\n  import { browser } from '$app/environment';\n\n  export let signingIn = false;\n\n  export const { t } = getTranslate();\n\n  const client = getContextClient();\n\n  const goTo = (service: string, url: string) => {\n    localStorage.setItem('sign.in.method', service);\n    goto(url);\n  };\n\n  const conicStops: ConicStop[] = [\n    { color: 'transparent', start: 0, end: 25 },\n    { color: 'rgb(var(--color-primary-500))', start: 75, end: 100 }\n  ];\n\n  const oauthOptions = queryStore({\n    query: GetOAuthOptionsDocument,\n    client,\n    variables: { callback_url: browser ? encodeURIComponent(window.location.origin + window.location.pathname) : '' },\n    requestPolicy: 'network-only'\n  });\n</script>\n\n<div class=\"card p-4 flex flex-col gap-2\">\n  <h2 class=\"text-2xl\">{$t('user.sign-in')} / {$t('user.sign-up')}</h2>\n  <div>\n    <div class=\"grid grid-flow-row gap-4\">\n      {#if signingIn}\n        <p>{$t('user.logging-in')}...</p>\n        <div class=\"flex justify-center\">\n          <ConicGradient stops={conicStops} spin>Loading</ConicGradient>\n        </div>\n      {:else if $oauthOptions.fetching}\n        <!-- TODO Placeholders -->\n        <p>{$t('loading')}...</p>\n      {:else if $oauthOptions.error}\n        <p>Oh no... {$oauthOptions.error.message}</p>\n      {:else}\n        <button\n          class=\"btn variant-ghost-primary\"\n          on:click={() => goTo('github', $oauthOptions.data.getOAuthOptions.github)}>\n          {$t('login-dialog.sign-in-with-github')}\n        </button>\n        <button\n          class=\"btn variant-ghost-primary\"\n          on:click={() => goTo('google', $oauthOptions.data.getOAuthOptions.google)}>\n          {$t('login-dialog.sign-in-with-google')}\n        </button>\n        <button\n          class=\"btn variant-ghost-primary\"\n          on:click={() => goTo('facebook', $oauthOptions.data.getOAuthOptions.facebook)}>\n          {$t('login-dialog.sign-in-with-facebook')}\n        </button>\n      {/if}\n    </div>\n  </div>\n</div>\n","<script lang=\"ts\">\n  import {\n    GetMeDocument,\n    GetOAuthOptionsDocument,\n    OAuthFacebookDocument,\n    OAuthGithubDocument,\n    OAuthGoogleDocument,\n    LogoutDocument\n  } from '$lib/generated';\n  import { getContextClient, queryStore } from '@urql/svelte';\n  import { browser } from '$app/environment';\n  import { page } from '$app/stores';\n  import Toast from '../general/Toast.svelte';\n  import { user, userToken } from '$lib/stores/user';\n  import cookie from 'js-cookie';\n  import { getTranslate } from '@tolgee/svelte';\n  import { getModalStore, type ModalSettings } from '@skeletonlabs/skeleton';\n  import LoginModal from '$lib/modals/LoginModal.svelte';\n\n  const client = getContextClient();\n\n  export const { t } = getTranslate();\n\n  if (browser) {\n    const getMe = queryStore({\n      query: GetMeDocument,\n      client,\n      variables: {},\n      requestPolicy: 'network-only',\n      pause: true\n    });\n\n    let first = true;\n    userToken.subscribe((token) => {\n      if (token) {\n        const oneMonth = new Date(new Date().getTime() + 30 * 24 * 60 * 60 * 1000);\n        cookie.set('token', token, {\n          domain: window.location.hostname,\n          expires: oneMonth\n        });\n      } else if (!first) {\n        client\n          .mutation(LogoutDocument, undefined, {\n            requestPolicy: 'network-only'\n          })\n          .toPromise()\n          .catch()\n          .then(() => {\n            cookie.remove('token');\n          });\n      }\n\n      first = false;\n\n      if (token) {\n        getMe.pause();\n        getMe.resume();\n\n        const unsub = getMe.subscribe((response) => {\n          if (!response.fetching) {\n            if (response.error) {\n              // TODO Toast or something\n              console.error(response.error.message);\n              unsub();\n            } else if (response.data) {\n              user.set(response.data.getMe);\n              unsub();\n            }\n          }\n        });\n      } else {\n        user.set(null);\n      }\n    });\n  }\n\n  const signInMethods = {\n    github: OAuthGithubDocument,\n    google: OAuthGoogleDocument,\n    facebook: OAuthFacebookDocument\n  };\n\n  let errorMessage = '';\n  let errorToast = false;\n  let signingIn = false;\n\n  $: loginModal = {\n    type: 'component',\n    component: {\n      ref: LoginModal,\n      props: {\n        signingIn\n      }\n    }\n  } satisfies ModalSettings;\n\n  const modalStore = getModalStore();\n\n  if (browser) {\n    const signInMethod = localStorage.getItem('sign.in.method');\n    localStorage.removeItem('sign.in.method');\n\n    let queryParams = Object.fromEntries($page.url.searchParams.entries());\n    if (Object.keys(queryParams).length === 0) {\n      queryParams = Object.fromEntries(new URLSearchParams(window.location.search));\n    }\n\n    const code = queryParams.code;\n    const state = queryParams.state;\n\n    if (signInMethod && code && state) {\n      signingIn = true;\n      modalStore.trigger(loginModal);\n\n      client\n        .mutation(signInMethods[signInMethod as 'github' | 'google' | 'facebook'], {\n          code,\n          state\n        })\n        .toPromise()\n        .then((result) => {\n          if (result.error) {\n            console.error(result.error.message);\n            errorMessage = 'Error logging in: ' + result.error.message;\n            errorToast = true;\n          } else {\n            userToken.set(result.data.session.token);\n            modalStore.close();\n          }\n        })\n        .catch()\n        .then(() => (signingIn = false));\n    }\n  }\n</script>\n\n<Toast bind:running={errorToast}>\n  <span>{errorMessage}</span>\n</Toast>\n","<script lang=\"ts\">\n  import { getModalStore, SlideToggle } from '@skeletonlabs/skeleton';\n  import { goto, preloadData } from '$app/navigation';\n  import { base } from '$app/paths';\n  import { page } from '$app/stores';\n  import { user, userToken } from '$lib/stores/user';\n  import { getTranslate } from '@tolgee/svelte';\n  import LoginModal from '$lib/modals/LoginModal.svelte';\n\n  export let accessibility: boolean;\n\n  export const { t } = getTranslate();\n\n  $: currentPath = $page.url.pathname;\n  $: isAdmin = !$user ? false : $user.roles.approveMods || $user.roles.approveVersions || $user.roles.editSMLVersions;\n\n  $: top = [\n    {\n      url: base + '/',\n      icon: 'home',\n      label: $t('sidebar.home')\n    },\n    {\n      url: base + '/mods',\n      icon: 'extension',\n      label: $t('sidebar.mods')\n    },\n    {\n      url: base + '/guides',\n      icon: 'description',\n      label: $t('sidebar.guides')\n    },\n    {\n      url: base + '/sml-versions',\n      icon: 'lightbulb',\n      label: $t('sidebar.sml-versions')\n    },\n    {\n      url: base + '/tools',\n      icon: 'apps',\n      label: $t('sidebar.tools')\n    },\n    {\n      url: 'https://discord.gg/xkVJ73E',\n      icon: 'people',\n      label: $t('discord'),\n      external: true\n    },\n    {\n      url: 'https://docs.ficsit.app/',\n      icon: 'find_in_page',\n      label: $t('sidebar.docs'),\n      external: true\n    },\n    {\n      url: 'https://forums.ficsit.app/',\n      icon: 'forum',\n      label: $t('sidebar.forums'),\n      external: true\n    }\n  ];\n\n  $: bottom = [\n    {\n      url: base + '/help',\n      icon: 'help',\n      label: $t('sidebar.help')\n    },\n    {\n      url: base + '/content-policy',\n      icon: 'verified_user',\n      label: $t('content-policy')\n    },\n    {\n      url: base + '/privacy-policy',\n      icon: 'policy',\n      label: $t('sidebar.privacy-policy')\n    },\n    {\n      url: base + '/tos',\n      icon: 'gavel',\n      label: $t('sidebar.tos')\n    },\n    {\n      url: base + '/api-docs',\n      icon: 'api',\n      label: $t('sidebar.api')\n    },\n    {\n      url: 'https://github.com/satisfactorymodding',\n      icon: 'source',\n      label: $t('sidebar.github'),\n      external: true\n    }\n  ];\n\n  const modalStore = getModalStore();\n</script>\n\n<div class=\"p-4 overflow-y-auto flex flex-col justify-between h-full\">\n  <nav class=\"list-nav xl:hidden\">\n    <ul>\n      {#if $user === null}\n        <button\n          on:click={() =>\n            modalStore.trigger({\n              type: 'component',\n              component: {\n                ref: LoginModal\n              }\n            })}\n          class=\"w-full\">\n          <span class=\"material-icons\">login</span>\n          <span>{$t('user.sign-in')}</span>\n        </button>\n      {:else}\n        {#if isAdmin}\n          <button on:click={() => goto(base + '/admin')} class=\"w-full\">\n            <span class=\"material-icons\">admin_panel_settings</span>\n            <span>Admin</span>\n          </button>\n        {/if}\n        <button class=\"grid grid-flow-col w-full\" on:click={() => goto(base + '/user/' + $user.id)}>\n          <div class=\"rounded-full bg-cover w-7 h-7\" style={`background-image: url(\"${$user.avatar}\")`} />\n          <div>{$user.username}</div>\n        </button>\n\n        <button on:click={() => userToken.set(null)} class=\"w-full\">\n          <span class=\"material-icons\">logout</span>\n          <span>{$t('user.logout')}</span>\n        </button>\n      {/if}\n    </ul>\n  </nav>\n\n  <div class=\"xl:hidden\">\n    <hr />\n  </div>\n\n  <nav class=\"list-nav\">\n    <ul>\n      {#each top as item}\n        <li>\n          {#if !item.external}\n            <a\n              href={item.url}\n              class:bg-primary-active-token={currentPath === item.url}\n              on:mouseover={() => preloadData(item.url)}\n              on:focus={() => preloadData(item.url)}>\n              <span class=\"material-icons\">{item.icon}</span>\n              <span class=\"flex-auto\">{item.label}</span>\n            </a>\n          {:else}\n            <a href={item.url} target=\"_blank\" rel=\"noopener\">\n              <span class=\"material-icons\">{item.icon}</span>\n              <span class=\"flex-auto\">{item.label}</span>\n            </a>\n          {/if}\n        </li>\n      {/each}\n    </ul>\n  </nav>\n\n  <nav class=\"list-nav\">\n    <ul>\n      {#each bottom as item}\n        <li>\n          {#if !item.external}\n            <a\n              href={item.url}\n              class:bg-primary-active-token={currentPath === item.url}\n              on:mouseover={() => preloadData(item.url)}\n              on:focus={() => preloadData(item.url)}>\n              <span class=\"material-icons\">{item.icon}</span>\n              <span class=\"flex-auto\">{item.label}</span>\n            </a>\n          {:else}\n            <a href={item.url} target=\"_blank\" rel=\"noopener\">\n              <span class=\"material-icons\">{item.icon}</span>\n              <span class=\"flex-auto\">{item.label}</span>\n            </a>\n          {/if}\n        </li>\n      {/each}\n\n      <li class=\"xl:hidden\">\n        <a target=\"_blank\" href=\"https://smm.ficsit.app\" rel=\"noopener\">\n          <span class=\"material-icons\">file_download</span>\n          <span class=\"flex-auto\">{$t('sidebar.mod-manager')}</span>\n        </a>\n      </li>\n\n      <li class=\"flex flex-row items-center justify-center gap-4 px-3 pt-2\">\n        <SlideToggle\n          bind:checked={accessibility}\n          aria-label=\"Accessibility Font\"\n          name=\"accessibility_font\"\n          size=\"sm\"\n          active=\"bg-primary-500\" />\n        <span>{$t('sidebar.accessibility-font')}</span>\n      </li>\n    </ul>\n  </nav>\n</div>\n","<script lang=\"ts\">\n  import { AnnouncementImportance } from '$lib/generated';\n\n  const iconNames: { [key in AnnouncementImportance]: string } = {\n    [AnnouncementImportance.Info]: 'info',\n    [AnnouncementImportance.Alert]: 'error',\n    [AnnouncementImportance.Warning]: 'warning',\n    [AnnouncementImportance.Fix]: 'build_circle'\n  };\n  const backgroundColors: { [key in AnnouncementImportance]: string } = {\n    [AnnouncementImportance.Info]: 'bg-sky-500',\n    [AnnouncementImportance.Alert]: 'bg-red-600',\n    [AnnouncementImportance.Warning]: 'bg-yellow-400',\n    [AnnouncementImportance.Fix]: 'bg-green-600'\n  };\n  const monospacePrefix = 'monotext:';\n\n  export let message: string;\n  export let importance: AnnouncementImportance;\n\n  // Enables making monospace announcements\n  $: isMonospace = message.startsWith(monospacePrefix);\n  $: finalMessage = isMonospace ? message.replaceAll(monospacePrefix, '') : message;\n</script>\n\n<div class=\"{backgroundColors[importance]} max-h-64 overflow-hidden rounded-sm\">\n  <div class=\"p-1 striped text-black\">\n    <span class=\"material-icons text-2xl align-middle\">{iconNames[importance]}</span>\n    <div\n      class=\"align-middle text-l inline-block break-words max-w-full\"\n      class:font-mono={isMonospace}\n      class:whitespace-pre={isMonospace}>\n      <b>{importance}: </b>{finalMessage}\n    </div>\n  </div>\n</div>\n\n<style>\n  .striped {\n    background: repeating-linear-gradient(\n      45deg,\n      transparent,\n      transparent 14px,\n      rgba(60, 60, 60, 0.1) 14px,\n      rgba(60, 60, 60, 0.1) 28px\n    );\n  }\n</style>\n","<script lang=\"ts\">\n  import { getContextClient, queryStore } from '@urql/svelte';\n  import { AnnouncementImportance, GetAnnouncementsDocument } from '$lib/generated';\n  import AnnouncementRow from './AnnouncementRow.svelte';\n\n  const client = getContextClient();\n\n  const announcements = queryStore({\n    query: GetAnnouncementsDocument,\n    client,\n    variables: {}\n  });\n</script>\n\n{#if $announcements.fetching}\n  <!-- Display nothing, don't disrupt the page for no reason -->\n{:else if $announcements.error}\n  <AnnouncementRow\n    message=\"Failed to load announcements: {$announcements.error.message}\"\n    importance={AnnouncementImportance.Warning} />\n{:else if $announcements && $announcements.data && $announcements.data.getAnnouncements}\n  <div class=\"max-h-96 overflow-y-auto flex flex-col gap-2 mr-3 mt-3 ml-3 xl:ml-0 mb-3 xl:mb-0\">\n    {#each $announcements?.data?.getAnnouncements as announcement}\n      <AnnouncementRow message={announcement.message} importance={announcement.importance} />\n    {/each}\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import { getTolgee, getTranslate } from '@tolgee/svelte';\n  import { writable } from 'svelte/store';\n  import { type PopupSettings, popup } from '@skeletonlabs/skeleton';\n\n  const tolgee = getTolgee(['language']);\n\n  export const { t } = getTranslate();\n\n  const languages = {\n    en: {\n      name: 'English',\n      flag: '🇺🇳'\n    },\n    de: {\n      name: 'Deutsch',\n      flag: '🇩🇪'\n    },\n    fr: {\n      name: 'Français',\n      flag: '🇫🇷'\n    },\n    lv: {\n      name: 'Latviešu',\n      flag: '🇱🇻'\n    },\n    mt: {\n      name: 'Malti',\n      flag: '🇲🇹'\n    },\n    'zh-Hans': {\n      name: '简体中文',\n      flag: '🇨🇳'\n    },\n    'zh-Hant': {\n      name: '繁體中文',\n      flag: '🇹🇼'\n    }\n  } as const;\n\n  const lang = writable<string>(localStorage.getItem('language') || $tolgee.getLanguage());\n  lang.subscribe((l) => {\n    $tolgee.changeLanguage(l);\n    localStorage.setItem('language', l);\n  });\n\n  const languageMenuBox: PopupSettings = {\n    event: 'focus-click',\n    target: 'languageMenuBox',\n    placement: 'bottom',\n    closeQuery: 'li'\n  };\n</script>\n\n<button class=\"grid grid-flow-col btn btn-sm variant-ghost-primary\" use:popup={languageMenuBox}>\n  <span>{languages[$lang].name}</span>\n  <span class=\"text-xl\">{languages[$lang].flag}</span>\n</button>\n\n<div class=\"card w-48 shadow-xl py-2\" data-popup=\"languageMenuBox\">\n  <nav class=\"list-nav\">\n    <ul>\n      {#each Object.entries(languages) as [k, v]}\n        <li class:bg-primary-active-token={$lang === k}>\n          <button class=\"w-full\" on:click={() => lang.set(k)}>\n            <span>{v.name}</span>\n            <span class=\"text-xl\">{v.flag}</span>\n          </button>\n        </li>\n      {/each}\n    </ul>\n  </nav>\n  <div class=\"arrow bg-surface-100-800-token\" />\n</div>\n","<script lang=\"ts\">\n  import { hasLauncher, pingLauncher } from '$lib/stores/launcher';\n  import { user, userToken } from '$lib/stores/user';\n  import { goto } from '$app/navigation';\n  import { base } from '$app/paths';\n  import TranslationDropdown from '$lib/components/general/TranslationDropdown.svelte';\n  import { getTranslate } from '@tolgee/svelte';\n  import { AppBar, type PopupSettings, popup, getDrawerStore, getModalStore } from '@skeletonlabs/skeleton';\n  import LoginModal from '$lib/modals/LoginModal.svelte';\n\n  $: isAdmin = !$user ? false : $user.roles.approveMods || $user.roles.approveVersions || $user.roles.editSMLVersions;\n\n  export const { t } = getTranslate();\n\n  const drawerStore = getDrawerStore();\n\n  const userMenuBox: PopupSettings = {\n    event: 'focus-click',\n    target: 'userMenuBox',\n    placement: 'bottom',\n    closeQuery: 'li'\n  };\n\n  const modalStore = getModalStore();\n</script>\n\n<AppBar variant=\"static\">\n  <svelte:fragment slot=\"lead\">\n    <button class=\"material-icons xl:hidden btn-sm\" on:click={() => drawerStore.open()}>menu</button>\n    <span class=\"text-lg\">{$t('top-bar.title')}</span>\n  </svelte:fragment>\n\n  <svelte:fragment slot=\"trail\">\n    <div class=\"hidden xl:flex xl:gap-3\">\n      <TranslationDropdown />\n\n      {#if $hasLauncher}\n        <button class=\"btn btn-sm variant-ghost-primary\" on:click={pingLauncher}>\n          <span>Launcher Detected</span>\n          <span class=\"material-icons\">file_download</span>\n        </button>\n      {:else}\n        <a class=\"btn btn-sm variant-ghost-primary\" target=\"_blank\" rel=\"noopener\" href=\"https://smm.ficsit.app\">\n          <span>Mod Manager</span>\n          <span class=\"material-icons\">file_download</span>\n        </a>\n      {/if}\n\n      {#if $user === null}\n        <button\n          class=\"btn btn-sm variant-ghost-primary\"\n          on:click={() =>\n            modalStore.trigger({\n              type: 'component',\n              component: {\n                ref: LoginModal\n              }\n            })}>\n          <span>{$t('user.sign-in')}</span>\n          <span class=\"material-icons\">login</span>\n        </button>\n      {:else}\n        {#if isAdmin}\n          <button class=\"btn btn-sm variant-ghost-primary\" on:click={() => goto(base + '/admin')}>\n            <span>Admin</span>\n            <span class=\"material-icons\">admin_panel_settings</span>\n          </button>\n        {/if}\n\n        <div>\n          <button class=\"grid grid-flow-col btn btn-sm variant-ghost-primary\" use:popup={userMenuBox}>\n            <div>{$user.username}</div>\n            <div class=\"rounded-full bg-cover w-7 h-7\" style={`background-image: url(\"${$user.avatar}\")`} />\n          </button>\n\n          <div class=\"card w-48 shadow-xl py-2\" data-popup=\"userMenuBox\">\n            <nav class=\"list-nav\">\n              <ul>\n                <li>\n                  <button class=\"w-full\" on:click={() => goto(base + '/user/' + $user.id)}>\n                    <span>{$t('top-bar.user.profile')}</span>\n                  </button>\n                </li>\n                <li>\n                  <button class=\"w-full\" on:click={() => goto(base + '/settings')}>\n                    <span>{$t('top-bar.user.settings')}</span>\n                  </button>\n                </li>\n                <li>\n                  <button class=\"w-full\" on:click={() => userToken.set(null)}>\n                    <span>{$t('user.logout')}</span>\n                  </button>\n                </li>\n              </ul>\n            </nav>\n            <div class=\"arrow bg-surface-100-800-token\" />\n          </div>\n        </div>\n      {/if}\n    </div>\n  </svelte:fragment>\n</AppBar>\n","<script lang=\"ts\">\n  import LoginDialog from '$lib/components/auth/LoginDialog.svelte';\n  import { setContextClient } from '@urql/svelte';\n  import { onMount } from 'svelte';\n  import { customProtocolCheck, hasLauncher } from '$lib/stores/launcher';\n  import Sidebar from '$lib/components/general/Sidebar.svelte';\n  import AnnouncementHeader from '$lib/components/announcements/AnnouncementHeader.svelte';\n  import { base } from '$app/paths';\n  import { browser } from '$app/environment';\n  import { PUBLIC_GOOGLE_SITE_TAG, PUBLIC_TOLGEE_API_URL, PUBLIC_TOLGEE_API_KEY } from '$env/static/public';\n  import type { LayoutData } from './$types';\n  import { TolgeeProvider, Tolgee, DevTools, FormatSimple, LanguageDetector } from '@tolgee/svelte';\n  import { initializeStores, AppShell, Modal, storePopup, Drawer, Toast } from '@skeletonlabs/skeleton';\n  import TopBar from '$lib/components/general/TopBar.svelte';\n  import './_global.postcss';\n  import { computePosition, autoUpdate, offset, shift, flip, arrow } from '@floating-ui/dom';\n\n  import enCommon from '../i18n/common/en.json';\n  import deCommon from '../i18n/common/de.json';\n  import frCommon from '../i18n/common/fr.json';\n  import lvCommon from '../i18n/common/lv.json';\n  import mtCommon from '../i18n/common/mt.json';\n  import zhHansCommon from '../i18n/common/zh-Hans.json';\n  import zhHantCommon from '../i18n/common/zh-Hant.json';\n\n  export let data: LayoutData;\n\n  const { client } = data;\n\n  initializeStores();\n  storePopup.set({ computePosition, autoUpdate, offset, shift, flip, arrow });\n\n  const tolgee = Tolgee()\n    .use(DevTools())\n    .use(FormatSimple())\n    .use(LanguageDetector())\n    .init({\n      defaultNs: 'common',\n\n      defaultLanguage: 'en',\n      fallbackLanguage: 'en',\n\n      apiUrl: PUBLIC_TOLGEE_API_URL,\n      apiKey: PUBLIC_TOLGEE_API_KEY,\n\n      staticData: {\n        'en:common': enCommon,\n        'de:common': deCommon,\n        'fr:common': frCommon,\n        'lv:common': lvCommon,\n        'mt:common': mtCommon,\n        'zh-Hans:common': zhHansCommon,\n        'zh-Hant:common': zhHantCommon\n      }\n    });\n\n  let gTag: unknown;\n  if (browser) {\n    gTag = PUBLIC_GOOGLE_SITE_TAG as string;\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    window.gTag = gTag;\n  }\n\n  let root: HTMLElement;\n  onMount(async () => {\n    if (browser) {\n      root = document.body;\n\n      await import('cookieconsent/src/cookieconsent');\n\n      if ('cookieconsent' in window) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        window.cookieconsent.initialise({\n          palette: {\n            popup: {\n              background: '#000'\n            },\n            button: {\n              background: '#f1d600'\n            }\n          },\n          theme: 'edgeless',\n          position: 'bottom-right'\n        });\n      }\n\n      customProtocolCheck.set(await import('$lib/thirdparty/custom_protocol'));\n\n      if (localStorage.getItem('hasLauncher') && localStorage.getItem('hasLauncher').toLocaleLowerCase() === 'true') {\n        hasLauncher.set(true);\n      }\n\n      hasLauncher.subscribe((value) => {\n        if (value === true || value === false) {\n          localStorage.setItem('hasLauncher', value.toString().toLocaleLowerCase());\n        }\n      });\n    }\n  });\n\n  let accessibility = false;\n  $: root && (accessibility ? root.classList.add('accessibility') : root.classList.remove('accessibility'));\n\n  setContextClient(client);\n</script>\n\n<svelte:head>\n  <link rel=\"icon\" type=\"image/x-icon\" href=\"{base}/assets/favicon.ico\" />\n  <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"{base}/assets/apple-touch-icon.png?v=69P26YMB35\" />\n  <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"{base}/assets/favicon-32x32.png?v=69P26YMB35\" />\n  <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"{base}/assets/favicon-16x16.png?v=69P26YMB35\" />\n  <link rel=\"manifest\" href=\"{base}/manifest.json?v=69P26YMB35\" />\n  <link rel=\"mask-icon\" href=\"{base}/assets/safari-pinned-tab.svg?v=69P26YMB35\" color=\"#da8517\" />\n  <link rel=\"shortcut icon\" href=\"{base}/assets/favicon.ico?v=69P26YMB35\" />\n  <meta name=\"msapplication-TileColor\" content=\"#da8517\" />\n  <meta name=\"msapplication-config\" content=\"{base}/static/assets/browserconfig.xml?v=69P26YMB35\" />\n  <meta name=\"theme-color\" content=\"#ff6f00\" />\n\n  <link rel=\"preload\" href=\"{base}/assets/fonts/flow-rounded.woff\" as=\"font\" type=\"font/woff\" />\n\n  {#if gTag}\n    <!-- Global site tag (gtag.js) - Google Analytics -->\n    <script async src=\"https://www.googletagmanager.com/gtag/js?id={gTag}\"></script>\n    <script>\n      window.dataLayer = window.dataLayer || [];\n\n      function gtag() {\n        dataLayer.push(arguments);\n      }\n\n      gtag('js', new Date());\n\n      gtag('config', window['gTag']);\n    </script>\n  {/if}\n</svelte:head>\n\n<TolgeeProvider {tolgee}>\n  <Toast />\n  <Modal />\n\n  <Drawer>\n    <Sidebar bind:accessibility />\n  </Drawer>\n\n  <AppShell>\n    <svelte:fragment slot=\"header\">\n      <TopBar />\n    </svelte:fragment>\n\n    <svelte:fragment slot=\"sidebarLeft\">\n      <aside class=\"hidden xl:block h-full\">\n        <Sidebar bind:accessibility />\n      </aside>\n    </svelte:fragment>\n\n    <svelte:fragment slot=\"pageHeader\">\n      <AnnouncementHeader />\n    </svelte:fragment>\n\n    <div class=\"app-content w-full overflow-auto\">\n      <main class=\"main-content min-h-100% xl:py-6 xl:pr-3\">\n        <slot />\n      </main>\n    </div>\n  </AppShell>\n\n  <LoginDialog />\n</TolgeeProvider>\n"],"file":"_app/immutable/nodes/0.b6fa051f.js"}