import{G as Wt,S as gt,i as vt,s as $t,d as U,a6 as yt,v as wt,e as m,g,h as w,j as l,O as I,m as v,n as M,R as s,a7 as Xt,u as _,an as kt,$ as nt,K as V,b as N,N as y,k as P,X as F,x as Yt,a0 as St,F as xt,aA as It,w as Zt,Z as tt,H as Re,aB as At,_ as eo,f as Le,L as to,r as ue,t as ve,q as Dt,J as Ge,M as ze,Q as He,T as Qe,y as oo,I as no,p as Nt,Y as rt,U as ro,a5 as so,V as Pt,l as io,aa as ao,W as co}from"../chunks/vendor.c6258f1b.js";import{r as lo,B as Rt}from"../chunks/graphql.fef59309.js";import{l as fo}from"../chunks/gql.ff9241aa.js";import{m as st}from"../chunks/markdown.08ace5e6.js";import{p as it,a as at,b as ct,c as lt}from"../chunks/formatting.6f84ef8f.js";import{M as Ot}from"../chunks/MetaDescriptors.c880e906.js";import{A as Fe}from"../chunks/api.853e29e3.js";import{u as ot}from"../chunks/user.a7177c27.js";import{T as jt}from"../chunks/Toast.0f68c216.js";import{i as Tt}from"../chunks/launcher.814df788.js";const uo=async({params:t,parent:e})=>({...t,...await fo({version:Wt({query:lo,client:(await e()).client,variables:{version:t.versionId}})})}),xo=Object.freeze(Object.defineProperty({__proto__:null,load:uo},Symbol.toStringTag,{value:"Module"})),qe="src/lib/components/versions/VersionDescription.svelte";function Mt(t){const e={c:_,l:_,m:_,p:_,d:_};return U("SvelteRegisterBlock",{block:e,id:Mt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { markdown }',ctx:t}),e}function Ct(t){let e,i=t[1]+"";const o={c:function(){e=m("p"),this.h()},l:function(n){e=g(n,"P",{});var f=w(e);f.forEach(l),this.h()},h:function(){v(e,qe,8,8,241)},m:function(n,f){M(n,e,f),e.innerHTML=i},p:function(n,f){f&1&&i!==(i=n[1]+"")&&(e.innerHTML=i)},d:function(n){n&&l(e)}};return U("SvelteRegisterBlock",{block:o,id:Ct.name,type:"then",source:"(8:57)          <p>{@html changelogRendered}",ctx:t}),o}function Ut(t){const e={c:_,l:_,m:_,p:_,d:_};return U("SvelteRegisterBlock",{block:e,id:Ut.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { markdown }',ctx:t}),e}function ft(t){let e,i,o,r,n={ctx:t,current:null,token:null,hasCatch:!1,pending:Ut,then:Ct,catch:Mt,value:1};yt(r=st(t[0]),n);const f={c:function(){e=m("div"),i=m("section"),o=m("div"),n.block.c(),this.h()},l:function(c){e=g(c,"DIV",{class:!0});var d=w(e);i=g(d,"SECTION",{});var u=w(i);o=g(u,"DIV",{class:!0});var p=w(o);n.block.l(p),p.forEach(l),u.forEach(l),d.forEach(l),this.h()},h:function(){I(o,"class","markdown-content"),v(o,qe,6,4,144),v(i,qe,5,2,130),I(e,"class","h-fit card p-4"),v(e,qe,4,0,99)},m:function(c,d){M(c,e,d),s(e,i),s(i,o),n.block.m(o,n.anchor=null),n.mount=()=>o,n.anchor=null},p:function(c,[d]){t=c,n.ctx=t,d&1&&r!==(r=st(t[0]))&&yt(r,n)||Xt(n,t,d)},i:_,o:_,d:function(c){c&&l(e),n.block.d(),n.token=null,n=null}};return U("SvelteRegisterBlock",{block:f,id:ft.name,type:"component",source:"",ctx:t}),f}function ho(t,e,i){let{$$slots:o={},$$scope:r}=e;wt("VersionDescription",o,[]);let{changelog:n}=e;t.$$.on_mount.push(function(){n===void 0&&!("changelog"in e||t.$$.bound[t.$$.props.changelog])&&console.warn("<VersionDescription> was created without expected prop 'changelog'")});const f=["changelog"];return Object.keys(e).forEach(a=>{!~f.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<VersionDescription> was created with unknown prop '${a}'`)}),t.$$set=a=>{"changelog"in a&&i(0,n=a.changelog)},t.$capture_state=()=>({markdown:st,changelog:n}),t.$inject_state=a=>{"changelog"in a&&i(0,n=a.changelog)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[n]}class Lt extends gt{constructor(e){super(e),vt(this,e,ho,ft,$t,{changelog:0}),U("SvelteRegisterComponent",{component:this,tagName:"VersionDescription",options:e,id:ft.name})}get changelog(){throw new Error("<VersionDescription>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set changelog(e){throw new Error("<VersionDescription>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const j="src/lib/components/versions/VersionInfo.svelte";function ut(t){let e,i,o,r,n,f,a,c,d=t[2]("entry.created-at")+"",u,p,S,h=it(t[0].created_at)+"",$,L,A,E,R,x=t[2]("downloads")+"",B,Y,ne,b=at(t[0].downloads)+"",J,de,$e,G,Q,we,ee=t[2]("version")+"",te,he,oe,le=t[0].sml_version+"",re,pe,ye,T,ie,ae=t[2]("stability")+"",K,Ie,ke,me=t[0].stability+"",W,k,O,X,Z,z=t[2]("size")+"",fe,Se,xe,ce=ct(t[0].size)+"",be,Ee,ge,se,Ve,De=t[2]("hash")+"",Te,Je,Ke,Ne=t[0].hash+"",_e;const bt={c:function(){e=m("div"),i=m("section"),o=m("div"),r=m("h3"),n=V("Info"),f=N(),a=m("span"),c=m("strong"),u=V(d),p=V(":"),S=N(),$=V(h),L=m("br"),A=N(),E=m("span"),R=m("strong"),B=V(x),Y=V(":"),ne=N(),J=V(b),de=m("br"),$e=N(),G=m("span"),Q=m("strong"),we=V("SML "),te=V(ee),he=V(":"),oe=N(),re=V(le),pe=m("br"),ye=N(),T=m("span"),ie=m("strong"),K=V(ae),Ie=V(":"),ke=N(),W=V(me),k=m("br"),O=N(),X=m("span"),Z=m("strong"),fe=V(z),Se=V(":"),xe=N(),be=V(ce),Ee=m("br"),ge=N(),se=m("span"),Ve=m("strong"),Te=V(De),Je=V(":"),Ke=N(),_e=V(Ne),this.h()},l:function(H){e=g(H,"DIV",{class:!0});var q=w(e);i=g(q,"SECTION",{});var Et=w(i);o=g(Et,"DIV",{class:!0});var C=w(o);r=g(C,"H3",{class:!0});var Vt=w(r);n=y(Vt,"Info"),Vt.forEach(l),f=P(C),a=g(C,"SPAN",{});var Be=w(a);c=g(Be,"STRONG",{});var We=w(c);u=y(We,d),p=y(We,":"),We.forEach(l),S=P(Be),$=y(Be,h),Be.forEach(l),L=g(C,"BR",{}),A=P(C),E=g(C,"SPAN",{});var Ae=w(E);R=g(Ae,"STRONG",{});var Xe=w(R);B=y(Xe,x),Y=y(Xe,":"),Xe.forEach(l),ne=P(Ae),J=y(Ae,b),Ae.forEach(l),de=g(C,"BR",{}),$e=P(C),G=g(C,"SPAN",{});var Oe=w(G);Q=g(Oe,"STRONG",{});var je=w(Q);we=y(je,"SML "),te=y(je,ee),he=y(je,":"),je.forEach(l),oe=P(Oe),re=y(Oe,le),Oe.forEach(l),pe=g(C,"BR",{}),ye=P(C),T=g(C,"SPAN",{});var Me=w(T);ie=g(Me,"STRONG",{});var Ye=w(ie);K=y(Ye,ae),Ie=y(Ye,":"),Ye.forEach(l),ke=P(Me),W=y(Me,me),Me.forEach(l),k=g(C,"BR",{}),O=P(C),X=g(C,"SPAN",{});var Ce=w(X);Z=g(Ce,"STRONG",{});var Ze=w(Z);fe=y(Ze,z),Se=y(Ze,":"),Ze.forEach(l),xe=P(Ce),be=y(Ce,ce),Ce.forEach(l),Ee=g(C,"BR",{}),ge=P(C),se=g(C,"SPAN",{});var Ue=w(se);Ve=g(Ue,"STRONG",{});var et=w(Ve);Te=y(et,De),Je=y(et,":"),et.forEach(l),Ke=P(Ue),_e=y(Ue,Ne),Ue.forEach(l),C.forEach(l),Et.forEach(l),q.forEach(l),this.h()},h:function(){I(r,"class","text-2xl my-4 font-bold"),v(r,j,9,6,291),v(c,j,10,12,349),v(a,j,10,6,343),v(L,j,10,94,431),v(R,j,11,12,450),v(E,j,11,6,444),v(de,j,11,88,526),v(Q,j,12,12,545),v(G,j,12,6,539),v(pe,j,12,78,611),v(ie,j,13,12,630),v(T,j,13,6,624),v(k,j,13,74,692),v(Z,j,14,12,711),v(X,j,14,6,705),v(Ee,j,14,77,776),v(Ve,j,15,12,795),v(se,j,15,6,789),I(o,"class","text-lg break-words"),v(o,j,8,4,251),v(i,j,7,2,237),I(e,"class","card p-4"),v(e,j,6,0,212)},m:function(H,q){M(H,e,q),s(e,i),s(i,o),s(o,r),s(r,n),s(o,f),s(o,a),s(a,c),s(c,u),s(c,p),s(a,S),s(a,$),s(o,L),s(o,A),s(o,E),s(E,R),s(R,B),s(R,Y),s(E,ne),s(E,J),s(o,de),s(o,$e),s(o,G),s(G,Q),s(Q,we),s(Q,te),s(Q,he),s(G,oe),s(G,re),s(o,pe),s(o,ye),s(o,T),s(T,ie),s(ie,K),s(ie,Ie),s(T,ke),s(T,W),s(o,k),s(o,O),s(o,X),s(X,Z),s(Z,fe),s(Z,Se),s(X,xe),s(X,be),s(o,Ee),s(o,ge),s(o,se),s(se,Ve),s(Ve,Te),s(Ve,Je),s(se,Ke),s(se,_e)},p:function(H,[q]){q&4&&d!==(d=H[2]("entry.created-at")+"")&&F(u,d),q&1&&h!==(h=it(H[0].created_at)+"")&&F($,h),q&4&&x!==(x=H[2]("downloads")+"")&&F(B,x),q&1&&b!==(b=at(H[0].downloads)+"")&&F(J,b),q&4&&ee!==(ee=H[2]("version")+"")&&F(te,ee),q&1&&le!==(le=H[0].sml_version+"")&&F(re,le),q&4&&ae!==(ae=H[2]("stability")+"")&&F(K,ae),q&1&&me!==(me=H[0].stability+"")&&F(W,me),q&4&&z!==(z=H[2]("size")+"")&&F(fe,z),q&1&&ce!==(ce=ct(H[0].size)+"")&&F(be,ce),q&4&&De!==(De=H[2]("hash")+"")&&F(Te,De),q&1&&Ne!==(Ne=H[0].hash+"")&&F(_e,Ne)},i:_,o:_,d:function(H){H&&l(e)}};return U("SvelteRegisterBlock",{block:bt,id:ut.name,type:"component",source:"",ctx:t}),bt}function po(t,e,i){let o,r=_,n=()=>(r(),r=Yt(d,p=>i(2,o=p)),d);t.$$.on_destroy.push(()=>r());let{$$slots:f={},$$scope:a}=e;wt("VersionInfo",f,[]);let{version:c}=e;const{t:d}=kt();nt(d,"t"),n(),t.$$.on_mount.push(function(){c===void 0&&!("version"in e||t.$$.bound[t.$$.props.version])&&console.warn("<VersionInfo> was created without expected prop 'version'")});const u=["version"];return Object.keys(e).forEach(p=>{!~u.indexOf(p)&&p.slice(0,2)!=="$$"&&p!=="slot"&&console.warn(`<VersionInfo> was created with unknown prop '${p}'`)}),t.$$set=p=>{"version"in p&&i(0,c=p.version)},t.$capture_state=()=>({prettyBytes:ct,prettyDate:it,prettyNumber:at,getTranslate:kt,version:c,t:d,$t:o}),t.$inject_state=p=>{"version"in p&&i(0,c=p.version)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[c,d,o]}class Gt extends gt{constructor(e){super(e),vt(this,e,po,ut,$t,{version:0,t:1}),U("SvelteRegisterComponent",{component:this,tagName:"VersionInfo",options:e,id:ut.name})}get version(){throw new Error("<VersionInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set version(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[1]}set t(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:_t}=eo,D="src/routes/mod/[modId]/version/[versionId]/+page.svelte";function Bt(t,e,i){const o=t.slice();return o[17]=e[i],o}function dt(t){let e,i;e=new Ot({props:{description:"Information for mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version,title:"Mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version},$$inline:!0});const o={c:function(){Ge(e.$$.fragment)},l:function(n){ze(e.$$.fragment,n)},m:function(n,f){He(e,n,f),i=!0},p:function(n,f){const a={};f&1&&(a.description="Information for mod version "+n[0].data.getVersion.mod.name+" "+n[0].data.getVersion.version),f&1&&(a.title="Mod version "+n[0].data.getVersion.mod.name+" "+n[0].data.getVersion.version),e.$set(a)},i:function(n){i||(ue(e.$$.fragment,n),i=!0)},o:function(n){ve(e.$$.fragment,n),i=!1},d:function(n){Qe(e,n)}};return U("SvelteRegisterBlock",{block:o,id:dt.name,type:"if",source:"(53:2) {#if !$version.fetching && !$version.error && $version.data.getVersion}",ctx:t}),o}function zt(t){let e;const i={c:function(){e=V("404")},l:function(r){e=y(r,"404")},m:function(r,n){M(r,e,n)},p:_,i:_,o:_,d:function(r){r&&l(e)}};return U("SvelteRegisterBlock",{block:i,id:zt.name,type:"else",source:"(139:0) {:else}",ctx:t}),i}function Ht(t){let e,i,o,r=t[0].data.getVersion.mod.name+"",n,f,a=t[0].data.getVersion.version+"",c,d,u,p,S,h,$,L,A,E,R,x,B,Y,ne,b,J,de,$e,G,Q,we,ee,te,he,oe,le,re,pe,ye,T=t[3]&&ht(t);function ie(W,k){return W[0].data.getVersion.arch.length!=0?Jt:Ft}let ae=ie(t),K=ae(t);Q=new Lt({props:{changelog:t[0].data.getVersion.changelog},$$inline:!0}),te=new Gt({props:{version:t[0].data.getVersion},$$inline:!0});function Ie(W){t[14](W)}let ke={$$slots:{default:[Kt]},$$scope:{ctx:t}};t[2]!==void 0&&(ke.running=t[2]),oe=new jt({props:ke,$$inline:!0}),oo.push(()=>no(oe,"running",Ie));const me={c:function(){e=m("div"),i=m("div"),o=m("h1"),n=V(r),f=V(`
        Version `),c=V(a),d=N(),u=m("div"),T&&T.c(),p=N(),K.c(),S=N(),h=m("button"),$=m("span"),L=V("Install"),A=N(),E=m("span"),R=V("download"),x=N(),B=m("a"),Y=m("span"),ne=V("Mod"),b=N(),J=m("span"),de=V("extension"),$e=N(),G=m("div"),Ge(Q.$$.fragment),we=N(),ee=m("div"),Ge(te.$$.fragment),he=N(),Ge(oe.$$.fragment),this.h()},l:function(k){e=g(k,"DIV",{class:!0});var O=w(e);i=g(O,"DIV",{class:!0});var X=w(i);o=g(X,"H1",{class:!0});var Z=w(o);n=y(Z,r),f=y(Z,`
        Version `),c=y(Z,a),Z.forEach(l),d=P(X),u=g(X,"DIV",{class:!0});var z=w(u);T&&T.l(z),p=P(z),K.l(z),S=P(z),h=g(z,"BUTTON",{class:!0});var fe=w(h);$=g(fe,"SPAN",{});var Se=w($);L=y(Se,"Install"),Se.forEach(l),A=P(fe),E=g(fe,"SPAN",{class:!0});var xe=w(E);R=y(xe,"download"),xe.forEach(l),fe.forEach(l),x=P(z),B=g(z,"A",{class:!0,href:!0});var ce=w(B);Y=g(ce,"SPAN",{});var be=w(Y);ne=y(be,"Mod"),be.forEach(l),b=P(ce),J=g(ce,"SPAN",{class:!0});var Ee=w(J);de=y(Ee,"extension"),Ee.forEach(l),ce.forEach(l),z.forEach(l),X.forEach(l),$e=P(O),G=g(O,"DIV",{class:!0});var ge=w(G);ze(Q.$$.fragment,ge),we=P(ge),ee=g(ge,"DIV",{class:!0});var se=w(ee);ze(te.$$.fragment,se),se.forEach(l),ge.forEach(l),O.forEach(l),he=P(k),ze(oe.$$.fragment,k),this.h()},h:function(){I(o,"class","text-4xl font-bold"),v(o,D,66,6,2422),v($,D,117,10,4456),I(E,"class","material-icons"),v(E,D,118,10,4487),I(h,"class","btn variant-ghost-primary"),v(h,D,114,8,4311),v(Y,D,122,10,4637),I(J,"class","material-icons"),v(J,D,123,10,4664),I(B,"class","btn variant-ghost-primary"),I(B,"href",Re+"/mod/"+t[4]),v(B,D,121,8,4559),I(u,"class","grid grid-flow-col gap-4"),v(u,D,71,6,2568),I(i,"class","flex flex-wrap h-auto justify-between items-center"),v(i,D,65,4,2351),I(ee,"class","grid grid-cols-1 auto-rows-min gap-8"),v(ee,D,129,6,4885),I(G,"class","grid grid-auto-max auto-cols-fr gap-4"),v(G,D,127,4,4751),I(e,"class","grid gap-6 xlx:grid-flow-row"),v(e,D,64,2,2304)},m:function(k,O){M(k,e,O),s(e,i),s(i,o),s(o,n),s(o,f),s(o,c),s(i,d),s(i,u),T&&T.m(u,null),s(u,p),K.m(u,null),s(u,S),s(u,h),s(h,$),s($,L),s(h,A),s(h,E),s(E,R),s(u,x),s(u,B),s(B,Y),s(Y,ne),s(B,b),s(B,J),s(J,de),s(e,$e),s(e,G),He(Q,G,null),s(G,we),s(G,ee),He(te,ee,null),M(k,he,O),He(oe,k,O),re=!0,pe||(ye=rt(h,"click",t[13],!1,!1,!1,!1),pe=!0)},p:function(k,O){(!re||O&1)&&r!==(r=k[0].data.getVersion.mod.name+"")&&F(n,r),(!re||O&1)&&a!==(a=k[0].data.getVersion.version+"")&&F(c,a),k[3]?T?T.p(k,O):(T=ht(k),T.c(),T.m(u,p)):T&&(T.d(1),T=null),ae===(ae=ie(k))&&K?K.p(k,O):(K.d(1),K=ae(k),K&&(K.c(),K.m(u,S)));const X={};O&1&&(X.changelog=k[0].data.getVersion.changelog),Q.$set(X);const Z={};O&1&&(Z.version=k[0].data.getVersion),te.$set(Z);const z={};O&1048578&&(z.$$scope={dirty:O,ctx:k}),!le&&O&4&&(le=!0,z.running=k[2],ro(()=>le=!1)),oe.$set(z)},i:function(k){re||(ue(Q.$$.fragment,k),ue(te.$$.fragment,k),ue(oe.$$.fragment,k),re=!0)},o:function(k){ve(Q.$$.fragment,k),ve(te.$$.fragment,k),ve(oe.$$.fragment,k),re=!1},d:function(k){k&&l(e),T&&T.d(),K.d(),Qe(Q),Qe(te),k&&l(he),Qe(oe,k),pe=!1,ye()}};return U("SvelteRegisterBlock",{block:me,id:Ht.name,type:"if",source:"(64:35) ",ctx:t}),me}function Qt(t){let e,i,o=t[0].error.message+"",r;const n={c:function(){e=m("p"),i=V("Oh no... "),r=V(o),this.h()},l:function(a){e=g(a,"P",{});var c=w(e);i=y(c,"Oh no... "),r=y(c,o),c.forEach(l),this.h()},h:function(){v(e,D,62,2,2225)},m:function(a,c){M(a,e,c),s(e,i),s(e,r)},p:function(a,c){c&1&&o!==(o=a[0].error.message+"")&&F(r,o)},i:_,o:_,d:function(a){a&&l(e)}};return U("SvelteRegisterBlock",{block:n,id:Qt.name,type:"if",source:"(62:25) ",ctx:t}),n}function qt(t){let e,i;const o={c:function(){e=m("p"),i=V("Loading..."),this.h()},l:function(n){e=g(n,"P",{});var f=w(e);i=y(f,"Loading..."),f.forEach(l),this.h()},h:function(){v(e,D,60,2,2179)},m:function(n,f){M(n,e,f),s(e,i)},p:_,i:_,o:_,d:function(n){n&&l(e)}};return U("SvelteRegisterBlock",{block:o,id:qt.name,type:"if",source:"(60:0) {#if $version.fetching}",ctx:t}),o}function ht(t){let e,i,o,r,n,f,a;const c={c:function(){e=m("button"),i=V("Edit"),o=N(),r=m("button"),n=V("Delete"),this.h()},l:function(u){e=g(u,"BUTTON",{class:!0});var p=w(e);i=y(p,"Edit"),p.forEach(l),o=P(u),r=g(u,"BUTTON",{class:!0});var S=w(r);n=y(S,"Delete"),S.forEach(l),this.h()},h:function(){I(e,"class","btn variant-ghost-primary"),v(e,D,73,10,2643),I(r,"class","btn variant-ghost-primary"),v(r,D,78,10,2839)},m:function(u,p){M(u,e,p),s(e,i),M(u,o,p),M(u,r,p),s(r,n),f||(a=[rt(e,"click",t[11],!1,!1,!1,!1),rt(r,"click",t[12],!1,!1,!1,!1)],f=!0)},p:_,d:function(u){u&&l(e),u&&l(o),u&&l(r),f=!1,so(a)}};return U("SvelteRegisterBlock",{block:c,id:ht.name,type:"if",source:"(73:8) {#if canUserEdit}",ctx:t}),c}function Ft(t){let e,i,o,r,n;const f={c:function(){e=m("a"),i=V("View"),o=N(),r=m("a"),n=V("Download"),this.h()},l:function(c){e=g(c,"A",{class:!0,href:!0});var d=w(e);i=y(d,"View"),d.forEach(l),o=P(c),r=g(c,"A",{class:!0,href:!0});var u=w(r);n=y(u,"Download"),u.forEach(l),this.h()},h:function(){I(e,"class","btn variant-ghost-primary"),I(e,"href",Re+"/mod/"+t[4]+"/version/"+t[5]),v(e,D,109,10,4028),I(r,"class","btn variant-ghost-primary"),I(r,"href",Fe+"/mod/"+t[4]+"/versions/"+t[5]+"/download"),v(r,D,110,10,4140)},m:function(c,d){M(c,e,d),s(e,i),M(c,o,d),M(c,r,d),s(r,n)},p:_,d:function(c){c&&l(e),c&&l(o),c&&l(r)}};return U("SvelteRegisterBlock",{block:f,id:Ft.name,type:"else",source:"(109:8) {:else}",ctx:t}),f}function Jt(t){let e,i,o,r,n,f,a,c,d,u,p,S,h=t[0].data.getVersion.arch;Pt(h);let $=[];for(let A=0;A<h.length;A+=1)$[A]=pt(Bt(t,h,A));const L={c:function(){e=m("button"),i=m("span"),o=V("Download"),r=N(),n=m("span"),f=V("arrow_drop_down"),a=N(),c=m("div"),d=m("nav"),u=m("ul");for(let E=0;E<$.length;E+=1)$[E].c();this.h()},l:function(E){e=g(E,"BUTTON",{class:!0});var R=w(e);i=g(R,"SPAN",{});var x=w(i);o=y(x,"Download"),x.forEach(l),r=P(R),n=g(R,"SPAN",{class:!0,style:!0});var B=w(n);f=y(B,"arrow_drop_down"),B.forEach(l),R.forEach(l),a=P(E),c=g(E,"DIV",{class:!0,"data-popup":!0});var Y=w(c);d=g(Y,"NAV",{class:!0});var ne=w(d);u=g(ne,"UL",{});var b=w(u);for(let J=0;J<$.length;J+=1)$[J].l(b);b.forEach(l),ne.forEach(l),Y.forEach(l),this.h()},h:function(){v(i,D,89,12,3279),I(n,"class","material-icons"),io(n,"margin","0"),v(n,D,90,12,3313),I(e,"class","btn variant-ghost-primary"),v(e,D,81,10,3026),v(u,D,95,14,3531),I(d,"class","list-nav"),v(d,D,94,12,3494),I(c,"class","card w-72 shadow-xl"),I(c,"data-popup","versionArchDropdown"),v(c,D,93,10,3415)},m:function(E,R){M(E,e,R),s(e,i),s(i,o),s(e,r),s(e,n),s(n,f),M(E,a,R),M(E,c,R),s(c,d),s(d,u);for(let x=0;x<$.length;x+=1)$[x]&&$[x].m(u,null);p||(S=ao(At.call(null,e,{event:"focus-click",target:"versionArchDropdown",placement:"bottom",closeQuery:"a"})),p=!0)},p:function(E,R){if(R&49){h=E[0].data.getVersion.arch,Pt(h);let x;for(x=0;x<h.length;x+=1){const B=Bt(E,h,x);$[x]?$[x].p(B,R):($[x]=pt(B),$[x].c(),$[x].m(u,null))}for(;x<$.length;x+=1)$[x].d(1);$.length=h.length}},d:function(E){E&&l(e),E&&l(a),E&&l(c),co($,E),p=!1,S()}};return U("SvelteRegisterBlock",{block:L,id:Jt.name,type:"if",source:"(81:8) {#if $version.data.getVersion.arch.length != 0}",ctx:t}),L}function pt(t){let e,i,o,r,n=lt(t[17].platform)+"",f,a,c;const d={c:function(){e=m("li"),i=m("a"),o=m("span"),r=V("Download "),f=V(n),c=N(),this.h()},l:function(p){e=g(p,"LI",{});var S=w(e);i=g(S,"A",{class:!0,href:!0});var h=w(i);o=g(h,"SPAN",{});var $=w(o);r=y($,"Download "),f=y($,n),$.forEach(l),h.forEach(l),c=P(S),S.forEach(l),this.h()},h:function(){v(o,D,101,22,3823),I(i,"class","w-full"),I(i,"href",a=Fe+"/mod/"+t[4]+"/versions/"+t[5]+"/"+t[17].platform+"/download"),v(i,D,98,20,3641),v(e,D,97,18,3616)},m:function(p,S){M(p,e,S),s(e,i),s(i,o),s(o,r),s(o,f),s(e,c)},p:function(p,S){S&1&&n!==(n=lt(p[17].platform)+"")&&F(f,n),S&1&&a!==(a=Fe+"/mod/"+p[4]+"/versions/"+p[5]+"/"+p[17].platform+"/download")&&I(i,"href",a)},d:function(p){p&&l(e)}};return U("SvelteRegisterBlock",{block:d,id:pt.name,type:"each",source:"(97:16) {#each $version.data.getVersion.arch as arch}",ctx:t}),d}function Kt(t){let e,i;const o={c:function(){e=m("span"),i=V(t[1]),this.h()},l:function(n){e=g(n,"SPAN",{});var f=w(e);i=y(f,t[1]),f.forEach(l),this.h()},h:function(){v(e,D,136,4,5069)},m:function(n,f){M(n,e,f),s(e,i)},p:function(n,f){f&2&&F(i,n[1])},d:function(n){n&&l(e)}};return U("SvelteRegisterBlock",{block:o,id:Kt.name,type:"slot",source:"(136:2) <Toast bind:running={errorToast}>",ctx:t}),o}function mt(t){let e,i,o,r,n,f,a=!t[0].fetching&&!t[0].error&&t[0].data.getVersion&&dt(t);const c=[qt,Qt,Ht,zt],d=[];function u(S,h){return S[0].fetching?0:S[0].error?1:S[0].data.getVersion?2:3}o=u(t),r=d[o]=c[o](t);const p={c:function(){a&&a.c(),e=Le(),i=N(),r.c(),n=Le()},l:function(h){const $=to("svelte-7zfw29",document.head);a&&a.l($),e=Le(),$.forEach(l),i=P(h),r.l(h),n=Le()},m:function(h,$){a&&a.m(document.head,null),s(document.head,e),M(h,i,$),d[o].m(h,$),M(h,n,$),f=!0},p:function(h,[$]){!h[0].fetching&&!h[0].error&&h[0].data.getVersion?a?(a.p(h,$),$&1&&ue(a,1)):(a=dt(h),a.c(),ue(a,1),a.m(e.parentNode,e)):a&&(Nt(),ve(a,1,1,()=>{a=null}),Dt());let L=o;o=u(h),o===L?d[o].p(h,$):(Nt(),ve(d[L],1,1,()=>{d[L]=null}),Dt(),r=d[o],r?r.p(h,$):(r=d[o]=c[o](h),r.c()),ue(r,1),r.m(n.parentNode,n))},i:function(h){f||(ue(a),ue(r),f=!0)},o:function(h){ve(a),ve(r),f=!1},d:function(h){a&&a.d(h),l(e),h&&l(i),d[o].d(h),h&&l(n)}};return U("SvelteRegisterBlock",{block:p,id:mt.name,type:"component",source:"",ctx:t}),p}function mo(t,e,i){let o,r,n;nt(ot,"user"),St(t,ot,b=>i(10,r=b));let{$$slots:f={},$$scope:a}=e;wt("Page",f,[]);let{data:c}=e;const{modId:d,versionId:u,version:p}=c;nt(p,"version"),St(t,p,b=>i(0,n=b));const S=xt();let h="",$=!1;const L=()=>{S.mutation(Rt,{versionId:u}).toPromise().then(b=>{b.error?(console.error(b.error.message),i(1,h="Error deleting version: "+b.error.message),i(2,$=!0)):tt(Re+"/mod/"+d)})},A={type:"confirm",title:"Delete Version?",body:"Are you sure you wish to delete this version?",response:b=>{b&&L()}},E=It();t.$$.on_mount.push(function(){c===void 0&&!("data"in e||t.$$.bound[t.$$.props.data])&&_t.warn("<Page> was created without expected prop 'data'")});const R=["data"];Object.keys(e).forEach(b=>{!~R.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&_t.warn(`<Page> was created with unknown prop '${b}'`)});const x=()=>tt(Re+"/mod/"+d+"/version/"+u+"/edit"),B=()=>E.trigger(A),Y=()=>Tt(n.data.getVersion.mod.mod_reference);function ne(b){$=b,i(2,$)}return t.$$set=b=>{"data"in b&&i(9,c=b.data)},t.$capture_state=()=>({DeleteVersionDocument:Rt,VersionDescription:Lt,VersionInfo:Gt,MetaDescriptors:Ot,API_REST:Fe,Toast:jt,writable:Zt,goto:tt,user:ot,base:Re,installMod:Tt,prettyArch:lt,getContextClient:xt,getModalStore:It,popup:At,data:c,modId:d,versionId:u,version:p,client:S,errorMessage:h,errorToast:$,deleteVersionFn:L,deleteModal:A,modalStore:E,canUserEdit:o,$user:r,$version:n}),t.$inject_state=b=>{"data"in b&&i(9,c=b.data),"errorMessage"in b&&i(1,h=b.errorMessage),"errorToast"in b&&i(2,$=b.errorToast),"canUserEdit"in b&&i(3,o=b.canUserEdit)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&1025&&i(3,o=r?.roles?.deleteContent||n?.data?.getVersion.mod?.authors?.findIndex(b=>b.user_id==r?.id)>=0)},[n,h,$,o,d,u,p,A,E,c,r,x,B,Y,ne]}class Io extends gt{constructor(e){super(e),vt(this,e,mo,mt,$t,{data:9}),U("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:mt.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Io as component,xo as universal};
//# sourceMappingURL=18.670133d5.js.map
