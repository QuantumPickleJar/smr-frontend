import{G as Wt,S as vt,i as $t,s as wt,d as G,a7 as yt,v as bt,e as p,g as m,h as x,j as d,N as k,m as g,n as z,Q as i,a8 as Xt,u as _,a9 as Yt,aa as Zt,ak as kt,a1 as st,b as N,W as S,M as ae,k as R,X as I,Y as J,x as en,a2 as Et,F as St,_ as It,ay as Pt,$ as nt,H as Se,ah as Ot,a0 as tn,f as Me,K as nn,r as ce,t as pe,q as Nt,J as qe,L as ze,O as Ge,R as Le,p as Rt,Z as rt,a6 as on,U as Dt,l as sn,ab as rn,V as an}from"../chunks/vendor.e9fb1d0e.js";import{r as ln,B as Ct}from"../chunks/graphql.fef59309.js";import{l as cn}from"../chunks/gql.ff9241aa.js";import{m as at}from"../chunks/markdown.98a663d8.js";import{p as it,a as lt,b as ct,c as ft}from"../chunks/formatting.6f84ef8f.js";import{M as jt}from"../chunks/MetaDescriptors.fabc3333.js";import{A as He}from"../chunks/api.853e29e3.js";import{u as ot}from"../chunks/user.92510e95.js";import{i as _t}from"../chunks/launcher.905962c5.js";import{P as Tt}from"../chunks/Page404.1a104293.js";const fn=async({params:t,parent:e})=>({...t,...await cn({version:Wt({query:ln,client:(await e()).client,variables:{version:t.versionId}})})}),kn=Object.freeze(Object.defineProperty({__proto__:null,load:fn},Symbol.toStringTag,{value:"Module"})),Ue="src/lib/components/versions/VersionDescription.svelte";function Mt(t){const e={c:_,l:_,m:_,p:_,d:_};return G("SvelteRegisterBlock",{block:e,id:Mt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { markdown }',ctx:t}),e}function Ut(t){let e,r,n=t[1]+"";const s={c:function(){e=p("p"),r=new Yt(!1),this.h()},l:function(u){e=m(u,"P",{});var a=x(e);r=Zt(a,!1),a.forEach(d),this.h()},h:function(){r.a=null,g(e,Ue,11,8,273)},m:function(u,a){z(u,e,a),r.m(n,e)},p:function(u,a){a&1&&n!==(n=u[1]+"")&&r.p(n)},d:function(u){u&&d(e)}};return G("SvelteRegisterBlock",{block:s,id:Ut.name,type:"then",source:"(8:57)          <!-- eslint-disable -->         <p>{@html changelogRendered}",ctx:t}),s}function qt(t){const e={c:_,l:_,m:_,p:_,d:_};return G("SvelteRegisterBlock",{block:e,id:qt.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { markdown }',ctx:t}),e}function ut(t){let e,r,n,s,o={ctx:t,current:null,token:null,hasCatch:!1,pending:qt,then:Ut,catch:Mt,value:1};yt(s=at(t[0]),o);const u={c:function(){e=p("div"),r=p("section"),n=p("div"),o.block.c(),this.h()},l:function(l){e=m(l,"DIV",{class:!0});var c=x(e);r=m(c,"SECTION",{});var f=x(r);n=m(f,"DIV",{class:!0});var v=x(n);o.block.l(v),v.forEach(d),f.forEach(d),c.forEach(d),this.h()},h:function(){k(n,"class","markdown-content"),g(n,Ue,8,4,144),g(r,Ue,7,2,130),k(e,"class","h-fit card p-4"),g(e,Ue,6,0,99)},m:function(l,c){z(l,e,c),i(e,r),i(r,n),o.block.m(n,o.anchor=null),o.mount=()=>n,o.anchor=null},p:function(l,[c]){t=l,o.ctx=t,c&1&&s!==(s=at(t[0]))&&yt(s,o)||Xt(o,t,c)},i:_,o:_,d:function(l){l&&d(e),o.block.d(),o.token=null,o=null}};return G("SvelteRegisterBlock",{block:u,id:ut.name,type:"component",source:"",ctx:t}),u}function un(t,e,r){let{$$slots:n={},$$scope:s}=e;bt("VersionDescription",n,[]);let{changelog:o}=e;t.$$.on_mount.push(function(){o===void 0&&!("changelog"in e||t.$$.bound[t.$$.props.changelog])&&console.warn("<VersionDescription> was created without expected prop 'changelog'")});const u=["changelog"];return Object.keys(e).forEach(a=>{!~u.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<VersionDescription> was created with unknown prop '${a}'`)}),t.$$set=a=>{"changelog"in a&&r(0,o=a.changelog)},t.$capture_state=()=>({markdown:at,changelog:o}),t.$inject_state=a=>{"changelog"in a&&r(0,o=a.changelog)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o]}class zt extends vt{constructor(e){super(e),$t(this,e,un,ut,wt,{changelog:0}),G("SvelteRegisterComponent",{component:this,tagName:"VersionDescription",options:e,id:ut.name})}get changelog(){throw new Error("<VersionDescription>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set changelog(e){throw new Error("<VersionDescription>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const O="src/lib/components/versions/VersionInfo.svelte";function dt(t){let e,r,n,s,o="Info",u,a,l,c=t[2]("entry.created-at")+"",f,v,V,h=it(t[0].created_at)+"",$,M,B,b,D,y=t[2]("downloads")+"",C,w,ne,ie=lt(t[0].downloads)+"",Q,me,ge,U,L,ve,W=t[2]("version")+"",X,oe,$e,fe=t[0].sml_version+"",A,we,ue,j,se,K=t[2]("stability")+"",E,H,te,Y=t[0].stability+"",Z,le,de,ee,re,xe=t[2]("size")+"",Ie,Fe,Je,Ve=ct(t[0].size)+"",Pe,Ne,Ke,he,be,ye=t[2]("hash")+"",Re,Qe,We,ke=t[0].hash+"",De;const xt={c:function(){e=p("div"),r=p("section"),n=p("div"),s=p("h3"),s.textContent=o,u=N(),a=p("span"),l=p("strong"),f=S(c),v=S(":"),V=N(),$=S(h),M=p("br"),B=N(),b=p("span"),D=p("strong"),C=S(y),w=S(":"),ne=N(),Q=S(ie),me=p("br"),ge=N(),U=p("span"),L=p("strong"),ve=S("SML "),X=S(W),oe=S(":"),$e=N(),A=S(fe),we=p("br"),ue=N(),j=p("span"),se=p("strong"),E=S(K),H=S(":"),te=N(),Z=S(Y),le=p("br"),de=N(),ee=p("span"),re=p("strong"),Ie=S(xe),Fe=S(":"),Je=N(),Pe=S(Ve),Ne=p("br"),Ke=N(),he=p("span"),be=p("strong"),Re=S(ye),Qe=S(":"),We=N(),De=S(ke),this.h()},l:function(q){e=m(q,"DIV",{class:!0});var F=x(e);r=m(F,"SECTION",{});var Vt=x(r);n=m(Vt,"DIV",{class:!0});var T=x(n);s=m(T,"H3",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-1cfi42f"&&(s.textContent=o),u=R(T),a=m(T,"SPAN",{});var Ce=x(a);l=m(Ce,"STRONG",{});var Xe=x(l);f=I(Xe,c),v=I(Xe,":"),Xe.forEach(d),V=R(Ce),$=I(Ce,h),Ce.forEach(d),M=m(T,"BR",{}),B=R(T),b=m(T,"SPAN",{});var _e=x(b);D=m(_e,"STRONG",{});var Ye=x(D);C=I(Ye,y),w=I(Ye,":"),Ye.forEach(d),ne=R(_e),Q=I(_e,ie),_e.forEach(d),me=m(T,"BR",{}),ge=R(T),U=m(T,"SPAN",{});var Be=x(U);L=m(Be,"STRONG",{});var Ae=x(L);ve=I(Ae,"SML "),X=I(Ae,W),oe=I(Ae,":"),Ae.forEach(d),$e=R(Be),A=I(Be,fe),Be.forEach(d),we=m(T,"BR",{}),ue=R(T),j=m(T,"SPAN",{});var Oe=x(j);se=m(Oe,"STRONG",{});var Ze=x(se);E=I(Ze,K),H=I(Ze,":"),Ze.forEach(d),te=R(Oe),Z=I(Oe,Y),Oe.forEach(d),le=m(T,"BR",{}),de=R(T),ee=m(T,"SPAN",{});var je=x(ee);re=m(je,"STRONG",{});var et=x(re);Ie=I(et,xe),Fe=I(et,":"),et.forEach(d),Je=R(je),Pe=I(je,Ve),je.forEach(d),Ne=m(T,"BR",{}),Ke=R(T),he=m(T,"SPAN",{});var Te=x(he);be=m(Te,"STRONG",{});var tt=x(be);Re=I(tt,ye),Qe=I(tt,":"),tt.forEach(d),We=R(Te),De=I(Te,ke),Te.forEach(d),T.forEach(d),Vt.forEach(d),F.forEach(d),this.h()},h:function(){k(s,"class","text-2xl my-4 font-bold"),g(s,O,13,6,291),g(l,O,14,12,349),g(a,O,14,6,343),g(M,O,14,94,431),g(D,O,15,12,450),g(b,O,15,6,444),g(me,O,15,88,526),g(L,O,16,12,545),g(U,O,16,6,539),g(we,O,16,78,611),g(se,O,17,12,630),g(j,O,17,6,624),g(le,O,17,74,692),g(re,O,18,12,711),g(ee,O,18,6,705),g(Ne,O,18,77,776),g(be,O,19,12,795),g(he,O,19,6,789),k(n,"class","text-lg break-words"),g(n,O,12,4,251),g(r,O,11,2,237),k(e,"class","card p-4"),g(e,O,10,0,212)},m:function(q,F){z(q,e,F),i(e,r),i(r,n),i(n,s),i(n,u),i(n,a),i(a,l),i(l,f),i(l,v),i(a,V),i(a,$),i(n,M),i(n,B),i(n,b),i(b,D),i(D,C),i(D,w),i(b,ne),i(b,Q),i(n,me),i(n,ge),i(n,U),i(U,L),i(L,ve),i(L,X),i(L,oe),i(U,$e),i(U,A),i(n,we),i(n,ue),i(n,j),i(j,se),i(se,E),i(se,H),i(j,te),i(j,Z),i(n,le),i(n,de),i(n,ee),i(ee,re),i(re,Ie),i(re,Fe),i(ee,Je),i(ee,Pe),i(n,Ne),i(n,Ke),i(n,he),i(he,be),i(be,Re),i(be,Qe),i(he,We),i(he,De)},p:function(q,[F]){F&4&&c!==(c=q[2]("entry.created-at")+"")&&J(f,c),F&1&&h!==(h=it(q[0].created_at)+"")&&J($,h),F&4&&y!==(y=q[2]("downloads")+"")&&J(C,y),F&1&&ie!==(ie=lt(q[0].downloads)+"")&&J(Q,ie),F&4&&W!==(W=q[2]("version")+"")&&J(X,W),F&1&&fe!==(fe=q[0].sml_version+"")&&J(A,fe),F&4&&K!==(K=q[2]("stability")+"")&&J(E,K),F&1&&Y!==(Y=q[0].stability+"")&&J(Z,Y),F&4&&xe!==(xe=q[2]("size")+"")&&J(Ie,xe),F&1&&Ve!==(Ve=ct(q[0].size)+"")&&J(Pe,Ve),F&4&&ye!==(ye=q[2]("hash")+"")&&J(Re,ye),F&1&&ke!==(ke=q[0].hash+"")&&J(De,ke)},i:_,o:_,d:function(q){q&&d(e)}};return G("SvelteRegisterBlock",{block:xt,id:dt.name,type:"component",source:"",ctx:t}),xt}function dn(t,e,r){let n,s=_,o=()=>(s(),s=en(c,v=>r(2,n=v)),c);t.$$.on_destroy.push(()=>s());let{$$slots:u={},$$scope:a}=e;bt("VersionInfo",u,[]);let{version:l}=e;const{t:c}=kt();st(c,"t"),o(),t.$$.on_mount.push(function(){l===void 0&&!("version"in e||t.$$.bound[t.$$.props.version])&&console.warn("<VersionInfo> was created without expected prop 'version'")});const f=["version"];return Object.keys(e).forEach(v=>{!~f.indexOf(v)&&v.slice(0,2)!=="$$"&&v!=="slot"&&console.warn(`<VersionInfo> was created with unknown prop '${v}'`)}),t.$$set=v=>{"version"in v&&r(0,l=v.version)},t.$capture_state=()=>({prettyBytes:ct,prettyDate:it,prettyNumber:lt,getTranslate:kt,version:l,t:c,$t:n}),t.$inject_state=v=>{"version"in v&&r(0,l=v.version)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[l,c,n]}class Gt extends vt{constructor(e){super(e),$t(this,e,dn,dt,wt,{version:0,t:1}),G("SvelteRegisterComponent",{component:this,tagName:"VersionInfo",options:e,id:dt.name})}get version(){throw new Error("<VersionInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set version(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[1]}set t(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:Bt}=tn,P="src/routes/mod/[modId]/version/[versionId]/+page.svelte";function At(t,e,r){const n=t.slice();return n[15]=e[r],n}function ht(t){let e,r;e=new jt({props:{description:"Information for mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version,title:"Mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version},$$inline:!0});const n={c:function(){qe(e.$$.fragment)},l:function(o){ze(e.$$.fragment,o)},m:function(o,u){Ge(e,o,u),r=!0},p:function(o,u){const a={};u&1&&(a.description="Information for mod version "+o[0].data.getVersion.mod.name+" "+o[0].data.getVersion.version),u&1&&(a.title="Mod version "+o[0].data.getVersion.mod.name+" "+o[0].data.getVersion.version),e.$set(a)},i:function(o){r||(ce(e.$$.fragment,o),r=!0)},o:function(o){pe(e.$$.fragment,o),r=!1},d:function(o){Le(e,o)}};return G("SvelteRegisterBlock",{block:n,id:ht.name,type:"if",source:"(58:2) {#if !$version.fetching && !$version.error && $version.data.getVersion}",ctx:t}),n}function Lt(t){let e,r;e=new Tt({$$inline:!0});const n={c:function(){qe(e.$$.fragment)},l:function(o){ze(e.$$.fragment,o)},m:function(o,u){Ge(e,o,u),r=!0},p:_,i:function(o){r||(ce(e.$$.fragment,o),r=!0)},o:function(o){pe(e.$$.fragment,o),r=!1},d:function(o){Le(e,o)}};return G("SvelteRegisterBlock",{block:n,id:Lt.name,type:"else",source:"(140:0) {:else}",ctx:t}),n}function Ht(t){let e,r,n,s=t[0].data.getVersion.mod.name+"",o,u,a=t[0].data.getVersion.version+"",l,c,f,v,V,h,$,M="Install",B,b,D="download",y,C,w,ne="Mod",ie,Q,me="extension",ge,U,L,ve,W,X,oe,$e,fe,A=t[1]&&pt(t);function we(K,E){return K[0].data.getVersion.arch.length!=0?Qt:Kt}let ue=we(t),j=ue(t);L=new zt({props:{changelog:t[0].data.getVersion.changelog},$$inline:!0}),X=new Gt({props:{version:t[0].data.getVersion},$$inline:!0});const se={c:function(){e=p("div"),r=p("div"),n=p("h1"),o=S(s),u=S(`
        Version `),l=S(a),c=N(),f=p("div"),A&&A.c(),v=N(),j.c(),V=N(),h=p("button"),$=p("span"),$.textContent=M,B=N(),b=p("span"),b.textContent=D,y=N(),C=p("a"),w=p("span"),w.textContent=ne,ie=N(),Q=p("span"),Q.textContent=me,ge=N(),U=p("div"),qe(L.$$.fragment),ve=N(),W=p("div"),qe(X.$$.fragment),this.h()},l:function(E){e=m(E,"DIV",{class:!0});var H=x(e);r=m(H,"DIV",{class:!0});var te=x(r);n=m(te,"H1",{class:!0});var Y=x(n);o=I(Y,s),u=I(Y,`
        Version `),l=I(Y,a),Y.forEach(d),c=R(te),f=m(te,"DIV",{class:!0});var Z=x(f);A&&A.l(Z),v=R(Z),j.l(Z),V=R(Z),h=m(Z,"BUTTON",{class:!0});var le=x(h);$=m(le,"SPAN",{"data-svelte-h":!0}),ae($)!=="svelte-1bbhnfr"&&($.textContent=M),B=R(le),b=m(le,"SPAN",{class:!0,"data-svelte-h":!0}),ae(b)!=="svelte-rqt9z7"&&(b.textContent=D),le.forEach(d),y=R(Z),C=m(Z,"A",{class:!0,href:!0});var de=x(C);w=m(de,"SPAN",{"data-svelte-h":!0}),ae(w)!=="svelte-y2sqc2"&&(w.textContent=ne),ie=R(de),Q=m(de,"SPAN",{class:!0,"data-svelte-h":!0}),ae(Q)!=="svelte-y4psqu"&&(Q.textContent=me),de.forEach(d),Z.forEach(d),te.forEach(d),ge=R(H),U=m(H,"DIV",{class:!0});var ee=x(U);ze(L.$$.fragment,ee),ve=R(ee),W=m(ee,"DIV",{class:!0});var re=x(W);ze(X.$$.fragment,re),re.forEach(d),ee.forEach(d),H.forEach(d),this.h()},h:function(){k(n,"class","text-4xl font-bold"),g(n,P,80,6,2627),g($,P,131,10,4661),k(b,"class","material-icons"),g(b,P,132,10,4692),k(h,"class","btn variant-ghost-primary"),g(h,P,128,8,4516),g(w,P,136,10,4842),k(Q,"class","material-icons"),g(Q,P,137,10,4869),k(C,"class","btn variant-ghost-primary"),k(C,"href",Se+"/mod/"+t[2]),g(C,P,135,8,4764),k(f,"class","grid grid-flow-col gap-4"),g(f,P,85,6,2773),k(r,"class","flex flex-wrap h-auto justify-between items-center"),g(r,P,79,4,2556),k(W,"class","grid grid-cols-1 auto-rows-min gap-8"),g(W,P,143,6,5090),k(U,"class","grid grid-auto-max auto-cols-fr gap-4"),g(U,P,141,4,4956),k(e,"class","grid gap-6 xlx:grid-flow-row"),g(e,P,78,2,2509)},m:function(E,H){z(E,e,H),i(e,r),i(r,n),i(n,o),i(n,u),i(n,l),i(r,c),i(r,f),A&&A.m(f,null),i(f,v),j.m(f,null),i(f,V),i(f,h),i(h,$),i(h,B),i(h,b),i(f,y),i(f,C),i(C,w),i(C,ie),i(C,Q),i(e,ge),i(e,U),Ge(L,U,null),i(U,ve),i(U,W),Ge(X,W,null),oe=!0,$e||(fe=rt(h,"click",t[11],!1,!1,!1,!1),$e=!0)},p:function(E,H){(!oe||H&1)&&s!==(s=E[0].data.getVersion.mod.name+"")&&J(o,s),(!oe||H&1)&&a!==(a=E[0].data.getVersion.version+"")&&J(l,a),E[1]?A?A.p(E,H):(A=pt(E),A.c(),A.m(f,v)):A&&(A.d(1),A=null),ue===(ue=we(E))&&j?j.p(E,H):(j.d(1),j=ue(E),j&&(j.c(),j.m(f,V)));const te={};H&1&&(te.changelog=E[0].data.getVersion.changelog),L.$set(te);const Y={};H&1&&(Y.version=E[0].data.getVersion),X.$set(Y)},i:function(E){oe||(ce(L.$$.fragment,E),ce(X.$$.fragment,E),oe=!0)},o:function(E){pe(L.$$.fragment,E),pe(X.$$.fragment,E),oe=!1},d:function(E){E&&d(e),A&&A.d(),j.d(),Le(L),Le(X),$e=!1,fe()}};return G("SvelteRegisterBlock",{block:se,id:Ht.name,type:"if",source:"(69:35) ",ctx:t}),se}function Ft(t){let e,r,n=t[0].error.message+"",s;const o={c:function(){e=p("p"),r=S("Oh no... "),s=S(n),this.h()},l:function(a){e=m(a,"P",{});var l=x(e);r=I(l,"Oh no... "),s=I(l,n),l.forEach(d),this.h()},h:function(){g(e,P,76,2,2430)},m:function(a,l){z(a,e,l),i(e,r),i(e,s)},p:function(a,l){l&1&&n!==(n=a[0].error.message+"")&&J(s,n)},i:_,o:_,d:function(a){a&&d(e)}};return G("SvelteRegisterBlock",{block:o,id:Ft.name,type:"if",source:"(67:25) ",ctx:t}),o}function Jt(t){let e,r="Loading...";const n={c:function(){e=p("p"),e.textContent=r,this.h()},l:function(o){e=m(o,"P",{"data-svelte-h":!0}),ae(e)!=="svelte-qdsr2u"&&(e.textContent=r),this.h()},h:function(){g(e,P,74,2,2384)},m:function(o,u){z(o,e,u)},p:_,i:_,o:_,d:function(o){o&&d(e)}};return G("SvelteRegisterBlock",{block:n,id:Jt.name,type:"if",source:"(65:0) {#if $version.fetching}",ctx:t}),n}function pt(t){let e,r="Edit",n,s,o="Delete",u,a;const l={c:function(){e=p("button"),e.textContent=r,n=N(),s=p("button"),s.textContent=o,this.h()},l:function(f){e=m(f,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-53n07s"&&(e.textContent=r),n=R(f),s=m(f,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-tfawqf"&&(s.textContent=o),this.h()},h:function(){k(e,"class","btn variant-ghost-primary"),g(e,P,87,10,2848),k(s,"class","btn variant-ghost-primary"),g(s,P,92,10,3044)},m:function(f,v){z(f,e,v),z(f,n,v),z(f,s,v),u||(a=[rt(e,"click",t[9],!1,!1,!1,!1),rt(s,"click",t[10],!1,!1,!1,!1)],u=!0)},p:_,d:function(f){f&&(d(e),d(n),d(s)),u=!1,on(a)}};return G("SvelteRegisterBlock",{block:l,id:pt.name,type:"if",source:"(78:8) {#if canUserEdit}",ctx:t}),l}function Kt(t){let e,r,n,s,o;const u={c:function(){e=p("a"),r=S("View"),n=N(),s=p("a"),o=S("Download"),this.h()},l:function(l){e=m(l,"A",{class:!0,href:!0});var c=x(e);r=I(c,"View"),c.forEach(d),n=R(l),s=m(l,"A",{class:!0,href:!0});var f=x(s);o=I(f,"Download"),f.forEach(d),this.h()},h:function(){k(e,"class","btn variant-ghost-primary"),k(e,"href",Se+"/mod/"+t[2]+"/version/"+t[3]),g(e,P,123,10,4233),k(s,"class","btn variant-ghost-primary"),k(s,"href",He+"/mod/"+t[2]+"/versions/"+t[3]+"/download"),g(s,P,124,10,4345)},m:function(l,c){z(l,e,c),i(e,r),z(l,n,c),z(l,s,c),i(s,o)},p:_,d:function(l){l&&(d(e),d(n),d(s))}};return G("SvelteRegisterBlock",{block:u,id:Kt.name,type:"else",source:"(114:8) {:else}",ctx:t}),u}function Qt(t){let e,r,n="Download",s,o,u="arrow_drop_down",a,l,c,f,v,V,h=Dt(t[0].data.getVersion.arch),$=[];for(let B=0;B<h.length;B+=1)$[B]=mt(At(t,h,B));const M={c:function(){e=p("button"),r=p("span"),r.textContent=n,s=N(),o=p("span"),o.textContent=u,a=N(),l=p("div"),c=p("nav"),f=p("ul");for(let b=0;b<$.length;b+=1)$[b].c();this.h()},l:function(b){e=m(b,"BUTTON",{class:!0});var D=x(e);r=m(D,"SPAN",{"data-svelte-h":!0}),ae(r)!=="svelte-q9mf3e"&&(r.textContent=n),s=R(D),o=m(D,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),ae(o)!=="svelte-dpxqae"&&(o.textContent=u),D.forEach(d),a=R(b),l=m(b,"DIV",{class:!0,"data-popup":!0});var y=x(l);c=m(y,"NAV",{class:!0});var C=x(c);f=m(C,"UL",{});var w=x(f);for(let ne=0;ne<$.length;ne+=1)$[ne].l(w);w.forEach(d),C.forEach(d),y.forEach(d),this.h()},h:function(){g(r,P,103,12,3484),k(o,"class","material-icons"),sn(o,"margin","0"),g(o,P,104,12,3518),k(e,"class","btn variant-ghost-primary"),g(e,P,95,10,3231),g(f,P,109,14,3736),k(c,"class","list-nav"),g(c,P,108,12,3699),k(l,"class","card w-72 shadow-xl"),k(l,"data-popup","versionArchDropdown"),g(l,P,107,10,3620)},m:function(b,D){z(b,e,D),i(e,r),i(e,s),i(e,o),z(b,a,D),z(b,l,D),i(l,c),i(c,f);for(let y=0;y<$.length;y+=1)$[y]&&$[y].m(f,null);v||(V=rn(Ot.call(null,e,{event:"focus-click",target:"versionArchDropdown",placement:"bottom",closeQuery:"a"})),v=!0)},p:function(b,D){if(D&13){h=Dt(b[0].data.getVersion.arch);let y;for(y=0;y<h.length;y+=1){const C=At(b,h,y);$[y]?$[y].p(C,D):($[y]=mt(C),$[y].c(),$[y].m(f,null))}for(;y<$.length;y+=1)$[y].d(1);$.length=h.length}},d:function(b){b&&(d(e),d(a),d(l)),an($,b),v=!1,V()}};return G("SvelteRegisterBlock",{block:M,id:Qt.name,type:"if",source:"(86:8) {#if $version.data.getVersion.arch.length != 0}",ctx:t}),M}function mt(t){let e,r,n,s,o=ft(t[15].platform)+"",u,a,l;const c={c:function(){e=p("li"),r=p("a"),n=p("span"),s=S("Download "),u=S(o),l=N(),this.h()},l:function(v){e=m(v,"LI",{});var V=x(e);r=m(V,"A",{class:!0,href:!0});var h=x(r);n=m(h,"SPAN",{});var $=x(n);s=I($,"Download "),u=I($,o),$.forEach(d),h.forEach(d),l=R(V),V.forEach(d),this.h()},h:function(){g(n,P,115,22,4028),k(r,"class","w-full"),k(r,"href",a=He+"/mod/"+t[2]+"/versions/"+t[3]+"/"+t[15].platform+"/download"),g(r,P,112,20,3846),g(e,P,111,18,3821)},m:function(v,V){z(v,e,V),i(e,r),i(r,n),i(n,s),i(n,u),i(e,l)},p:function(v,V){V&1&&o!==(o=ft(v[15].platform)+"")&&J(u,o),V&1&&a!==(a=He+"/mod/"+v[2]+"/versions/"+v[3]+"/"+v[15].platform+"/download")&&k(r,"href",a)},d:function(v){v&&d(e)}};return G("SvelteRegisterBlock",{block:c,id:mt.name,type:"each",source:"(102:16) {#each $version.data.getVersion.arch as arch}",ctx:t}),c}function gt(t){let e,r,n,s,o,u,a=!t[0].fetching&&!t[0].error&&t[0].data.getVersion&&ht(t);const l=[Jt,Ft,Ht,Lt],c=[];function f(V,h){return V[0].fetching?0:V[0].error?1:V[0].data.getVersion?2:3}n=f(t),s=c[n]=l[n](t);const v={c:function(){a&&a.c(),e=Me(),r=N(),s.c(),o=Me()},l:function(h){const $=nn("svelte-7zfw29",document.head);a&&a.l($),e=Me(),$.forEach(d),r=R(h),s.l(h),o=Me()},m:function(h,$){a&&a.m(document.head,null),i(document.head,e),z(h,r,$),c[n].m(h,$),z(h,o,$),u=!0},p:function(h,[$]){!h[0].fetching&&!h[0].error&&h[0].data.getVersion?a?(a.p(h,$),$&1&&ce(a,1)):(a=ht(h),a.c(),ce(a,1),a.m(e.parentNode,e)):a&&(Rt(),pe(a,1,1,()=>{a=null}),Nt());let M=n;n=f(h),n===M?c[n].p(h,$):(Rt(),pe(c[M],1,1,()=>{c[M]=null}),Nt(),s=c[n],s?s.p(h,$):(s=c[n]=l[n](h),s.c()),ce(s,1),s.m(o.parentNode,o))},i:function(h){u||(ce(a),ce(s),u=!0)},o:function(h){pe(a),pe(s),u=!1},d:function(h){h&&(d(r),d(o)),a&&a.d(h),d(e),c[n].d(h)}};return G("SvelteRegisterBlock",{block:v,id:gt.name,type:"component",source:"",ctx:t}),v}function hn(t,e,r){let n,s,o;st(ot,"user"),Et(t,ot,w=>r(8,s=w));let{$$slots:u={},$$scope:a}=e;bt("Page",u,[]);let{data:l}=e;const{modId:c,versionId:f,version:v}=l;st(v,"version"),Et(t,v,w=>r(0,o=w));const V=St(),h=It(),$=()=>{V.mutation(Ct,{versionId:f}).toPromise().then(w=>{w.error?(console.error(w.error.message),h.trigger({message:"Error deleting version: "+w.error.message,background:"variant-filled-error",autohide:!1})):(h.trigger({message:"Version deleted",background:"variant-filled-success",timeout:5e3}),nt(Se+"/mod/"+c))})},M={type:"confirm",title:"Delete Version?",body:"Are you sure you wish to delete this version?",response:w=>{w&&$()}},B=Pt();t.$$.on_mount.push(function(){l===void 0&&!("data"in e||t.$$.bound[t.$$.props.data])&&Bt.warn("<Page> was created without expected prop 'data'")});const b=["data"];Object.keys(e).forEach(w=>{!~b.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&Bt.warn(`<Page> was created with unknown prop '${w}'`)});const D=()=>nt(Se+"/mod/"+c+"/version/"+f+"/edit"),y=()=>B.trigger(M),C=()=>_t(o.data.getVersion.mod.mod_reference);return t.$$set=w=>{"data"in w&&r(7,l=w.data)},t.$capture_state=()=>({DeleteVersionDocument:Ct,VersionDescription:zt,VersionInfo:Gt,MetaDescriptors:jt,API_REST:He,goto:nt,user:ot,base:Se,installMod:_t,prettyArch:ft,getContextClient:St,getModalStore:Pt,getToastStore:It,popup:Ot,Page404:Tt,data:l,modId:c,versionId:f,version:v,client:V,toastStore:h,deleteVersionFn:$,deleteModal:M,modalStore:B,canUserEdit:n,$user:s,$version:o}),t.$inject_state=w=>{"data"in w&&r(7,l=w.data),"canUserEdit"in w&&r(1,n=w.canUserEdit)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&257&&r(1,n=s?.roles?.deleteContent||o?.data?.getVersion.mod?.authors?.findIndex(w=>w.user_id==s?.id)>=0)},[o,n,c,f,v,M,B,l,s,D,y,C]}class En extends vt{constructor(e){super(e),$t(this,e,hn,gt,wt,{data:7}),G("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:gt.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{En as component,kn as universal};
//# sourceMappingURL=18.8f7a5142.js.map
