import{G as Xt,S as vt,i as $t,s as wt,d as U,a7 as yt,v as bt,e as m,g,h as x,j as f,N as I,m as v,n as j,Q as a,a8 as Yt,u as C,a9 as Zt,aa as Jt,ar as Et,a0 as st,b as P,W as k,M as ae,k as R,X as S,Y as K,x as en,a1 as kt,F as St,aE as It,_ as nt,H as Pe,ao as _t,$ as tn,f as qe,K as nn,r as fe,t as $e,q as Nt,J as ze,L as Ge,O as Le,R as Fe,y as on,I as sn,p as Pt,Z as rt,T as rn,a6 as an,U as Rt,l as ln,ab as cn,V as fn}from"../chunks/vendor.9e8a8c08.js";import{r as un,B as Dt}from"../chunks/graphql.fef59309.js";import{l as dn}from"../chunks/gql.ff9241aa.js";import{m as it}from"../chunks/markdown.e59ae56e.js";import{p as at,a as lt,b as ct,c as ft}from"../chunks/formatting.6f84ef8f.js";import{M as At}from"../chunks/MetaDescriptors.b2f7dbe0.js";import{A as Ke}from"../chunks/api.853e29e3.js";import{u as ot}from"../chunks/user.2175d6b7.js";import{T as Ot}from"../chunks/Toast.e31c28a1.js";import{i as Ct}from"../chunks/launcher.da1aa3d5.js";const hn=async({params:t,parent:e})=>({...t,...await dn({version:Xt({query:un,client:(await e()).client,variables:{version:t.versionId}})})}),In=Object.freeze(Object.defineProperty({__proto__:null,load:hn},Symbol.toStringTag,{value:"Module"})),He="src/lib/components/versions/VersionDescription.svelte";function jt(t){const e={c:C,l:C,m:C,p:C,d:C};return U("SvelteRegisterBlock",{block:e,id:jt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { markdown }',ctx:t}),e}function Mt(t){let e,r,n=t[1]+"";const s={c:function(){e=m("p"),r=new Zt(!1),this.h()},l:function(c){e=g(c,"P",{});var i=x(e);r=Jt(i,!1),i.forEach(f),this.h()},h:function(){r.a=null,v(e,He,11,8,273)},m:function(c,i){j(c,e,i),r.m(n,e)},p:function(c,i){i&1&&n!==(n=c[1]+"")&&r.p(n)},d:function(c){c&&f(e)}};return U("SvelteRegisterBlock",{block:s,id:Mt.name,type:"then",source:"(8:57)          <!-- eslint-disable -->         <p>{@html changelogRendered}",ctx:t}),s}function Ut(t){const e={c:C,l:C,m:C,p:C,d:C};return U("SvelteRegisterBlock",{block:e,id:Ut.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { markdown }',ctx:t}),e}function ut(t){let e,r,n,s,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Ut,then:Mt,catch:jt,value:1};yt(s=it(t[0]),o);const c={c:function(){e=m("div"),r=m("section"),n=m("div"),o.block.c(),this.h()},l:function(l){e=g(l,"DIV",{class:!0});var u=x(e);r=g(u,"SECTION",{});var d=x(r);n=g(d,"DIV",{class:!0});var $=x(n);o.block.l($),$.forEach(f),d.forEach(f),u.forEach(f),this.h()},h:function(){I(n,"class","markdown-content"),v(n,He,8,4,144),v(r,He,7,2,130),I(e,"class","h-fit card p-4"),v(e,He,6,0,99)},m:function(l,u){j(l,e,u),a(e,r),a(r,n),o.block.m(n,o.anchor=null),o.mount=()=>n,o.anchor=null},p:function(l,[u]){t=l,o.ctx=t,u&1&&s!==(s=it(t[0]))&&yt(s,o)||Yt(o,t,u)},i:C,o:C,d:function(l){l&&f(e),o.block.d(),o.token=null,o=null}};return U("SvelteRegisterBlock",{block:c,id:ut.name,type:"component",source:"",ctx:t}),c}function pn(t,e,r){let{$$slots:n={},$$scope:s}=e;bt("VersionDescription",n,[]);let{changelog:o}=e;t.$$.on_mount.push(function(){o===void 0&&!("changelog"in e||t.$$.bound[t.$$.props.changelog])&&console.warn("<VersionDescription> was created without expected prop 'changelog'")});const c=["changelog"];return Object.keys(e).forEach(i=>{!~c.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<VersionDescription> was created with unknown prop '${i}'`)}),t.$$set=i=>{"changelog"in i&&r(0,o=i.changelog)},t.$capture_state=()=>({markdown:it,changelog:o}),t.$inject_state=i=>{"changelog"in i&&r(0,o=i.changelog)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o]}class qt extends vt{constructor(e){super(e),$t(this,e,pn,ut,wt,{changelog:0}),U("SvelteRegisterComponent",{component:this,tagName:"VersionDescription",options:e,id:ut.name})}get changelog(){throw new Error("<VersionDescription>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set changelog(e){throw new Error("<VersionDescription>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const O="src/lib/components/versions/VersionInfo.svelte";function dt(t){let e,r,n,s,o="Info",c,i,l,u=t[2]("entry.created-at")+"",d,$,y,h=at(t[0].created_at)+"",p,L,_,b,B,E=t[2]("downloads")+"",T,Q,oe,w=lt(t[0].downloads)+"",J,we,be,q,F,xe,ee=t[2]("version")+"",te,ue,ne,le=t[0].sml_version+"",se,de,ye,D,re,ie=t[2]("stability")+"",W,ke,Ee,he=t[0].stability+"",X,V,A,Y,Z,z=t[2]("size")+"",ce,pe,me,ge=ct(t[0].size)+"",Re,De,Qe,ve,Ve,Se=t[2]("hash")+"",Ce,We,Xe,Ie=t[0].hash+"",Be;const xt={c:function(){e=m("div"),r=m("section"),n=m("div"),s=m("h3"),s.textContent=o,c=P(),i=m("span"),l=m("strong"),d=k(u),$=k(":"),y=P(),p=k(h),L=m("br"),_=P(),b=m("span"),B=m("strong"),T=k(E),Q=k(":"),oe=P(),J=k(w),we=m("br"),be=P(),q=m("span"),F=m("strong"),xe=k("SML "),te=k(ee),ue=k(":"),ne=P(),se=k(le),de=m("br"),ye=P(),D=m("span"),re=m("strong"),W=k(ie),ke=k(":"),Ee=P(),X=k(he),V=m("br"),A=P(),Y=m("span"),Z=m("strong"),ce=k(z),pe=k(":"),me=P(),Re=k(ge),De=m("br"),Qe=P(),ve=m("span"),Ve=m("strong"),Ce=k(Se),We=k(":"),Xe=P(),Be=k(Ie),this.h()},l:function(G){e=g(G,"DIV",{class:!0});var H=x(e);r=g(H,"SECTION",{});var Vt=x(r);n=g(Vt,"DIV",{class:!0});var M=x(n);s=g(M,"H3",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-1cfi42f"&&(s.textContent=o),c=R(M),i=g(M,"SPAN",{});var Te=x(i);l=g(Te,"STRONG",{});var Ye=x(l);d=S(Ye,u),$=S(Ye,":"),Ye.forEach(f),y=R(Te),p=S(Te,h),Te.forEach(f),L=g(M,"BR",{}),_=R(M),b=g(M,"SPAN",{});var _e=x(b);B=g(_e,"STRONG",{});var Ze=x(B);T=S(Ze,E),Q=S(Ze,":"),Ze.forEach(f),oe=R(_e),J=S(_e,w),_e.forEach(f),we=g(M,"BR",{}),be=R(M),q=g(M,"SPAN",{});var Ae=x(q);F=g(Ae,"STRONG",{});var Oe=x(F);xe=S(Oe,"SML "),te=S(Oe,ee),ue=S(Oe,":"),Oe.forEach(f),ne=R(Ae),se=S(Ae,le),Ae.forEach(f),de=g(M,"BR",{}),ye=R(M),D=g(M,"SPAN",{});var je=x(D);re=g(je,"STRONG",{});var Je=x(re);W=S(Je,ie),ke=S(Je,":"),Je.forEach(f),Ee=R(je),X=S(je,he),je.forEach(f),V=g(M,"BR",{}),A=R(M),Y=g(M,"SPAN",{});var Me=x(Y);Z=g(Me,"STRONG",{});var et=x(Z);ce=S(et,z),pe=S(et,":"),et.forEach(f),me=R(Me),Re=S(Me,ge),Me.forEach(f),De=g(M,"BR",{}),Qe=R(M),ve=g(M,"SPAN",{});var Ue=x(ve);Ve=g(Ue,"STRONG",{});var tt=x(Ve);Ce=S(tt,Se),We=S(tt,":"),tt.forEach(f),Xe=R(Ue),Be=S(Ue,Ie),Ue.forEach(f),M.forEach(f),Vt.forEach(f),H.forEach(f),this.h()},h:function(){I(s,"class","text-2xl my-4 font-bold"),v(s,O,13,6,291),v(l,O,14,12,349),v(i,O,14,6,343),v(L,O,14,94,431),v(B,O,15,12,450),v(b,O,15,6,444),v(we,O,15,88,526),v(F,O,16,12,545),v(q,O,16,6,539),v(de,O,16,78,611),v(re,O,17,12,630),v(D,O,17,6,624),v(V,O,17,74,692),v(Z,O,18,12,711),v(Y,O,18,6,705),v(De,O,18,77,776),v(Ve,O,19,12,795),v(ve,O,19,6,789),I(n,"class","text-lg break-words"),v(n,O,12,4,251),v(r,O,11,2,237),I(e,"class","card p-4"),v(e,O,10,0,212)},m:function(G,H){j(G,e,H),a(e,r),a(r,n),a(n,s),a(n,c),a(n,i),a(i,l),a(l,d),a(l,$),a(i,y),a(i,p),a(n,L),a(n,_),a(n,b),a(b,B),a(B,T),a(B,Q),a(b,oe),a(b,J),a(n,we),a(n,be),a(n,q),a(q,F),a(F,xe),a(F,te),a(F,ue),a(q,ne),a(q,se),a(n,de),a(n,ye),a(n,D),a(D,re),a(re,W),a(re,ke),a(D,Ee),a(D,X),a(n,V),a(n,A),a(n,Y),a(Y,Z),a(Z,ce),a(Z,pe),a(Y,me),a(Y,Re),a(n,De),a(n,Qe),a(n,ve),a(ve,Ve),a(Ve,Ce),a(Ve,We),a(ve,Xe),a(ve,Be)},p:function(G,[H]){H&4&&u!==(u=G[2]("entry.created-at")+"")&&K(d,u),H&1&&h!==(h=at(G[0].created_at)+"")&&K(p,h),H&4&&E!==(E=G[2]("downloads")+"")&&K(T,E),H&1&&w!==(w=lt(G[0].downloads)+"")&&K(J,w),H&4&&ee!==(ee=G[2]("version")+"")&&K(te,ee),H&1&&le!==(le=G[0].sml_version+"")&&K(se,le),H&4&&ie!==(ie=G[2]("stability")+"")&&K(W,ie),H&1&&he!==(he=G[0].stability+"")&&K(X,he),H&4&&z!==(z=G[2]("size")+"")&&K(ce,z),H&1&&ge!==(ge=ct(G[0].size)+"")&&K(Re,ge),H&4&&Se!==(Se=G[2]("hash")+"")&&K(Ce,Se),H&1&&Ie!==(Ie=G[0].hash+"")&&K(Be,Ie)},i:C,o:C,d:function(G){G&&f(e)}};return U("SvelteRegisterBlock",{block:xt,id:dt.name,type:"component",source:"",ctx:t}),xt}function mn(t,e,r){let n,s=C,o=()=>(s(),s=en(u,$=>r(2,n=$)),u);t.$$.on_destroy.push(()=>s());let{$$slots:c={},$$scope:i}=e;bt("VersionInfo",c,[]);let{version:l}=e;const{t:u}=Et();st(u,"t"),o(),t.$$.on_mount.push(function(){l===void 0&&!("version"in e||t.$$.bound[t.$$.props.version])&&console.warn("<VersionInfo> was created without expected prop 'version'")});const d=["version"];return Object.keys(e).forEach($=>{!~d.indexOf($)&&$.slice(0,2)!=="$$"&&$!=="slot"&&console.warn(`<VersionInfo> was created with unknown prop '${$}'`)}),t.$$set=$=>{"version"in $&&r(0,l=$.version)},t.$capture_state=()=>({prettyBytes:ct,prettyDate:at,prettyNumber:lt,getTranslate:Et,version:l,t:u,$t:n}),t.$inject_state=$=>{"version"in $&&r(0,l=$.version)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[l,u,n]}class zt extends vt{constructor(e){super(e),$t(this,e,mn,dt,wt,{version:0,t:1}),U("SvelteRegisterComponent",{component:this,tagName:"VersionInfo",options:e,id:dt.name})}get version(){throw new Error("<VersionInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set version(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[1]}set t(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:Bt}=tn,N="src/routes/mod/[modId]/version/[versionId]/+page.svelte";function Tt(t,e,r){const n=t.slice();return n[17]=e[r],n}function ht(t){let e,r;e=new At({props:{description:"Information for mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version,title:"Mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version},$$inline:!0});const n={c:function(){ze(e.$$.fragment)},l:function(o){Ge(e.$$.fragment,o)},m:function(o,c){Le(e,o,c),r=!0},p:function(o,c){const i={};c&1&&(i.description="Information for mod version "+o[0].data.getVersion.mod.name+" "+o[0].data.getVersion.version),c&1&&(i.title="Mod version "+o[0].data.getVersion.mod.name+" "+o[0].data.getVersion.version),e.$set(i)},i:function(o){r||(fe(e.$$.fragment,o),r=!0)},o:function(o){$e(e.$$.fragment,o),r=!1},d:function(o){Fe(e,o)}};return U("SvelteRegisterBlock",{block:n,id:ht.name,type:"if",source:"(52:2) {#if !$version.fetching && !$version.error && $version.data.getVersion}",ctx:t}),n}function Gt(t){let e;const r={c:function(){e=k("404")},l:function(s){e=S(s,"404")},m:function(s,o){j(s,e,o)},p:C,i:C,o:C,d:function(s){s&&f(e)}};return U("SvelteRegisterBlock",{block:r,id:Gt.name,type:"else",source:"(138:0) {:else}",ctx:t}),r}function Lt(t){let e,r,n,s=t[0].data.getVersion.mod.name+"",o,c,i=t[0].data.getVersion.version+"",l,u,d,$,y,h,p,L="Install",_,b,B="download",E,T,Q,oe="Mod",w,J,we="extension",be,q,F,xe,ee,te,ue,ne,le,se,de,ye,D=t[3]&&pt(t);function re(X,V){return X[0].data.getVersion.arch.length!=0?Qt:Kt}let ie=re(t),W=ie(t);F=new qt({props:{changelog:t[0].data.getVersion.changelog},$$inline:!0}),te=new zt({props:{version:t[0].data.getVersion},$$inline:!0});function ke(X){t[14](X)}let Ee={$$slots:{default:[Wt]},$$scope:{ctx:t}};t[2]!==void 0&&(Ee.running=t[2]),ne=new Ot({props:Ee,$$inline:!0}),on.push(()=>sn(ne,"running",ke));const he={c:function(){e=m("div"),r=m("div"),n=m("h1"),o=k(s),c=k(`
        Version `),l=k(i),u=P(),d=m("div"),D&&D.c(),$=P(),W.c(),y=P(),h=m("button"),p=m("span"),p.textContent=L,_=P(),b=m("span"),b.textContent=B,E=P(),T=m("a"),Q=m("span"),Q.textContent=oe,w=P(),J=m("span"),J.textContent=we,be=P(),q=m("div"),ze(F.$$.fragment),xe=P(),ee=m("div"),ze(te.$$.fragment),ue=P(),ze(ne.$$.fragment),this.h()},l:function(V){e=g(V,"DIV",{class:!0});var A=x(e);r=g(A,"DIV",{class:!0});var Y=x(r);n=g(Y,"H1",{class:!0});var Z=x(n);o=S(Z,s),c=S(Z,`
        Version `),l=S(Z,i),Z.forEach(f),u=R(Y),d=g(Y,"DIV",{class:!0});var z=x(d);D&&D.l(z),$=R(z),W.l(z),y=R(z),h=g(z,"BUTTON",{class:!0});var ce=x(h);p=g(ce,"SPAN",{"data-svelte-h":!0}),ae(p)!=="svelte-1bbhnfr"&&(p.textContent=L),_=R(ce),b=g(ce,"SPAN",{class:!0,"data-svelte-h":!0}),ae(b)!=="svelte-rqt9z7"&&(b.textContent=B),ce.forEach(f),E=R(z),T=g(z,"A",{class:!0,href:!0});var pe=x(T);Q=g(pe,"SPAN",{"data-svelte-h":!0}),ae(Q)!=="svelte-y2sqc2"&&(Q.textContent=oe),w=R(pe),J=g(pe,"SPAN",{class:!0,"data-svelte-h":!0}),ae(J)!=="svelte-y4psqu"&&(J.textContent=we),pe.forEach(f),z.forEach(f),Y.forEach(f),be=R(A),q=g(A,"DIV",{class:!0});var me=x(q);Ge(F.$$.fragment,me),xe=R(me),ee=g(me,"DIV",{class:!0});var ge=x(ee);Ge(te.$$.fragment,ge),ge.forEach(f),me.forEach(f),A.forEach(f),ue=R(V),Ge(ne.$$.fragment,V),this.h()},h:function(){I(n,"class","text-4xl font-bold"),v(n,N,74,6,2381),v(p,N,125,10,4415),I(b,"class","material-icons"),v(b,N,126,10,4446),I(h,"class","btn variant-ghost-primary"),v(h,N,122,8,4270),v(Q,N,130,10,4596),I(J,"class","material-icons"),v(J,N,131,10,4623),I(T,"class","btn variant-ghost-primary"),I(T,"href",Pe+"/mod/"+t[4]),v(T,N,129,8,4518),I(d,"class","grid grid-flow-col gap-4"),v(d,N,79,6,2527),I(r,"class","flex flex-wrap h-auto justify-between items-center"),v(r,N,73,4,2310),I(ee,"class","grid grid-cols-1 auto-rows-min gap-8"),v(ee,N,137,6,4844),I(q,"class","grid grid-auto-max auto-cols-fr gap-4"),v(q,N,135,4,4710),I(e,"class","grid gap-6 xlx:grid-flow-row"),v(e,N,72,2,2263)},m:function(V,A){j(V,e,A),a(e,r),a(r,n),a(n,o),a(n,c),a(n,l),a(r,u),a(r,d),D&&D.m(d,null),a(d,$),W.m(d,null),a(d,y),a(d,h),a(h,p),a(h,_),a(h,b),a(d,E),a(d,T),a(T,Q),a(T,w),a(T,J),a(e,be),a(e,q),Le(F,q,null),a(q,xe),a(q,ee),Le(te,ee,null),j(V,ue,A),Le(ne,V,A),se=!0,de||(ye=rt(h,"click",t[13],!1,!1,!1,!1),de=!0)},p:function(V,A){(!se||A&1)&&s!==(s=V[0].data.getVersion.mod.name+"")&&K(o,s),(!se||A&1)&&i!==(i=V[0].data.getVersion.version+"")&&K(l,i),V[3]?D?D.p(V,A):(D=pt(V),D.c(),D.m(d,$)):D&&(D.d(1),D=null),ie===(ie=re(V))&&W?W.p(V,A):(W.d(1),W=ie(V),W&&(W.c(),W.m(d,y)));const Y={};A&1&&(Y.changelog=V[0].data.getVersion.changelog),F.$set(Y);const Z={};A&1&&(Z.version=V[0].data.getVersion),te.$set(Z);const z={};A&1048578&&(z.$$scope={dirty:A,ctx:V}),!le&&A&4&&(le=!0,z.running=V[2],rn(()=>le=!1)),ne.$set(z)},i:function(V){se||(fe(F.$$.fragment,V),fe(te.$$.fragment,V),fe(ne.$$.fragment,V),se=!0)},o:function(V){$e(F.$$.fragment,V),$e(te.$$.fragment,V),$e(ne.$$.fragment,V),se=!1},d:function(V){V&&(f(e),f(ue)),D&&D.d(),W.d(),Fe(F),Fe(te),Fe(ne,V),de=!1,ye()}};return U("SvelteRegisterBlock",{block:he,id:Lt.name,type:"if",source:"(63:35) ",ctx:t}),he}function Ft(t){let e,r,n=t[0].error.message+"",s;const o={c:function(){e=m("p"),r=k("Oh no... "),s=k(n),this.h()},l:function(i){e=g(i,"P",{});var l=x(e);r=S(l,"Oh no... "),s=S(l,n),l.forEach(f),this.h()},h:function(){v(e,N,70,2,2184)},m:function(i,l){j(i,e,l),a(e,r),a(e,s)},p:function(i,l){l&1&&n!==(n=i[0].error.message+"")&&K(s,n)},i:C,o:C,d:function(i){i&&f(e)}};return U("SvelteRegisterBlock",{block:o,id:Ft.name,type:"if",source:"(61:25) ",ctx:t}),o}function Ht(t){let e,r="Loading...";const n={c:function(){e=m("p"),e.textContent=r,this.h()},l:function(o){e=g(o,"P",{"data-svelte-h":!0}),ae(e)!=="svelte-qdsr2u"&&(e.textContent=r),this.h()},h:function(){v(e,N,68,2,2138)},m:function(o,c){j(o,e,c)},p:C,i:C,o:C,d:function(o){o&&f(e)}};return U("SvelteRegisterBlock",{block:n,id:Ht.name,type:"if",source:"(59:0) {#if $version.fetching}",ctx:t}),n}function pt(t){let e,r="Edit",n,s,o="Delete",c,i;const l={c:function(){e=m("button"),e.textContent=r,n=P(),s=m("button"),s.textContent=o,this.h()},l:function(d){e=g(d,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-53n07s"&&(e.textContent=r),n=R(d),s=g(d,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-tfawqf"&&(s.textContent=o),this.h()},h:function(){I(e,"class","btn variant-ghost-primary"),v(e,N,81,10,2602),I(s,"class","btn variant-ghost-primary"),v(s,N,86,10,2798)},m:function(d,$){j(d,e,$),j(d,n,$),j(d,s,$),c||(i=[rt(e,"click",t[11],!1,!1,!1,!1),rt(s,"click",t[12],!1,!1,!1,!1)],c=!0)},p:C,d:function(d){d&&(f(e),f(n),f(s)),c=!1,an(i)}};return U("SvelteRegisterBlock",{block:l,id:pt.name,type:"if",source:"(72:8) {#if canUserEdit}",ctx:t}),l}function Kt(t){let e,r,n,s,o;const c={c:function(){e=m("a"),r=k("View"),n=P(),s=m("a"),o=k("Download"),this.h()},l:function(l){e=g(l,"A",{class:!0,href:!0});var u=x(e);r=S(u,"View"),u.forEach(f),n=R(l),s=g(l,"A",{class:!0,href:!0});var d=x(s);o=S(d,"Download"),d.forEach(f),this.h()},h:function(){I(e,"class","btn variant-ghost-primary"),I(e,"href",Pe+"/mod/"+t[4]+"/version/"+t[5]),v(e,N,117,10,3987),I(s,"class","btn variant-ghost-primary"),I(s,"href",Ke+"/mod/"+t[4]+"/versions/"+t[5]+"/download"),v(s,N,118,10,4099)},m:function(l,u){j(l,e,u),a(e,r),j(l,n,u),j(l,s,u),a(s,o)},p:C,d:function(l){l&&(f(e),f(n),f(s))}};return U("SvelteRegisterBlock",{block:c,id:Kt.name,type:"else",source:"(108:8) {:else}",ctx:t}),c}function Qt(t){let e,r,n="Download",s,o,c="arrow_drop_down",i,l,u,d,$,y,h=Rt(t[0].data.getVersion.arch),p=[];for(let _=0;_<h.length;_+=1)p[_]=mt(Tt(t,h,_));const L={c:function(){e=m("button"),r=m("span"),r.textContent=n,s=P(),o=m("span"),o.textContent=c,i=P(),l=m("div"),u=m("nav"),d=m("ul");for(let b=0;b<p.length;b+=1)p[b].c();this.h()},l:function(b){e=g(b,"BUTTON",{class:!0});var B=x(e);r=g(B,"SPAN",{"data-svelte-h":!0}),ae(r)!=="svelte-q9mf3e"&&(r.textContent=n),s=R(B),o=g(B,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),ae(o)!=="svelte-dpxqae"&&(o.textContent=c),B.forEach(f),i=R(b),l=g(b,"DIV",{class:!0,"data-popup":!0});var E=x(l);u=g(E,"NAV",{class:!0});var T=x(u);d=g(T,"UL",{});var Q=x(d);for(let oe=0;oe<p.length;oe+=1)p[oe].l(Q);Q.forEach(f),T.forEach(f),E.forEach(f),this.h()},h:function(){v(r,N,97,12,3238),I(o,"class","material-icons"),ln(o,"margin","0"),v(o,N,98,12,3272),I(e,"class","btn variant-ghost-primary"),v(e,N,89,10,2985),v(d,N,103,14,3490),I(u,"class","list-nav"),v(u,N,102,12,3453),I(l,"class","card w-72 shadow-xl"),I(l,"data-popup","versionArchDropdown"),v(l,N,101,10,3374)},m:function(b,B){j(b,e,B),a(e,r),a(e,s),a(e,o),j(b,i,B),j(b,l,B),a(l,u),a(u,d);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(d,null);$||(y=cn(_t.call(null,e,{event:"focus-click",target:"versionArchDropdown",placement:"bottom",closeQuery:"a"})),$=!0)},p:function(b,B){if(B&49){h=Rt(b[0].data.getVersion.arch);let E;for(E=0;E<h.length;E+=1){const T=Tt(b,h,E);p[E]?p[E].p(T,B):(p[E]=mt(T),p[E].c(),p[E].m(d,null))}for(;E<p.length;E+=1)p[E].d(1);p.length=h.length}},d:function(b){b&&(f(e),f(i),f(l)),fn(p,b),$=!1,y()}};return U("SvelteRegisterBlock",{block:L,id:Qt.name,type:"if",source:"(80:8) {#if $version.data.getVersion.arch.length != 0}",ctx:t}),L}function mt(t){let e,r,n,s,o=ft(t[17].platform)+"",c,i,l;const u={c:function(){e=m("li"),r=m("a"),n=m("span"),s=k("Download "),c=k(o),l=P(),this.h()},l:function($){e=g($,"LI",{});var y=x(e);r=g(y,"A",{class:!0,href:!0});var h=x(r);n=g(h,"SPAN",{});var p=x(n);s=S(p,"Download "),c=S(p,o),p.forEach(f),h.forEach(f),l=R(y),y.forEach(f),this.h()},h:function(){v(n,N,109,22,3782),I(r,"class","w-full"),I(r,"href",i=Ke+"/mod/"+t[4]+"/versions/"+t[5]+"/"+t[17].platform+"/download"),v(r,N,106,20,3600),v(e,N,105,18,3575)},m:function($,y){j($,e,y),a(e,r),a(r,n),a(n,s),a(n,c),a(e,l)},p:function($,y){y&1&&o!==(o=ft($[17].platform)+"")&&K(c,o),y&1&&i!==(i=Ke+"/mod/"+$[4]+"/versions/"+$[5]+"/"+$[17].platform+"/download")&&I(r,"href",i)},d:function($){$&&f(e)}};return U("SvelteRegisterBlock",{block:u,id:mt.name,type:"each",source:"(96:16) {#each $version.data.getVersion.arch as arch}",ctx:t}),u}function Wt(t){let e,r;const n={c:function(){e=m("span"),r=k(t[1]),this.h()},l:function(o){e=g(o,"SPAN",{});var c=x(e);r=S(c,t[1]),c.forEach(f),this.h()},h:function(){v(e,N,144,4,5028)},m:function(o,c){j(o,e,c),a(e,r)},p:function(o,c){c&2&&K(r,o[1])},d:function(o){o&&f(e)}};return U("SvelteRegisterBlock",{block:n,id:Wt.name,type:"slot",source:"(135:2) <Toast bind:running={errorToast}>",ctx:t}),n}function gt(t){let e,r,n,s,o,c,i=!t[0].fetching&&!t[0].error&&t[0].data.getVersion&&ht(t);const l=[Ht,Ft,Lt,Gt],u=[];function d(y,h){return y[0].fetching?0:y[0].error?1:y[0].data.getVersion?2:3}n=d(t),s=u[n]=l[n](t);const $={c:function(){i&&i.c(),e=qe(),r=P(),s.c(),o=qe()},l:function(h){const p=nn("svelte-7zfw29",document.head);i&&i.l(p),e=qe(),p.forEach(f),r=R(h),s.l(h),o=qe()},m:function(h,p){i&&i.m(document.head,null),a(document.head,e),j(h,r,p),u[n].m(h,p),j(h,o,p),c=!0},p:function(h,[p]){!h[0].fetching&&!h[0].error&&h[0].data.getVersion?i?(i.p(h,p),p&1&&fe(i,1)):(i=ht(h),i.c(),fe(i,1),i.m(e.parentNode,e)):i&&(Pt(),$e(i,1,1,()=>{i=null}),Nt());let L=n;n=d(h),n===L?u[n].p(h,p):(Pt(),$e(u[L],1,1,()=>{u[L]=null}),Nt(),s=u[n],s?s.p(h,p):(s=u[n]=l[n](h),s.c()),fe(s,1),s.m(o.parentNode,o))},i:function(h){c||(fe(i),fe(s),c=!0)},o:function(h){$e(i),$e(s),c=!1},d:function(h){h&&(f(r),f(o)),i&&i.d(h),f(e),u[n].d(h)}};return U("SvelteRegisterBlock",{block:$,id:gt.name,type:"component",source:"",ctx:t}),$}function gn(t,e,r){let n,s,o;st(ot,"user"),kt(t,ot,w=>r(10,s=w));let{$$slots:c={},$$scope:i}=e;bt("Page",c,[]);let{data:l}=e;const{modId:u,versionId:d,version:$}=l;st($,"version"),kt(t,$,w=>r(0,o=w));const y=St();let h="",p=!1;const L=()=>{y.mutation(Dt,{versionId:d}).toPromise().then(w=>{w.error?(console.error(w.error.message),r(1,h="Error deleting version: "+w.error.message),r(2,p=!0)):nt(Pe+"/mod/"+u)})},_={type:"confirm",title:"Delete Version?",body:"Are you sure you wish to delete this version?",response:w=>{w&&L()}},b=It();t.$$.on_mount.push(function(){l===void 0&&!("data"in e||t.$$.bound[t.$$.props.data])&&Bt.warn("<Page> was created without expected prop 'data'")});const B=["data"];Object.keys(e).forEach(w=>{!~B.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&Bt.warn(`<Page> was created with unknown prop '${w}'`)});const E=()=>nt(Pe+"/mod/"+u+"/version/"+d+"/edit"),T=()=>b.trigger(_),Q=()=>Ct(o.data.getVersion.mod.mod_reference);function oe(w){p=w,r(2,p)}return t.$$set=w=>{"data"in w&&r(9,l=w.data)},t.$capture_state=()=>({DeleteVersionDocument:Dt,VersionDescription:qt,VersionInfo:zt,MetaDescriptors:At,API_REST:Ke,Toast:Ot,goto:nt,user:ot,base:Pe,installMod:Ct,prettyArch:ft,getContextClient:St,getModalStore:It,popup:_t,data:l,modId:u,versionId:d,version:$,client:y,errorMessage:h,errorToast:p,deleteVersionFn:L,deleteModal:_,modalStore:b,canUserEdit:n,$user:s,$version:o}),t.$inject_state=w=>{"data"in w&&r(9,l=w.data),"errorMessage"in w&&r(1,h=w.errorMessage),"errorToast"in w&&r(2,p=w.errorToast),"canUserEdit"in w&&r(3,n=w.canUserEdit)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&1025&&r(3,n=s?.roles?.deleteContent||o?.data?.getVersion.mod?.authors?.findIndex(w=>w.user_id==s?.id)>=0)},[o,h,p,n,u,d,$,_,b,l,s,E,T,Q,oe]}class Nn extends vt{constructor(e){super(e),$t(this,e,gn,gt,wt,{data:9}),U("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:gt.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Nn as component,In as universal};
//# sourceMappingURL=18.f7fe945d.js.map
