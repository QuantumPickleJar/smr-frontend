import{S as z,i as W,d as D,s as Y,y as ee,I as te,v as se,F as B,Z as F,H as L,_ as oe,J as N,b as S,e as v,K as q,L as re,M as k,j as u,k as y,g as x,h as b,N as K,O as A,m as T,Q as j,n as w,R as P,U as ne,r as C,t as G,T as M,X as ae}from"../chunks/vendor.eef57579.js";import{h as J}from"../chunks/graphql.fef59309.js";import{T as Q}from"../chunks/Toast.4d3e4c90.js";import{G as U}from"../chunks/GuideForm.48e172fa.js";import{M as V}from"../chunks/MetaDescriptors.505b74d6.js";const{console:ie}=oe,E="src/routes/new-guide/+page.svelte";function X(r){let t,a;const i={c:function(){t=v("span"),a=q(r[1]),this.h()},l:function(o){t=x(o,"SPAN",{});var s=b(t);a=K(s,r[1]),s.forEach(u),this.h()},h:function(){T(t,E,46,2,1293)},m:function(o,s){w(o,t,s),P(t,a)},p:function(o,s){s&2&&ae(a,o[1])},d:function(o){o&&u(t)}};return D("SvelteRegisterBlock",{block:i,id:X.name,type:"slot",source:"(46:0) <Toast bind:running={errorToast}>",ctx:r}),i}function R(r){let t,a,i,l,o,s,m,$,p,f,n,g;t=new V({props:{description:"Creating a new guide",title:"New guide"},$$inline:!0}),$=new U({props:{onSubmit:r[2]},$$inline:!0});function Z(d){r[3](d)}let O={$$slots:{default:[X]},$$scope:{ctx:r}};r[0]!==void 0&&(O.running=r[0]),f=new Q({props:O,$$inline:!0}),ee.push(()=>te(f,"running",Z));const _={c:function(){N(t.$$.fragment),a=S(),i=v("h1"),l=q("New Guide"),o=S(),s=v("div"),m=v("section"),N($.$$.fragment),p=S(),N(f.$$.fragment),this.h()},l:function(e){const c=re("svelte-u6ds2",document.head);k(t.$$.fragment,c),c.forEach(u),a=y(e),i=x(e,"H1",{class:!0});var h=b(i);l=K(h,"New Guide"),h.forEach(u),o=y(e),s=x(e,"DIV",{class:!0});var H=b(s);m=x(H,"SECTION",{});var I=b(m);k($.$$.fragment,I),I.forEach(u),H.forEach(u),p=y(e),k(f.$$.fragment,e),this.h()},h:function(){A(i,"class","text-4xl my-4 font-bold"),T(i,E,37,0,1120),T(m,E,40,2,1197),A(s,"class","card p-4"),T(s,E,39,0,1172)},m:function(e,c){j(t,document.head,null),w(e,a,c),w(e,i,c),P(i,l),w(e,o,c),w(e,s,c),P(s,m),j($,m,null),w(e,p,c),j(f,e,c),g=!0},p:function(e,[c]){const h={};c&34&&(h.$$scope={dirty:c,ctx:e}),!n&&c&1&&(n=!0,h.running=e[0],ne(()=>n=!1)),f.$set(h)},i:function(e){g||(C(t.$$.fragment,e),C($.$$.fragment,e),C(f.$$.fragment,e),g=!0)},o:function(e){G(t.$$.fragment,e),G($.$$.fragment,e),G(f.$$.fragment,e),g=!1},d:function(e){M(t),e&&u(a),e&&u(i),e&&u(o),e&&u(s),M($),e&&u(p),M(f,e)}};return D("SvelteRegisterBlock",{block:_,id:R.name,type:"component",source:"",ctx:r}),_}function ce(r,t,a){let{$$slots:i={},$$scope:l}=t;se("Page",i,[]);let o="",s=!1;const m=B(),$=n=>{m.mutation(J,{guide:n}).toPromise().then(g=>{g.error?(console.error(g.error.message),a(1,o="Error creating guide: "+g.error.message),a(0,s=!0)):F(L+"/guide/"+g.data.createGuide.id)})},p=[];Object.keys(t).forEach(n=>{!~p.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&ie.warn(`<Page> was created with unknown prop '${n}'`)});function f(n){s=n,a(0,s)}return r.$capture_state=()=>({getContextClient:B,NewGuideDocument:J,Toast:Q,goto:F,GuideForm:U,base:L,MetaDescriptors:V,errorMessage:o,errorToast:s,client:m,onSubmit:$}),r.$inject_state=n=>{"errorMessage"in n&&a(1,o=n.errorMessage),"errorToast"in n&&a(0,s=n.errorToast)},t&&"$$inject"in t&&r.$inject_state(t.$$inject),r.$$.update=()=>{r.$$.dirty&1&&(s||a(1,o=""))},[s,o,$,f]}class ge extends z{constructor(t){super(t),W(this,t,ce,R,Y,{}),D("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:R.name})}}export{ge as component};
//# sourceMappingURL=22.4e76f4b0.js.map
