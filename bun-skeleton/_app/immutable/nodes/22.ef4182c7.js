import{S as W,i as X,d as _,s as Y,y as z,I as U,v as Z,F as H,_ as I,H as q,$ as tt,J as N,b as S,e as w,K as et,L as k,j as l,k as y,g as x,M as st,h as M,N as B,m as b,O as C,n as v,Q as L,T as ot,r as E,t as j,R as G,W as nt,X as rt,Y as at}from"../chunks/vendor.b1090c37.js";import{h as F}from"../chunks/graphql.fef59309.js";import{T as A}from"../chunks/Toast.c66ddab3.js";import{G as J}from"../chunks/GuideForm.d6c583ce.js";import{M as K}from"../chunks/MetaDescriptors.cb11bfd0.js";const{console:it}=tt,T="src/routes/new-guide/+page.svelte";function Q(n){let e,a;const i={c:function(){e=w("span"),a=nt(n[1]),this.h()},l:function(o){e=x(o,"SPAN",{});var s=M(e);a=rt(s,n[1]),s.forEach(l),this.h()},h:function(){b(e,T,51,2,1293)},m:function(o,s){v(o,e,s),L(e,a)},p:function(o,s){s&2&&at(a,o[1])},d:function(o){o&&l(e)}};return _("SvelteRegisterBlock",{block:i,id:Q.name,type:"slot",source:"(46:0) <Toast bind:running={errorToast}>",ctx:n}),i}function P(n){let e,a,i,$="New Guide",o,s,m,f,p,u,r,g;e=new K({props:{description:"Creating a new guide",title:"New guide"},$$inline:!0}),f=new J({props:{onSubmit:n[2]},$$inline:!0});function V(d){n[3](d)}let D={$$slots:{default:[Q]},$$scope:{ctx:n}};n[0]!==void 0&&(D.running=n[0]),u=new A({props:D,$$inline:!0}),z.push(()=>U(u,"running",V));const O={c:function(){N(e.$$.fragment),a=S(),i=w("h1"),i.textContent=$,o=S(),s=w("div"),m=w("section"),N(f.$$.fragment),p=S(),N(u.$$.fragment),this.h()},l:function(t){const c=et("svelte-u6ds2",document.head);k(e.$$.fragment,c),c.forEach(l),a=y(t),i=x(t,"H1",{class:!0,"data-svelte-h":!0}),st(i)!=="svelte-hqqpl"&&(i.textContent=$),o=y(t),s=x(t,"DIV",{class:!0});var h=M(s);m=x(h,"SECTION",{});var R=M(m);k(f.$$.fragment,R),R.forEach(l),h.forEach(l),p=y(t),k(u.$$.fragment,t),this.h()},h:function(){B(i,"class","text-4xl my-4 font-bold"),b(i,T,42,0,1120),b(m,T,45,2,1197),B(s,"class","card p-4"),b(s,T,44,0,1172)},m:function(t,c){C(e,document.head,null),v(t,a,c),v(t,i,c),v(t,o,c),v(t,s,c),L(s,m),C(f,m,null),v(t,p,c),C(u,t,c),g=!0},p:function(t,[c]){const h={};c&34&&(h.$$scope={dirty:c,ctx:t}),!r&&c&1&&(r=!0,h.running=t[0],ot(()=>r=!1)),u.$set(h)},i:function(t){g||(E(e.$$.fragment,t),E(f.$$.fragment,t),E(u.$$.fragment,t),g=!0)},o:function(t){j(e.$$.fragment,t),j(f.$$.fragment,t),j(u.$$.fragment,t),g=!1},d:function(t){t&&(l(a),l(i),l(o),l(s),l(p)),G(e),G(f),G(u,t)}};return _("SvelteRegisterBlock",{block:O,id:P.name,type:"component",source:"",ctx:n}),O}function ct(n,e,a){let{$$slots:i={},$$scope:$}=e;Z("Page",i,[]);let o="",s=!1;const m=H(),f=r=>{m.mutation(F,{guide:r}).toPromise().then(g=>{g.error?(console.error(g.error.message),a(1,o="Error creating guide: "+g.error.message),a(0,s=!0)):I(q+"/guide/"+g.data.createGuide.id)})},p=[];Object.keys(e).forEach(r=>{!~p.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&it.warn(`<Page> was created with unknown prop '${r}'`)});function u(r){s=r,a(0,s)}return n.$capture_state=()=>({getContextClient:H,NewGuideDocument:F,Toast:A,goto:I,GuideForm:J,base:q,MetaDescriptors:K,errorMessage:o,errorToast:s,client:m,onSubmit:f}),n.$inject_state=r=>{"errorMessage"in r&&a(1,o=r.errorMessage),"errorToast"in r&&a(0,s=r.errorToast)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&(s||a(1,o=""))},[s,o,f,u]}class gt extends W{constructor(e){super(e),X(this,e,ct,P,Y,{}),_("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:P.name})}}export{gt as component};
//# sourceMappingURL=22.ef4182c7.js.map
