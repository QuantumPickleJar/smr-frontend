import{S as jt,i as Ht,d as U,s as At,v as Ct,F as St,G as bt,H as it,P as lt,y as Lt,I as Rt,J as ct,b as I,e as $,K as O,f as yt,L as qt,M as ft,j as f,k as N,g as E,h as V,N as j,O as A,m as S,Q as ut,n as q,R as r,r as G,t as J,q as Dt,T as ht,u as _t,x as zt,U as Mt,V as Tt,p as kt,W as Ft,X,Y as Gt}from"../chunks/vendor.7f7881cb.js";import{D as wt,G as xt}from"../chunks/graphql.fef59309.js";import{M as Pt}from"../chunks/MetaDescriptors.3fc0d18e.js";import{p as st}from"../chunks/formatting.6f84ef8f.js";const b="src/routes/admin/sml-versions/+page.svelte";function Bt(n,t,e){const i=n.slice();return i[15]=t[e],i}function nt(n){let t,e,i,a;function m(c){n[7](c)}let h={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};n[4]!==void 0&&(h.settings=n[4]),e=new lt({props:h,$$inline:!0}),Lt.push(()=>Rt(e,"settings",m)),e.$on("page",n[8]),e.$on("amount",n[9]);const v={c:function(){t=$("div"),ct(e.$$.fragment),this.h()},l:function(d){t=E(d,"DIV",{});var u=V(t);ft(e.$$.fragment,u),u.forEach(f),this.h()},h:function(){S(t,b,45,4,1340)},m:function(d,u){q(d,t,u),ut(e,t,null),a=!0},p:function(d,u){const p={};!i&&u&16&&(i=!0,p.settings=d[4],Mt(()=>i=!1)),e.$set(p)},i:function(d){a||(G(e.$$.fragment,d),a=!0)},o:function(d){J(e.$$.fragment,d),a=!1},d:function(d){d&&f(t),ht(e)}};return U("SvelteRegisterBlock",{block:v,id:nt.name,type:"if",source:"(45:2) {#if totalVersions}",ctx:n}),v}function It(n){let t,e,i,a,m,h,v,c,d,u,p,l,k,R,w,g,C,x,o,y,M,B=n[3].data.getSMLVersions.sml_versions;Tt(B);let s=[];for(let H=0;H<B.length;H+=1)s[H]=ot(Bt(n,B,H));const z={c:function(){t=$("table"),e=$("thead"),i=$("tr"),a=$("th"),m=O("Version"),h=I(),v=$("th"),c=O("Stability"),d=I(),u=$("th"),p=O("Satisfactory Version"),l=I(),k=$("th"),R=O("Bootstrap Version"),w=I(),g=$("th"),C=O("Release Date"),x=I(),o=$("th"),y=I(),M=$("tbody");for(let P=0;P<s.length;P+=1)s[P].c();this.h()},l:function(P){t=E(P,"TABLE",{class:!0});var _=V(t);e=E(_,"THEAD",{});var T=V(e);i=E(T,"TR",{});var L=V(i);a=E(L,"TH",{});var K=V(a);m=j(K,"Version"),K.forEach(f),h=N(L),v=E(L,"TH",{});var W=V(v);c=j(W,"Stability"),W.forEach(f),d=N(L),u=E(L,"TH",{});var Q=V(u);p=j(Q,"Satisfactory Version"),Q.forEach(f),l=N(L),k=E(L,"TH",{});var tt=V(k);R=j(tt,"Bootstrap Version"),tt.forEach(f),w=N(L),g=E(L,"TH",{});var Z=V(g);C=j(Z,"Release Date"),Z.forEach(f),x=N(L),o=E(L,"TH",{});var Y=V(o);Y.forEach(f),L.forEach(f),T.forEach(f),y=N(_),M=E(_,"TBODY",{});var F=V(M);for(let D=0;D<s.length;D+=1)s[D].l(F);F.forEach(f),_.forEach(f),this.h()},h:function(){S(a,b,66,10,1937),S(v,b,67,10,1964),S(u,b,68,10,1993),S(k,b,69,10,2033),S(g,b,70,10,2070),S(o,b,71,10,2102),S(i,b,65,8,1922),S(e,b,64,6,1906),S(M,b,74,6,2163),A(t,"class","max-w-full table table-hover"),S(t,b,63,4,1855)},m:function(P,_){q(P,t,_),r(t,e),r(e,i),r(i,a),r(a,m),r(i,h),r(i,v),r(v,c),r(i,d),r(i,u),r(u,p),r(i,l),r(i,k),r(k,R),r(i,w),r(i,g),r(g,C),r(i,x),r(i,o),r(t,y),r(t,M);for(let T=0;T<s.length;T+=1)s[T]&&s[T].m(M,null)},p:function(P,_){if(_&72){B=P[3].data.getSMLVersions.sml_versions,Tt(B);let T;for(T=0;T<B.length;T+=1){const L=Bt(P,B,T);s[T]?s[T].p(L,_):(s[T]=ot(L),s[T].c(),s[T].m(M,null))}for(;T<s.length;T+=1)s[T].d(1);s.length=B.length}},d:function(P){P&&f(t),Ft(s,P)}};return U("SvelteRegisterBlock",{block:z,id:It.name,type:"else",source:"(63:2) {:else}",ctx:n}),z}function Nt(n){let t,e,i=n[3].error.message+"",a;const m={c:function(){t=$("section"),e=O("Oh no... "),a=O(i),this.h()},l:function(v){t=E(v,"SECTION",{class:!0});var c=V(t);e=j(c,"Oh no... "),a=j(c,i),c.forEach(f),this.h()},h:function(){A(t,"class","p-4"),S(t,b,61,4,1775)},m:function(v,c){q(v,t,c),r(t,e),r(t,a)},p:function(v,c){c&8&&i!==(i=v[3].error.message+"")&&X(a,i)},d:function(v){v&&f(t)}};return U("SvelteRegisterBlock",{block:m,id:Nt.name,type:"if",source:"(61:28) ",ctx:n}),m}function Ot(n){let t,e;const i={c:function(){t=$("section"),e=O("Loading..."),this.h()},l:function(m){t=E(m,"SECTION",{class:!0});var h=V(t);e=j(h,"Loading..."),h.forEach(f),this.h()},h:function(){A(t,"class","p-4"),S(t,b,59,4,1700)},m:function(m,h){q(m,t,h),r(t,e)},p:_t,d:function(m){m&&f(t)}};return U("SvelteRegisterBlock",{block:i,id:Ot.name,type:"if",source:"(59:2) {#if $versions.fetching}",ctx:n}),i}function ot(n){let t,e,i=n[15].version+"",a,m,h,v=n[15].stability+"",c,d,u,p=n[15].satisfactory_version+"",l,k,R,w=n[15].bootstrap_version+"",g,C,x,o=st(n[15].created_at)+"",y,M,B,s,z,H,P,_,T,L,K,W,Q;function tt(){return n[10](n[15])}const Z={c:function(){t=$("tr"),e=$("td"),a=O(i),m=I(),h=$("td"),c=O(v),d=I(),u=$("td"),l=O(p),k=I(),R=$("td"),g=O(w),C=I(),x=$("td"),y=O(o),M=I(),B=$("td"),s=$("div"),z=$("button"),H=O("Delete"),P=I(),_=$("a"),T=O("Edit"),K=I(),this.h()},l:function(F){t=E(F,"TR",{});var D=V(t);e=E(D,"TD",{});var mt=V(e);a=j(mt,i),mt.forEach(f),m=N(D),h=E(D,"TD",{});var dt=V(h);c=j(dt,v),dt.forEach(f),d=N(D),u=E(D,"TD",{});var vt=V(u);l=j(vt,p),vt.forEach(f),k=N(D),R=E(D,"TD",{});var gt=V(R);g=j(gt,w),gt.forEach(f),C=N(D),x=E(D,"TD",{});var pt=V(x);y=j(pt,o),pt.forEach(f),M=N(D),B=E(D,"TD",{});var $t=V(B);s=E($t,"DIV",{class:!0});var et=V(s);z=E(et,"BUTTON",{class:!0});var Et=V(z);H=j(Et,"Delete"),Et.forEach(f),P=N(et),_=E(et,"A",{class:!0,href:!0});var Vt=V(_);T=j(Vt,"Edit"),Vt.forEach(f),et.forEach(f),$t.forEach(f),K=N(D),D.forEach(f),this.h()},h:function(){S(e,b,77,12,2268),S(h,b,78,12,2307),S(u,b,79,12,2348),S(R,b,80,12,2400),S(x,b,81,12,2449),A(z,"class","btn btn-sm variant-ghost-primary"),S(z,b,84,16,2577),A(_,"class","btn btn-sm variant-ghost-primary"),A(_,"href",L=it+"/admin/sml-versions/"+n[15].id+"/edit"),S(_,b,86,16,2720),A(s,"class","grid grid-flow-col gap-4"),S(s,b,83,14,2522),S(B,b,82,12,2503),S(t,b,76,10,2251)},m:function(F,D){q(F,t,D),r(t,e),r(e,a),r(t,m),r(t,h),r(h,c),r(t,d),r(t,u),r(u,l),r(t,k),r(t,R),r(R,g),r(t,C),r(t,x),r(x,y),r(t,M),r(t,B),r(B,s),r(s,z),r(z,H),r(s,P),r(s,_),r(_,T),r(t,K),W||(Q=Gt(z,"click",tt,!1,!1,!1,!1),W=!0)},p:function(F,D){n=F,D&8&&i!==(i=n[15].version+"")&&X(a,i),D&8&&v!==(v=n[15].stability+"")&&X(c,v),D&8&&p!==(p=n[15].satisfactory_version+"")&&X(l,p),D&8&&w!==(w=n[15].bootstrap_version+"")&&X(g,w),D&8&&o!==(o=st(n[15].created_at)+"")&&X(y,o),D&8&&L!==(L=it+"/admin/sml-versions/"+n[15].id+"/edit")&&A(_,"href",L)},d:function(F){F&&f(t),W=!1,Q()}};return U("SvelteRegisterBlock",{block:Z,id:ot.name,type:"each",source:"(76:8) {#each $versions.data.getSMLVersions.sml_versions as version}",ctx:n}),Z}function rt(n){let t,e,i,a,m;function h(d){n[11](d)}let v={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};n[4]!==void 0&&(v.settings=n[4]),i=new lt({props:v,$$inline:!0}),Lt.push(()=>Rt(i,"settings",h)),i.$on("page",n[12]),i.$on("amount",n[13]);const c={c:function(){t=$("div"),e=$("div"),ct(i.$$.fragment),this.h()},l:function(u){t=E(u,"DIV",{class:!0});var p=V(t);e=E(p,"DIV",{});var l=V(e);ft(i.$$.fragment,l),l.forEach(f),p.forEach(f),this.h()},h:function(){S(e,b,99,4,3037),A(t,"class","mt-5 ml-auto flex justify-end"),S(t,b,98,2,2989)},m:function(u,p){q(u,t,p),r(t,e),ut(i,e,null),m=!0},p:function(u,p){const l={};!a&&p&16&&(a=!0,l.settings=u[4],Mt(()=>a=!1)),i.$set(l)},i:function(u){m||(G(i.$$.fragment,u),m=!0)},o:function(u){J(i.$$.fragment,u),m=!1},d:function(u){u&&f(t),ht(i)}};return U("SvelteRegisterBlock",{block:c,id:rt.name,type:"if",source:"(98:0) {#if totalVersions}",ctx:n}),c}function at(n){let t,e,i,a,m,h,v,c,d,u,p;t=new Pt({props:{description:"SML Versions",title:"Admin: SML Versions"},$$inline:!0});let l=n[2]&&nt(n);function k(x,o){return x[3].fetching?Ot:x[3].error?Nt:It}let R=k(n),w=R(n),g=n[2]&&rt(n);const C={c:function(){ct(t.$$.fragment),e=I(),i=$("div"),a=$("a"),m=O("New SML Version"),h=I(),l&&l.c(),v=I(),c=$("div"),w.c(),d=I(),g&&g.c(),u=yt(),this.h()},l:function(o){const y=qt("svelte-1iwjzfb",document.head);ft(t.$$.fragment,y),y.forEach(f),e=N(o),i=E(o,"DIV",{class:!0});var M=V(i);a=E(M,"A",{class:!0,href:!0});var B=V(a);m=j(B,"New SML Version"),B.forEach(f),h=N(M),l&&l.l(M),M.forEach(f),v=N(o),c=E(o,"DIV",{class:!0});var s=V(c);w.l(s),s.forEach(f),d=N(o),g&&g.l(o),u=yt(),this.h()},h:function(){A(a,"class","btn variant-ghost-primary"),A(a,"href",it+"/admin/sml-versions/new"),S(a,b,42,2,1219),A(i,"class","mb-5 ml-auto flex justify-between"),S(i,b,41,0,1169),A(c,"class","card"),S(c,b,57,0,1650)},m:function(o,y){ut(t,document.head,null),q(o,e,y),q(o,i,y),r(i,a),r(a,m),r(i,h),l&&l.m(i,null),q(o,v,y),q(o,c,y),w.m(c,null),q(o,d,y),g&&g.m(o,y),q(o,u,y),p=!0},p:function(o,[y]){o[2]?l?(l.p(o,y),y&4&&G(l,1)):(l=nt(o),l.c(),G(l,1),l.m(i,null)):l&&(kt(),J(l,1,1,()=>{l=null}),Dt()),R===(R=k(o))&&w?w.p(o,y):(w.d(1),w=R(o),w&&(w.c(),w.m(c,null))),o[2]?g?(g.p(o,y),y&4&&G(g,1)):(g=rt(o),g.c(),G(g,1),g.m(u.parentNode,u)):g&&(kt(),J(g,1,1,()=>{g=null}),Dt())},i:function(o){p||(G(t.$$.fragment,o),G(l),G(g),p=!0)},o:function(o){J(t.$$.fragment,o),J(l),J(g),p=!1},d:function(o){ht(t),o&&f(e),o&&f(i),l&&l.d(),o&&f(v),o&&f(c),w.d(),o&&f(d),g&&g.d(o),o&&f(u)}};return U("SvelteRegisterBlock",{block:C,id:at.name,type:"component",source:"",ctx:n}),C}function Ut(n,t,e){let i,a,m,h,v=_t,c=()=>(v(),v=zt(i,s=>e(3,h=s)),i);n.$$.on_destroy.push(()=>v());let{$$slots:d={},$$scope:u}=t;Ct("Page",d,[]);const p=St();let l=20,k=0;const R=s=>{p.mutation(wt,{smlVersionID:s}).toPromise().then(()=>{i.pause(),i.resume()})},w=[];Object.keys(t).forEach(s=>{!~w.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<Page> was created with unknown prop '${s}'`)});function g(s){m=s,e(4,m),e(1,k),e(0,l),e(2,a),e(3,h)}const C=s=>e(1,k=s.detail),x=s=>e(0,l=s.detail),o=s=>R(s.id);function y(s){m=s,e(4,m),e(1,k),e(0,l),e(2,a),e(3,h)}const M=s=>e(1,k=s.detail),B=s=>e(0,l=s.detail);return n.$capture_state=()=>({DeleteSmlVersionDocument:wt,GetSmlVersionsAdminDocument:xt,getContextClient:St,queryStore:bt,base:it,MetaDescriptors:Pt,prettyDate:st,Paginator:lt,client:p,perPage:l,page:k,deleteVersion:R,totalVersions:a,paginationSettings:m,versions:i,$versions:h}),n.$inject_state=s=>{"perPage"in s&&e(0,l=s.perPage),"page"in s&&e(1,k=s.page),"totalVersions"in s&&e(2,a=s.totalVersions),"paginationSettings"in s&&e(4,m=s.paginationSettings),"versions"in s&&c(e(5,i=s.versions))},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{n.$$.dirty&3&&c(e(5,i=bt({query:xt,client:p,variables:{filter:{offset:k*l,limit:l}}}))),n.$$.dirty&8&&e(2,a=h?.data?.getSMLVersions?.count),n.$$.dirty&7&&e(4,m={page:k,limit:l,size:a,amounts:[5,10,20,50,100]})},[l,k,a,h,m,i,R,g,C,x,o,y,M,B]}class Xt extends jt{constructor(t){super(t),Ht(this,t,Ut,at,At,{}),U("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:at.name})}}export{Xt as component};
//# sourceMappingURL=4.9dbb50fa.js.map
