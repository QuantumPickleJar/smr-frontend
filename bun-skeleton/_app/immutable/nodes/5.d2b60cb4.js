import{S as lt,i as ut,d as M,s as ft,y as mt,I as dt,v as $t,F as J,G as K,a0 as pt,a1 as gt,_ as Q,H as U,$ as ht,J as B,b as L,e as y,K as vt,L as D,j as $,k as R,g as w,M as tt,h as _,N as W,m as k,O as q,n as S,Q as C,t as T,q as St,r as j,T as Vt,R as A,p as bt,W as N,X as F,Y as et,u as I}from"../chunks/vendor.b1090c37.js";import{l as X,m as Y}from"../chunks/graphql.fef59309.js";import{T as nt}from"../chunks/Toast.c66ddab3.js";import{S as st}from"../chunks/SMLVersionForm.54ea1683.js";import{M as ot}from"../chunks/MetaDescriptors.cb11bfd0.js";const xt=async({params:e})=>({...e}),Tt=Object.freeze(Object.defineProperty({__proto__:null,load:xt},Symbol.toStringTag,{value:"Module"})),{console:Z}=ht,E="src/routes/admin/sml-versions/[smlVersionId]/edit/+page.svelte";function it(e){let t,s;t=new st({props:{onSubmit:e[5],initialValues:e[3],editing:!0,submitText:"Save"},$$inline:!0});const r={c:function(){B(t.$$.fragment)},l:function(n){D(t.$$.fragment,n)},m:function(n,a){q(t,n,a),s=!0},p:function(n,a){const c={};a&8&&(c.initialValues=n[3]),t.$set(c)},i:function(n){s||(j(t.$$.fragment,n),s=!0)},o:function(n){T(t.$$.fragment,n),s=!1},d:function(n){A(t,n)}};return M("SvelteRegisterBlock",{block:r,id:it.name,type:"else",source:"(60:4) {:else}",ctx:e}),r}function rt(e){let t,s,r=e[1].error.message+"",o;const n={c:function(){t=y("p"),s=N("Oh no... "),o=N(r),this.h()},l:function(c){t=w(c,"P",{});var u=_(t);s=F(u,"Oh no... "),o=F(u,r),u.forEach($),this.h()},h:function(){k(t,E,68,6,1753)},m:function(c,u){S(c,t,u),C(t,s),C(t,o)},p:function(c,u){u&2&&r!==(r=c[1].error.message+"")&&et(o,r)},i:I,o:I,d:function(c){c&&$(t)}};return M("SvelteRegisterBlock",{block:n,id:rt.name,type:"if",source:"(58:32) ",ctx:e}),n}function at(e){let t,s="Loading...";const r={c:function(){t=y("p"),t.textContent=s,this.h()},l:function(n){t=w(n,"P",{"data-svelte-h":!0}),tt(t)!=="svelte-qdsr2u"&&(t.textContent=s),this.h()},h:function(){k(t,E,66,6,1696)},m:function(n,a){S(n,t,a)},p:I,i:I,o:I,d:function(n){n&&$(t)}};return M("SvelteRegisterBlock",{block:r,id:at.name,type:"if",source:"(56:4) {#if $smlVersion.fetching}",ctx:e}),r}function ct(e){let t,s;const r={c:function(){t=y("span"),s=N(e[2]),this.h()},l:function(n){t=w(n,"SPAN",{});var a=_(t);s=F(a,e[2]),a.forEach($),this.h()},h:function(){k(t,E,76,2,1954)},m:function(n,a){S(n,t,a),C(t,s)},p:function(n,a){a&4&&et(s,n[2])},d:function(n){n&&$(t)}};return M("SvelteRegisterBlock",{block:r,id:ct.name,type:"slot",source:"(66:0) <Toast bind:running={errorToast}>",ctx:e}),r}function H(e){let t,s,r,o="Edit SMLVersion",n,a,c,u,m,g,f,v,V;t=new ot({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"},$$inline:!0});const O=[at,rt,it],h=[];function l(p,i){return p[1].fetching?0:p[1].error?1:2}u=l(e),m=h[u]=O[u](e);function P(p){e[7](p)}let z={$$slots:{default:[ct]},$$scope:{ctx:e}};e[0]!==void 0&&(z.running=e[0]),f=new nt({props:z,$$inline:!0}),mt.push(()=>dt(f,"running",P));const G={c:function(){B(t.$$.fragment),s=L(),r=y("h1"),r.textContent=o,n=L(),a=y("div"),c=y("section"),m.c(),g=L(),B(f.$$.fragment),this.h()},l:function(i){const d=vt("svelte-7e9nlv",document.head);D(t.$$.fragment,d),d.forEach($),s=R(i),r=w(i,"H1",{class:!0,"data-svelte-h":!0}),tt(r)!=="svelte-1tcpdgj"&&(r.textContent=o),n=R(i),a=w(i,"DIV",{class:!0});var b=_(a);c=w(b,"SECTION",{});var x=_(c);m.l(x),x.forEach($),b.forEach($),g=R(i),D(f.$$.fragment,i),this.h()},h:function(){W(r,"class","text-4xl my-4 font-bold"),k(r,E,61,0,1566),k(c,E,64,2,1649),W(a,"class","card p-4"),k(a,E,63,0,1624)},m:function(i,d){q(t,document.head,null),S(i,s,d),S(i,r,d),S(i,n,d),S(i,a,d),C(a,c),h[u].m(c,null),S(i,g,d),q(f,i,d),V=!0},p:function(i,[d]){let b=u;u=l(i),u===b?h[u].p(i,d):(bt(),T(h[b],1,1,()=>{h[b]=null}),St(),m=h[u],m?m.p(i,d):(m=h[u]=O[u](i),m.c()),j(m,1),m.m(c,null));const x={};d&1028&&(x.$$scope={dirty:d,ctx:i}),!v&&d&1&&(v=!0,x.running=i[0],Vt(()=>v=!1)),f.$set(x)},i:function(i){V||(j(t.$$.fragment,i),j(m),j(f.$$.fragment,i),V=!0)},o:function(i){T(t.$$.fragment,i),T(m),T(f.$$.fragment,i),V=!1},d:function(i){i&&($(s),$(r),$(n),$(a),$(g)),A(t),h[u].d(),A(f,i)}};return M("SvelteRegisterBlock",{block:G,id:H.name,type:"component",source:"",ctx:e}),G}function yt(e,t,s){let r,o,{$$slots:n={},$$scope:a}=t;$t("Page",n,[]);let{data:c}=t;const{smlVersionId:u}=c,m=J();let g="",f=!1;const v=K({query:X,client:m,variables:{smlVersionID:u}});pt(v,"smlVersion"),gt(e,v,l=>s(1,o=l));const V=l=>{m.mutation(Y,{smlVersionID:u,smlVersion:l}).toPromise().then(P=>{P.error?(console.error(P.error.message),s(2,g="Error editing SMLVersion: "+P.error.message),s(0,f=!0)):Q(U+"/admin/sml-versions")})};e.$$.on_mount.push(function(){c===void 0&&!("data"in t||e.$$.bound[e.$$.props.data])&&Z.warn("<Page> was created without expected prop 'data'")});const O=["data"];Object.keys(t).forEach(l=>{!~O.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&Z.warn(`<Page> was created with unknown prop '${l}'`)});function h(l){f=l,s(0,f)}return e.$$set=l=>{"data"in l&&s(6,c=l.data)},e.$capture_state=()=>({getContextClient:J,queryStore:K,GetSmlVersionAdminDocument:X,UpdateSmlVersionDocument:Y,Toast:nt,goto:Q,SMLVersionForm:st,base:U,MetaDescriptors:ot,data:c,smlVersionId:u,client:m,errorMessage:g,errorToast:f,smlVersion:v,onSubmit:V,initialValues:r,$smlVersion:o}),e.$inject_state=l=>{"data"in l&&s(6,c=l.data),"errorMessage"in l&&s(2,g=l.errorMessage),"errorToast"in l&&s(0,f=l.errorToast),"initialValues"in l&&s(3,r=l.initialValues)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&1&&(f||s(2,g="")),e.$$.dirty&2&&s(3,r=o.data?{...o.data.getSMLVersion,logo:void 0}:void 0)},[f,o,g,r,v,V,c,h]}class jt extends lt{constructor(t){super(t),ut(this,t,yt,H,ft,{data:6}),M("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:H.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{jt as component,Tt as universal};
//# sourceMappingURL=5.d2b60cb4.js.map
