import{S as Nt,i as Ut,d as L,s as Ot,v as At,F as gt,G as vt,H as W,P as st,y as Bt,I as wt,J as it,b as I,e as y,f as $t,L as _t,M as nt,j as m,k as V,g as D,h as M,O as j,m as T,Q as at,n as O,r as _,t as q,q as Et,T as rt,u as St,x as Ht,R as h,U as Rt,V as bt,p as yt,K as N,N as U,W as Lt,X as Q,Y as Dt,a5 as Ct}from"../chunks/vendor.c6258f1b.js";import{A as Mt,c as Tt,d as kt}from"../chunks/graphql.fef59309.js";import{M as Pt}from"../chunks/MetaDescriptors.c880e906.js";import{p as X}from"../chunks/formatting.6f84ef8f.js";const k="src/routes/admin/unapproved-mods/+page.svelte";function xt(i,t,o){const e=i.slice();return e[17]=t[o],e}function Z(i){let t,o,e,a,f;function d(v){i[8](v)}let g={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};i[4]!==void 0&&(g.settings=i[4]),e=new st({props:g,$$inline:!0}),Bt.push(()=>wt(e,"settings",d)),e.$on("page",i[9]),e.$on("amount",i[10]);const r={c:function(){t=y("div"),o=y("div"),it(e.$$.fragment),this.h()},l:function(c){t=D(c,"DIV",{class:!0});var u=M(t);o=D(u,"DIV",{});var n=M(o);nt(e.$$.fragment,n),n.forEach(m),u.forEach(m),this.h()},h:function(){T(o,k,52,4,1389),j(t,"class","mb-5 ml-auto flex justify-end"),T(t,k,51,2,1341)},m:function(c,u){O(c,t,u),h(t,o),at(e,o,null),f=!0},p:function(c,u){const n={};!a&&u&16&&(a=!0,n.settings=c[4],Rt(()=>a=!1)),e.$set(n)},i:function(c){f||(_(e.$$.fragment,c),f=!0)},o:function(c){q(e.$$.fragment,c),f=!1},d:function(c){c&&m(t),rt(e)}};return L("SvelteRegisterBlock",{block:r,id:Z.name,type:"if",source:"(51:0) {#if totalMods}",ctx:i}),r}function It(i){let t,o,e,a,f,d,g,r,v,c,u,n,x,b,s,p=i[3].data.getUnapprovedMods.mods;bt(p);let E=[];for(let B=0;B<p.length;B+=1)E[B]=tt(xt(i,p,B));const H={c:function(){t=y("table"),o=y("thead"),e=y("tr"),a=y("th"),f=N("Mod"),d=I(),g=y("th"),r=N("Description"),v=I(),c=y("th"),u=N("Release Date"),n=I(),x=y("th"),b=I(),s=y("tbody");for(let w=0;w<E.length;w+=1)E[w].c();this.h()},l:function(w){t=D(w,"TABLE",{class:!0});var P=M(t);o=D(P,"THEAD",{});var $=M(o);e=D($,"TR",{});var S=M(e);a=D(S,"TH",{});var A=M(a);f=U(A,"Mod"),A.forEach(m),d=V(S),g=D(S,"TH",{});var l=M(g);r=U(l,"Description"),l.forEach(m),v=V(S),c=D(S,"TH",{});var F=M(c);u=U(F,"Release Date"),F.forEach(m),n=V(S),x=D(S,"TH",{});var K=M(x);K.forEach(m),S.forEach(m),$.forEach(m),b=V(P),s=D(P,"TBODY",{});var Y=M(s);for(let G=0;G<E.length;G+=1)E[G].l(Y);Y.forEach(m),P.forEach(m),this.h()},h:function(){T(a,k,73,10,1974),T(g,k,74,10,1997),T(c,k,75,10,2028),T(x,k,76,10,2060),T(e,k,72,8,1959),T(o,k,71,6,1943),T(s,k,79,6,2121),j(t,"class","max-w-full table table-hover"),T(t,k,70,4,1892)},m:function(w,P){O(w,t,P),h(t,o),h(o,e),h(e,a),h(a,f),h(e,d),h(e,g),h(g,r),h(e,v),h(e,c),h(c,u),h(e,n),h(e,x),h(t,b),h(t,s);for(let $=0;$<E.length;$+=1)E[$]&&E[$].m(s,null)},p:function(w,P){if(P&200){p=w[3].data.getUnapprovedMods.mods,bt(p);let $;for($=0;$<p.length;$+=1){const S=xt(w,p,$);E[$]?E[$].p(S,P):(E[$]=tt(S),E[$].c(),E[$].m(s,null))}for(;$<E.length;$+=1)E[$].d(1);E.length=p.length}},d:function(w){w&&m(t),Lt(E,w)}};return L("SvelteRegisterBlock",{block:H,id:It.name,type:"else",source:"(70:2) {:else}",ctx:i}),H}function Vt(i){let t,o,e=i[3].error.message+"",a;const f={c:function(){t=y("section"),o=N("Oh no... "),a=N(e),this.h()},l:function(g){t=D(g,"SECTION",{class:!0});var r=M(t);o=U(r,"Oh no... "),a=U(r,e),r.forEach(m),this.h()},h:function(){j(t,"class","p-4"),T(t,k,68,4,1816)},m:function(g,r){O(g,t,r),h(t,o),h(t,a)},p:function(g,r){r&8&&e!==(e=g[3].error.message+"")&&Q(a,e)},d:function(g){g&&m(t)}};return L("SvelteRegisterBlock",{block:f,id:Vt.name,type:"if",source:"(68:24) ",ctx:i}),f}function jt(i){let t,o;const e={c:function(){t=y("section"),o=N("Loading..."),this.h()},l:function(f){t=D(f,"SECTION",{class:!0});var d=M(t);o=U(d,"Loading..."),d.forEach(m),this.h()},h:function(){j(t,"class","p-4"),T(t,k,66,4,1745)},m:function(f,d){O(f,t,d),h(t,o)},p:St,d:function(f){f&&m(t)}};return L("SvelteRegisterBlock",{block:e,id:jt.name,type:"if",source:"(66:2) {#if $mods.fetching}",ctx:i}),e}function tt(i){let t,o,e=i[17].name+"",a,f,d,g=i[17].short_description+"",r,v,c,u=X(i[17].created_at)+"",n,x,b,s,p,E,H,B,w,P,$,S,A,l,F,K;function Y(){return i[11](i[17])}function G(){return i[12](i[17])}const lt={c:function(){t=y("tr"),o=y("td"),a=N(e),f=I(),d=y("td"),r=N(g),v=I(),c=y("td"),n=N(u),x=I(),b=y("td"),s=y("div"),p=y("button"),E=N("Approve"),H=I(),B=y("button"),w=N("Deny"),P=I(),$=y("a"),S=N("View"),l=I(),this.h()},l:function(C){t=D(C,"TR",{});var R=M(t);o=D(R,"TD",{});var ct=M(o);a=U(ct,e),ct.forEach(m),f=V(R),d=D(R,"TD",{});var ft=M(d);r=U(ft,g),ft.forEach(m),v=V(R),c=D(R,"TD",{});var ut=M(c);n=U(ut,u),ut.forEach(m),x=V(R),b=D(R,"TD",{});var dt=M(b);s=D(dt,"DIV",{class:!0});var z=M(s);p=D(z,"BUTTON",{class:!0});var ht=M(p);E=U(ht,"Approve"),ht.forEach(m),H=V(z),B=D(z,"BUTTON",{class:!0});var pt=M(B);w=U(pt,"Deny"),pt.forEach(m),P=V(z),$=D(z,"A",{class:!0,href:!0});var mt=M($);S=U(mt,"View"),mt.forEach(m),z.forEach(m),dt.forEach(m),l=V(R),R.forEach(m),this.h()},h:function(){T(o,k,82,12,2213),T(d,k,83,12,2245),T(c,k,84,12,2290),j(p,"class","btn btn-sm variant-ghost-primary"),T(p,k,87,16,2414),j(B,"class","btn btn-sm variant-ghost-primary"),T(B,k,88,16,2532),j($,"class","btn btn-sm variant-ghost-primary"),j($,"href",A=W+"/mod/"+i[17].id),T($,k,89,16,2644),j(s,"class","grid grid-flow-col gap-4"),T(s,k,86,14,2359),T(b,k,85,12,2340),T(t,k,81,10,2196)},m:function(C,R){O(C,t,R),h(t,o),h(o,a),h(t,f),h(t,d),h(d,r),h(t,v),h(t,c),h(c,n),h(t,x),h(t,b),h(b,s),h(s,p),h(p,E),h(s,H),h(s,B),h(B,w),h(s,P),h(s,$),h($,S),h(t,l),F||(K=[Dt(p,"click",Y,!1,!1,!1,!1),Dt(B,"click",G,!1,!1,!1,!1)],F=!0)},p:function(C,R){i=C,R&8&&e!==(e=i[17].name+"")&&Q(a,e),R&8&&g!==(g=i[17].short_description+"")&&Q(r,g),R&8&&u!==(u=X(i[17].created_at)+"")&&Q(n,u),R&8&&A!==(A=W+"/mod/"+i[17].id)&&j($,"href",A)},d:function(C){C&&m(t),F=!1,Ct(K)}};return L("SvelteRegisterBlock",{block:lt,id:tt.name,type:"each",source:"(81:8) {#each $mods.data.getUnapprovedMods.mods as mod}",ctx:i}),lt}function et(i){let t,o,e,a,f;function d(v){i[13](v)}let g={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};i[4]!==void 0&&(g.settings=i[4]),e=new st({props:g,$$inline:!0}),Bt.push(()=>wt(e,"settings",d)),e.$on("page",i[14]),e.$on("amount",i[15]);const r={c:function(){t=y("div"),o=y("div"),it(e.$$.fragment),this.h()},l:function(c){t=D(c,"DIV",{class:!0});var u=M(t);o=D(u,"DIV",{});var n=M(o);nt(e.$$.fragment,n),n.forEach(m),u.forEach(m),this.h()},h:function(){T(o,k,101,4,2909),j(t,"class","mt-5 ml-auto flex justify-end"),T(t,k,100,2,2861)},m:function(c,u){O(c,t,u),h(t,o),at(e,o,null),f=!0},p:function(c,u){const n={};!a&&u&16&&(a=!0,n.settings=c[4],Rt(()=>a=!1)),e.$set(n)},i:function(c){f||(_(e.$$.fragment,c),f=!0)},o:function(c){q(e.$$.fragment,c),f=!1},d:function(c){c&&m(t),rt(e)}};return L("SvelteRegisterBlock",{block:r,id:et.name,type:"if",source:"(100:0) {#if totalMods}",ctx:i}),r}function ot(i){let t,o,e,a,f,d,g;t=new Pt({props:{description:"Unapproved mods",title:"Admin: Unapproved Mods"},$$inline:!0});let r=i[2]&&Z(i);function v(b,s){return b[3].fetching?jt:b[3].error?Vt:It}let c=v(i),u=c(i),n=i[2]&&et(i);const x={c:function(){it(t.$$.fragment),o=I(),r&&r.c(),e=I(),a=y("div"),u.c(),f=I(),n&&n.c(),d=$t(),this.h()},l:function(s){const p=_t("svelte-g9j975",document.head);nt(t.$$.fragment,p),p.forEach(m),o=V(s),r&&r.l(s),e=V(s),a=D(s,"DIV",{class:!0});var E=M(a);u.l(E),E.forEach(m),f=V(s),n&&n.l(s),d=$t(),this.h()},h:function(){j(a,"class","card"),T(a,k,64,0,1699)},m:function(s,p){at(t,document.head,null),O(s,o,p),r&&r.m(s,p),O(s,e,p),O(s,a,p),u.m(a,null),O(s,f,p),n&&n.m(s,p),O(s,d,p),g=!0},p:function(s,[p]){s[2]?r?(r.p(s,p),p&4&&_(r,1)):(r=Z(s),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(yt(),q(r,1,1,()=>{r=null}),Et()),c===(c=v(s))&&u?u.p(s,p):(u.d(1),u=c(s),u&&(u.c(),u.m(a,null))),s[2]?n?(n.p(s,p),p&4&&_(n,1)):(n=et(s),n.c(),_(n,1),n.m(d.parentNode,d)):n&&(yt(),q(n,1,1,()=>{n=null}),Et())},i:function(s){g||(_(t.$$.fragment,s),_(r),_(n),g=!0)},o:function(s){q(t.$$.fragment,s),q(r),q(n),g=!1},d:function(s){rt(t),s&&m(o),r&&r.d(s),s&&m(e),s&&m(a),u.d(),s&&m(f),n&&n.d(s),s&&m(d)}};return L("SvelteRegisterBlock",{block:x,id:ot.name,type:"component",source:"",ctx:i}),x}function qt(i,t,o){let e,a,f,d,g=St,r=()=>(g(),g=Ht(e,l=>o(3,d=l)),e);i.$$.on_destroy.push(()=>g());let{$$slots:v={},$$scope:c}=t;At("Page",v,[]);const u=gt();let n=20,x=0;const b=l=>{u.mutation(Mt,{modId:l}).toPromise().then(()=>{e.pause(),e.resume()})},s=l=>{u.mutation(Tt,{modId:l}).toPromise().then(()=>{e.pause(),e.resume()})},p=[];Object.keys(t).forEach(l=>{!~p.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Page> was created with unknown prop '${l}'`)});function E(l){f=l,o(4,f),o(1,x),o(0,n),o(2,a),o(3,d)}const H=l=>o(1,x=l.detail),B=l=>o(0,n=l.detail),w=l=>b(l.id),P=l=>s(l.id);function $(l){f=l,o(4,f),o(1,x),o(0,n),o(2,a),o(3,d)}const S=l=>o(1,x=l.detail),A=l=>o(0,n=l.detail);return i.$capture_state=()=>({ApproveModDocument:Mt,DenyModDocument:Tt,GetUnapprovedModsDocument:kt,getContextClient:gt,queryStore:vt,base:W,MetaDescriptors:Pt,prettyDate:X,Paginator:st,client:u,perPage:n,page:x,approveMod:b,denyMod:s,totalMods:a,paginationSettings:f,mods:e,$mods:d}),i.$inject_state=l=>{"perPage"in l&&o(0,n=l.perPage),"page"in l&&o(1,x=l.page),"totalMods"in l&&o(2,a=l.totalMods),"paginationSettings"in l&&o(4,f=l.paginationSettings),"mods"in l&&r(o(5,e=l.mods))},t&&"$$inject"in t&&i.$inject_state(t.$$inject),i.$$.update=()=>{i.$$.dirty&3&&r(o(5,e=vt({query:kt,client:u,variables:{filter:{offset:x*n,limit:n}}}))),i.$$.dirty&8&&o(2,a=d?.data?.getUnapprovedMods?.count),i.$$.dirty&7&&o(4,f={page:x,limit:n,size:a,amounts:[5,10,20,50,100]})},[n,x,a,d,f,e,b,s,E,H,B,w,P,$,S,A]}class Kt extends Nt{constructor(t){super(t),Ut(this,t,qt,ot,Ot,{}),L("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:ot.name})}}export{Kt as component};
//# sourceMappingURL=8.0080fdab.js.map
