import{S as Rt,i as Vt,s as Et,d as F,r as Ie,T as De,bq as ze,aQ as nt,v as Bt,aK as Ge,Y as Se,X as Le,Z as _e,a$ as be,x as y,a8 as le,a6 as P,L as R,y as w,z as k,ab as re,a9 as N,q as $,N as V,ac as I,C as S,l as T,ad as f,ae as ce,D as Pt,ai as qe,p as Y,m as Nt,t as se,n as Tt,O,br as jt,aj as ae,P as ee,aw as At,k as He,b0 as it}from"./vendor.d19985f0.js";import{o as Ft,d as Mt,e as Ot,Z as Qe,s as Ue,S as st,V as ye,T as ot,c as Ke,v as We,r as Ce,O as ve}from"./forms.1cf975a3.js";import{J as It}from"./jszip.c1676e26.js";import{v as Dt}from"./uplugin.fbfc4563.js";import{T as Je,V as Ze}from"./graphql.04d4ab78.js";import{t as Xe}from"./forms.16c2184b.js";import{m as xe}from"./markdown.f1fd2887.js";import{b as ke}from"./formatting.730f0615.js";Object.keys(Je).map(n=>Je[n]).filter(n=>typeof n=="string");const zt=async(n,e)=>{const t=await Dt(n);if(t.length!=0)return{message:`invalid ${e}.uplugin`,extended:t};const i=JSON.parse(n);let s=!1;for(const o of i.Plugins)if(o.Name==="SML"){s=!0;break}return s?i:{message:"mod must depend on SML"}};function Gt(n){const e=n.split("/");return e[e.length-1]}const Lt=async(n,e)=>new It().loadAsync(n).then(async i=>{const s=i.filter(o=>Gt(o)==e+".uplugin");if(s.length===0)return{message:"Mod does not contain any "+e+".uplugin files"};if(s.length===1&&s[0].name===e+".uplugin"){const o=await zt(await s[0].async("string"),e);return"message"in o?o:{uplugin:o,objects:Object.keys(i.files).filter(r=>r.endsWith(".so")||r.endsWith(".dll")||r.endsWith(".pak")),targets:["Windows"]}}return{message:"multi-target mods are not allowed"}}).catch(i=>({message:"invalid zip/smod file: "+i})),Ye=(n,e)=>Ft({file:Mt(Ot().superRefine(async(t,i)=>{if(!("name"in t&&"size"in t&&"type"in t)){i.addIssue({message:"Unknown file error",code:Qe.custom});return}const s=await Lt(t,n);if("message"in s){i.addIssue({message:s.message,code:Qe.custom});return}e.set(s)})),changelog:Ue(),stability:Ue()});const x="src/lib/components/versions/VersionForm.svelte";function et(n,e,t){const i=n.slice();return i[19]=e[t],i}function tt(n,e,t){const i=n.slice();return i[22]=e[t],i}function lt(n){let e;const t={c:function(){e=R("Alpha")},l:function(s){e=V(s,"Alpha")},m:function(s,o){T(s,e,o)},d:function(s){s&&$(e)}};return F("SvelteRegisterBlock",{block:t,id:lt.name,type:"slot",source:'(41:8) <Option value=\\"alpha\\">',ctx:n}),t}function rt(n){let e;const t={c:function(){e=R("Beta")},l:function(s){e=V(s,"Beta")},m:function(s,o){T(s,e,o)},d:function(s){s&&$(e)}};return F("SvelteRegisterBlock",{block:t,id:rt.name,type:"slot",source:'(42:8) <Option value=\\"beta\\">',ctx:n}),t}function ct(n){let e;const t={c:function(){e=R("Release")},l:function(s){e=V(s,"Release")},m:function(s,o){T(s,e,o)},d:function(s){s&&$(e)}};return F("SvelteRegisterBlock",{block:t,id:ct.name,type:"slot",source:'(43:8) <Option value=\\"release\\">',ctx:n}),t}function at(n){let e,t,i,s,o,r;e=new ve({props:{value:"alpha",$$slots:{default:[lt]},$$scope:{ctx:n}},$$inline:!0}),i=new ve({props:{value:"beta",$$slots:{default:[rt]},$$scope:{ctx:n}},$$inline:!0}),o=new ve({props:{value:"release",$$slots:{default:[ct]},$$scope:{ctx:n}},$$inline:!0});const a={c:function(){le(e.$$.fragment),t=P(),le(i.$$.fragment),s=P(),le(o.$$.fragment)},l:function(l){re(e.$$.fragment,l),t=N(l),re(i.$$.fragment,l),s=N(l),re(o.$$.fragment,l)},m:function(l,g){ce(e,l,g),T(l,t,g),ce(i,l,g),T(l,s,g),ce(o,l,g),r=!0},p:function(l,g){const u={};g&33554432&&(u.$$scope={dirty:g,ctx:l}),e.$set(u);const m={};g&33554432&&(m.$$scope={dirty:g,ctx:l}),i.$set(m);const p={};g&33554432&&(p.$$scope={dirty:g,ctx:l}),o.$set(p)},i:function(l){r||(Y(e.$$.fragment,l),Y(i.$$.fragment,l),Y(o.$$.fragment,l),r=!0)},o:function(l){se(e.$$.fragment,l),se(i.$$.fragment,l),se(o.$$.fragment,l),r=!1},d:function(l){ae(e,l),l&&$(t),ae(i,l),l&&$(s),ae(o,l)}};return F("SvelteRegisterBlock",{block:a,id:at.name,type:"slot",source:"(40:6) <Select bind:value={$data.stability} label={$t('stability')}>",ctx:n}),a}function ft(n){let e,t=(n[18]||"")+"",i;const s={c:function(){e=y("span"),i=R(t),this.h()},l:function(r){e=w(r,"SPAN",{class:!0});var a=k(e);i=V(a,t),a.forEach($),this.h()},h:function(){I(e,"class","validation-message"),S(e,x,45,8,1746)},m:function(r,a){T(r,e,a),f(e,i)},p:function(r,a){a&262144&&t!==(t=(r[18]||"")+"")&&O(i,t)},d:function(r){r&&$(e)}};return F("SvelteRegisterBlock",{block:s,id:ft.name,type:"slot",source:'(45:6) <ValidationMessage for=\\"stability\\" let:messages={message}>',ctx:n}),s}function Re(n){let e,t,i=n[6]("file")+"",s,o,r,a,d,l,g,u,m,p;l=new ye({props:{for:"file",$$slots:{default:[ut,({messages:B})=>({18:B}),({messages:B})=>B?262144:0]},$$scope:{ctx:n}},$$inline:!0});let c=n[3].file&&Ve(n),b=n[7]&&Ee(n);const Q={c:function(){e=y("div"),t=y("label"),s=R(i),o=R(":"),r=P(),a=y("input"),d=P(),le(l.$$.fragment),g=P(),c&&c.c(),u=P(),b&&b.c(),m=He(),this.h()},l:function(v){e=w(v,"DIV",{class:!0});var E=k(e);t=w(E,"LABEL",{for:!0});var D=k(t);s=V(D,i),o=V(D,":"),D.forEach($),r=N(E),a=w(E,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),d=N(E),re(l.$$.fragment,E),E.forEach($),g=N(v),c&&c.l(v),u=N(v),b&&b.l(v),m=He(),this.h()},h:function(){I(t,"for","file"),S(t,x,51,8,1913),I(a,"id","file"),I(a,"class","base-input"),I(a,"name","file"),I(a,"type","file"),I(a,"accept",".zip,.smod"),I(a,"placeholder","File"),S(a,x,52,8,1961),I(e,"class","grid grid-flow-row gap-2"),S(e,x,50,6,1866)},m:function(v,E){T(v,e,E),f(e,t),f(t,s),f(t,o),f(e,r),f(e,a),f(e,d),ce(l,e,null),T(v,g,E),c&&c.m(v,E),T(v,u,E),b&&b.m(v,E),T(v,m,E),p=!0},p:function(v,E){(!p||E&64)&&i!==(i=v[6]("file")+"")&&O(s,i);const D={};E&33816576&&(D.$$scope={dirty:E,ctx:v}),l.$set(D),v[3].file?c?c.p(v,E):(c=Ve(v),c.c(),c.m(u.parentNode,u)):c&&(c.d(1),c=null),v[7]?b?b.p(v,E):(b=Ee(v),b.c(),b.m(m.parentNode,m)):b&&(b.d(1),b=null)},i:function(v){p||(Y(l.$$.fragment,v),p=!0)},o:function(v){se(l.$$.fragment,v),p=!1},d:function(v){v&&$(e),ae(l),v&&$(g),c&&c.d(v),v&&$(u),b&&b.d(v),v&&$(m)}};return F("SvelteRegisterBlock",{block:Q,id:Re.name,type:"if",source:"(50:4) {#if !editing}",ctx:n}),Q}function ut(n){let e,t=(n[18]||"")+"",i;const s={c:function(){e=y("span"),i=R(t),this.h()},l:function(r){e=w(r,"SPAN",{class:!0});var a=k(e);i=V(a,t),a.forEach($),this.h()},h:function(){I(e,"class","validation-message"),S(e,x,54,10,2135)},m:function(r,a){T(r,e,a),f(e,i)},p:function(r,a){a&262144&&t!==(t=(r[18]||"")+"")&&O(i,t)},d:function(r){r&&$(e)}};return F("SvelteRegisterBlock",{block:s,id:ut.name,type:"slot",source:'(54:8) <ValidationMessage for=\\"file\\" let:messages={message}>',ctx:n}),s}function Ve(n){let e,t,i,s=n[6]("file-type")+"",o,r,a,d=(n[3].file.type||"Unknown")+"",l,g,u,m,p,c=n[6]("file-size")+"",b,Q,B,v=ke(n[3].file.size)+"",E;const D={c:function(){e=y("div"),t=y("span"),i=y("strong"),o=R(s),r=R(":"),a=P(),l=R(d),g=y("br"),u=P(),m=y("span"),p=y("strong"),b=R(c),Q=R(":"),B=P(),E=R(v),this.h()},l:function(G){e=w(G,"DIV",{});var z=k(e);t=w(z,"SPAN",{});var W=k(t);i=w(W,"STRONG",{});var h=k(i);o=V(h,s),r=V(h,":"),h.forEach($),a=N(W),l=V(W,d),W.forEach($),g=w(z,"BR",{}),u=N(z),m=w(z,"SPAN",{});var j=k(m);p=w(j,"STRONG",{});var te=k(p);b=V(te,c),Q=V(te,":"),te.forEach($),B=N(j),E=V(j,v),j.forEach($),z.forEach($),this.h()},h:function(){S(i,x,60,16,2287),S(t,x,60,10,2281),S(g,x,60,89,2360),S(p,x,61,16,2383),S(m,x,61,10,2377),S(e,x,59,8,2265)},m:function(G,z){T(G,e,z),f(e,t),f(t,i),f(i,o),f(i,r),f(t,a),f(t,l),f(e,g),f(e,u),f(e,m),f(m,p),f(p,b),f(p,Q),f(m,B),f(m,E)},p:function(G,z){z&64&&s!==(s=G[6]("file-type")+"")&&O(o,s),z&8&&d!==(d=(G[3].file.type||"Unknown")+"")&&O(l,d),z&64&&c!==(c=G[6]("file-size")+"")&&O(b,c),z&8&&v!==(v=ke(G[3].file.size)+"")&&O(E,v)},d:function(G){G&&$(e)}};return F("SvelteRegisterBlock",{block:D,id:Ve.name,type:"if",source:"(59:6) {#if $data.file}",ctx:n}),D}function Ee(n){let e,t,i,s,o=n[6]("version")+"",r,a,d,l=n[7].uplugin.Version+"",g,u,m,p,c,b,Q,B,v=n[7].targets.join(", ")+"",E,D,_,G;function z(C,M){return C[7].uplugin.SemVersion!==void 0?pt:mt}let W=z(n),h=W(n),j=n[7].uplugin.Plugins!==void 0&&Be(n);function te(C,M){return C[7].objects&&C[7].objects.length>0?$t:ht}let fe=te(n),q=fe(n);const ue={c:function(){e=y("div"),t=y("p"),i=y("span"),s=y("strong"),r=R(o),a=R(":"),d=P(),g=R(l),u=y("br"),m=P(),h.c(),p=P(),c=y("span"),b=y("strong"),Q=R("Targets:"),B=P(),E=R(v),D=y("br"),_=P(),j&&j.c(),G=P(),q.c(),this.h()},l:function(M){e=w(M,"DIV",{});var L=k(e);t=w(L,"P",{class:!0});var ne=k(t);i=w(ne,"SPAN",{});var Z=k(i);s=w(Z,"STRONG",{});var ie=k(s);r=V(ie,o),a=V(ie,":"),ie.forEach($),d=N(Z),g=V(Z,l),u=w(Z,"BR",{}),Z.forEach($),m=N(ne),h.l(ne),ne.forEach($),p=N(L),c=w(L,"SPAN",{});var oe=k(c);b=w(oe,"STRONG",{});var he=k(b);Q=V(he,"Targets:"),he.forEach($),B=N(oe),E=V(oe,v),D=w(oe,"BR",{}),oe.forEach($),_=N(L),j&&j.l(L),G=N(L),q.l(L),L.forEach($),this.h()},h:function(){S(s,x,68,18,2565),S(u,x,68,78,2625),S(i,x,68,12,2559),I(t,"class","mb-4"),S(t,x,67,10,2530),S(b,x,80,16,3033),S(D,x,80,71,3088),S(c,x,80,10,3027),S(e,x,66,8,2514)},m:function(M,L){T(M,e,L),f(e,t),f(t,i),f(i,s),f(s,r),f(s,a),f(i,d),f(i,g),f(i,u),f(t,m),h.m(t,null),f(e,p),f(e,c),f(c,b),f(b,Q),f(c,B),f(c,E),f(c,D),f(e,_),j&&j.m(e,null),f(e,G),q.m(e,null)},p:function(M,L){L&64&&o!==(o=M[6]("version")+"")&&O(r,o),L&128&&l!==(l=M[7].uplugin.Version+"")&&O(g,l),W===(W=z(M))&&h?h.p(M,L):(h.d(1),h=W(M),h&&(h.c(),h.m(t,null))),L&128&&v!==(v=M[7].targets.join(", ")+"")&&O(E,v),M[7].uplugin.Plugins!==void 0?j?j.p(M,L):(j=Be(M),j.c(),j.m(e,G)):j&&(j.d(1),j=null),fe===(fe=te(M))&&q?q.p(M,L):(q.d(1),q=fe(M),q&&(q.c(),q.m(e,null)))},d:function(M){M&&$(e),h.d(),j&&j.d(),q.d()}};return F("SvelteRegisterBlock",{block:ue,id:Ee.name,type:"if",source:"(66:6) {#if $modMeta}",ctx:n}),ue}function mt(n){let e,t=n[6]("version-form.missing-sem-version")+"",i,s,o=n[7].uplugin.Version+"",r,a;const d={c:function(){e=y("span"),i=R(t),s=P(),r=R(o),a=R(".0.0"),this.h()},l:function(g){e=w(g,"SPAN",{class:!0});var u=k(e);i=V(u,t),s=N(u),r=V(u,o),a=V(u,".0.0"),u.forEach($),this.h()},h:function(){I(e,"class","text-yellow-600"),S(e,x,73,14,2826)},m:function(g,u){T(g,e,u),f(e,i),f(e,s),f(e,r),f(e,a)},p:function(g,u){u&64&&t!==(t=g[6]("version-form.missing-sem-version")+"")&&O(i,t),u&128&&o!==(o=g[7].uplugin.Version+"")&&O(r,o)},d:function(g){g&&$(e)}};return F("SvelteRegisterBlock",{block:d,id:mt.name,type:"else",source:"(73:12) {:else}",ctx:n}),d}function pt(n){let e,t,i,s,o=n[7].uplugin.SemVersion+"",r,a;const d={c:function(){e=y("span"),t=y("strong"),i=R("SemVersion:"),s=P(),r=R(o),a=y("br"),this.h()},l:function(g){e=w(g,"SPAN",{});var u=k(e);t=w(u,"STRONG",{});var m=k(t);i=V(m,"SemVersion:"),m.forEach($),s=N(u),r=V(u,o),a=w(u,"BR",{}),u.forEach($),this.h()},h:function(){S(t,x,71,20,2720),S(a,x,71,78,2778),S(e,x,71,14,2714)},m:function(g,u){T(g,e,u),f(e,t),f(t,i),f(e,s),f(e,r),f(e,a)},p:function(g,u){u&128&&o!==(o=g[7].uplugin.SemVersion+"")&&O(r,o)},d:function(g){g&&$(e)}};return F("SvelteRegisterBlock",{block:d,id:pt.name,type:"if",source:"(71:12) {#if $modMeta.uplugin.SemVersion !== undefined}",ctx:n}),d}function Be(n){let e,t,i=n[6]("dependencies")+"",s,o,r,a,d=n[7].uplugin.Plugins;be(d);let l=[];for(let u=0;u<d.length;u+=1)l[u]=Pe(tt(n,d,u));const g={c:function(){e=y("p"),t=y("strong"),s=R(i),o=R(":"),r=y("br"),a=P();for(let m=0;m<l.length;m+=1)l[m].c();this.h()},l:function(m){e=w(m,"P",{});var p=k(e);t=w(p,"STRONG",{});var c=k(t);s=V(c,i),o=V(c,":"),c.forEach($),r=w(p,"BR",{}),a=N(p);for(let b=0;b<l.length;b+=1)l[b].l(p);p.forEach($),this.h()},h:function(){S(t,x,84,14,3188),S(r,x,84,52,3226),S(e,x,83,12,3170)},m:function(m,p){T(m,e,p),f(e,t),f(t,s),f(t,o),f(e,r),f(e,a);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p:function(m,p){if(p&64&&i!==(i=m[6]("dependencies")+"")&&O(s,i),p&128){d=m[7].uplugin.Plugins,be(d);let c;for(c=0;c<d.length;c+=1){const b=tt(m,d,c);l[c]?l[c].p(b,p):(l[c]=Pe(b),l[c].c(),l[c].m(e,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=d.length}},d:function(m){m&&$(e),it(l,m)}};return F("SvelteRegisterBlock",{block:g,id:Be.name,type:"if",source:"(83:10) {#if $modMeta.uplugin.Plugins !== undefined}",ctx:n}),g}function dt(n){let e,t;const i={c:function(){e=y("span"),t=R("*"),this.h()},l:function(o){e=w(o,"SPAN",{});var r=k(e);t=V(r,"*"),r.forEach($),this.h()},h:function(){S(e,x,90,18,3488)},m:function(o,r){T(o,e,r),f(e,t)},p:ee,d:function(o){o&&$(e)}};return F("SvelteRegisterBlock",{block:i,id:dt.name,type:"else",source:"(90:16) {:else}",ctx:n}),i}function gt(n){let e,t=n[22].SemVersion+"",i;const s={c:function(){e=y("span"),i=R(t),this.h()},l:function(r){e=w(r,"SPAN",{});var a=k(e);i=V(a,t),a.forEach($),this.h()},h:function(){S(e,x,88,18,3409)},m:function(r,a){T(r,e,a),f(e,i)},p:function(r,a){a&128&&t!==(t=r[22].SemVersion+"")&&O(i,t)},d:function(r){r&&$(e)}};return F("SvelteRegisterBlock",{block:s,id:gt.name,type:"if",source:"(88:16) {#if dependency.SemVersion}",ctx:n}),s}function Pe(n){let e,t=n[22].Name+"",i,s,o,r,a;function d(m,p){return m[22].SemVersion?gt:dt}let l=d(n),g=l(n);const u={c:function(){e=y("strong"),i=R(t),s=R(":"),o=P(),g.c(),r=P(),a=y("br"),this.h()},l:function(p){e=w(p,"STRONG",{});var c=k(e);i=V(c,t),s=V(c,":"),c.forEach($),o=N(p),g.l(p),r=N(p),a=w(p,"BR",{}),this.h()},h:function(){S(e,x,86,16,3310),S(a,x,92,16,3541)},m:function(p,c){T(p,e,c),f(e,i),f(e,s),T(p,o,c),g.m(p,c),T(p,r,c),T(p,a,c)},p:function(p,c){c&128&&t!==(t=p[22].Name+"")&&O(i,t),l===(l=d(p))&&g?g.p(p,c):(g.d(1),g=l(p),g&&(g.c(),g.m(r.parentNode,r)))},d:function(p){p&&$(e),p&&$(o),g.d(p),p&&$(r),p&&$(a)}};return F("SvelteRegisterBlock",{block:u,id:Pe.name,type:"each",source:"(86:14) {#each $modMeta.uplugin.Plugins as dependency}",ctx:n}),u}function ht(n){let e,t,i=n[6]("version-form.missing-sem-version")+"",s;const o={c:function(){e=y("p"),t=y("span"),s=R(i),this.h()},l:function(a){e=w(a,"P",{});var d=k(e);t=w(d,"SPAN",{class:!0});var l=k(t);s=V(l,i),l.forEach($),d.forEach($),this.h()},h:function(){I(t,"class","text-yellow-600"),S(t,x,107,14,3935),S(e,x,106,12,3917)},m:function(a,d){T(a,e,d),f(e,t),f(t,s)},p:function(a,d){d&64&&i!==(i=a[6]("version-form.missing-sem-version")+"")&&O(s,i)},d:function(a){a&&$(e)}};return F("SvelteRegisterBlock",{block:o,id:ht.name,type:"else",source:"(106:10) {:else}",ctx:n}),o}function $t(n){let e,t,i=n[6]("objects")+"",s,o,r,a,d=n[7].objects;be(d);let l=[];for(let u=0;u<d.length;u+=1)l[u]=Ne(et(n,d,u));const g={c:function(){e=y("p"),t=y("strong"),s=R(i),o=R(":"),r=y("br"),a=P();for(let m=0;m<l.length;m+=1)l[m].c();this.h()},l:function(m){e=w(m,"P",{});var p=k(e);t=w(p,"STRONG",{});var c=k(t);s=V(c,i),o=V(c,":"),c.forEach($),r=w(p,"BR",{}),a=N(p);for(let b=0;b<l.length;b+=1)l[b].l(p);p.forEach($),this.h()},h:function(){S(t,x,99,14,3698),S(r,x,99,47,3731),S(e,x,98,12,3680)},m:function(m,p){T(m,e,p),f(e,t),f(t,s),f(t,o),f(e,r),f(e,a);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p:function(m,p){if(p&64&&i!==(i=m[6]("objects")+"")&&O(s,i),p&128){d=m[7].objects,be(d);let c;for(c=0;c<d.length;c+=1){const b=et(m,d,c);l[c]?l[c].p(b,p):(l[c]=Ne(b),l[c].c(),l[c].m(e,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=d.length}},d:function(m){m&&$(e),it(l,m)}};return F("SvelteRegisterBlock",{block:g,id:$t.name,type:"if",source:"(98:10) {#if $modMeta.objects && $modMeta.objects.length > 0}",ctx:n}),g}function Ne(n){let e,t=n[19]+"",i,s,o;const r={c:function(){e=y("span"),i=R(t),s=P(),o=y("br"),this.h()},l:function(d){e=w(d,"SPAN",{});var l=k(e);i=V(l,t),l.forEach($),s=N(d),o=w(d,"BR",{}),this.h()},h:function(){S(e,x,101,16,3803),S(o,x,102,16,3841)},m:function(d,l){T(d,e,l),f(e,i),T(d,s,l),T(d,o,l)},p:function(d,l){l&128&&t!==(t=d[19]+"")&&O(i,t)},d:function(d){d&&$(e),d&&$(s),d&&$(o)}};return F("SvelteRegisterBlock",{block:r,id:Ne.name,type:"each",source:"(101:14) {#each $modMeta.objects as object}",ctx:n}),r}function vt(n){let e,t=(n[18]||"")+"",i;const s={c:function(){e=y("span"),i=R(t),this.h()},l:function(r){e=w(r,"SPAN",{class:!0});var a=k(e);i=V(a,t),a.forEach($),this.h()},h:function(){I(e,"class","validation-message"),S(e,x,126,10,4482)},m:function(r,a){T(r,e,a),f(e,i)},p:function(r,a){a&262144&&t!==(t=(r[18]||"")+"")&&O(i,t)},d:function(r){r&&$(e)}};return F("SvelteRegisterBlock",{block:s,id:vt.name,type:"slot",source:'(126:8) <ValidationMessage for=\\"changelog\\" let:messages={message}>',ctx:n}),s}function bt(n){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return F("SvelteRegisterBlock",{block:e,id:bt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function yt(n){let e,t=n[17]+"";const i={c:function(){e=y("div"),this.h()},l:function(o){e=w(o,"DIV",{class:!0});var r=k(e);r.forEach($),this.h()},h:function(){I(e,"class","markdown-content right s-Aj89xH93RQKp"),S(e,x,132,10,4743)},m:function(o,r){T(o,e,r),e.innerHTML=t},p:function(o,r){r&32&&t!==(t=o[17]+"")&&(e.innerHTML=t)},d:function(o){o&&$(e)}};return F("SvelteRegisterBlock",{block:i,id:yt.name,type:"then",source:'(132:55)            <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:n}),i}function wt(n){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return F("SvelteRegisterBlock",{block:e,id:wt.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function St(n){let e;const t={c:function(){e=R(n[1])},l:function(s){e=V(s,n[1])},m:function(s,o){T(s,e,o)},p:function(s,o){o&2&&O(e,s[1])},d:function(s){s&&$(e)}};return F("SvelteRegisterBlock",{block:t,id:St.name,type:"slot",source:'(143:6) <Button variant=\\"outlined\\" type=\\"submit\\" {disabled}>',ctx:n}),t}function Te(n){let e,t,i,s,o,r,a,d,l,g,u,m,p,c,b,Q,B,v,E=n[6]("preview")+"",D,_,G,z,W,h,j=n[6]("version-form.agreement-to")+"",te,fe,q,ue=n[6]("content-policy")+"",C,M,L,ne,Z,ie,oe,he;function xt(U){n[14](U)}let je={label:n[6]("stability"),$$slots:{default:[at]},$$scope:{ctx:n}};n[3].stability!==void 0&&(je.value=n[3].stability),s=new st({props:je,$$inline:!0}),Ie.push(()=>De(s,"value",xt)),a=new ye({props:{for:"stability",$$slots:{default:[ft,({messages:U})=>({18:U}),({messages:U})=>U?262144:0]},$$scope:{ctx:n}},$$inline:!0});let H=!n[2]&&Re(n);function kt(U){n[15](U)}let Ae={textarea:!0,class:"vertical-textarea",label:n[6]("changelog"),required:!0,input$rows:10};n[3].changelog!==void 0&&(Ae.value=n[3].changelog),m=new ot({props:Ae,$$inline:!0}),Ie.push(()=>De(m,"value",kt)),b=new ye({props:{for:"changelog",$$slots:{default:[vt,({messages:U})=>({18:U}),({messages:U})=>U?262144:0]},$$scope:{ctx:n}},$$inline:!0});let X={ctx:n,current:null,token:null,hasCatch:!1,pending:wt,then:yt,catch:bt,value:17};ze(z=xe(n[5]),X),Z=new nt({props:{variant:"outlined",type:"submit",disabled:n[4],$$slots:{default:[St]},$$scope:{ctx:n}},$$inline:!0});const Fe={c:function(){e=y("form"),t=y("div"),i=y("div"),le(s.$$.fragment),r=P(),le(a.$$.fragment),d=P(),H&&H.c(),l=P(),g=y("div"),u=y("div"),le(m.$$.fragment),c=P(),le(b.$$.fragment),Q=P(),B=y("div"),v=y("span"),D=R(E),_=R(":"),G=P(),X.block.c(),W=P(),h=y("div"),te=R(j),fe=P(),q=y("a"),C=R(ue),M=R("."),L=P(),ne=y("div"),le(Z.$$.fragment),this.h()},l:function(K){e=w(K,"FORM",{});var A=k(e);t=w(A,"DIV",{class:!0});var J=k(t);i=w(J,"DIV",{class:!0});var de=k(i);re(s.$$.fragment,de),r=N(de),re(a.$$.fragment,de),de.forEach($),d=N(J),H&&H.l(J),l=N(J),g=w(J,"DIV",{class:!0});var me=k(g);u=w(me,"DIV",{class:!0});var ge=k(u);re(m.$$.fragment,ge),c=N(ge),re(b.$$.fragment,ge),ge.forEach($),Q=N(me),B=w(me,"DIV",{class:!0});var pe=k(B);v=w(pe,"SPAN",{});var we=k(v);D=V(we,E),_=V(we,":"),we.forEach($),G=N(pe),X.block.l(pe),pe.forEach($),me.forEach($),W=N(J),h=w(J,"DIV",{class:!0});var $e=k(h);te=V($e,j),fe=N($e),q=w($e,"A",{href:!0,class:!0});var Me=k(q);C=V(Me,ue),Me.forEach($),M=V($e,"."),$e.forEach($),L=N(J),ne=w(J,"DIV",{});var Oe=k(ne);re(Z.$$.fragment,Oe),Oe.forEach($),J.forEach($),A.forEach($),this.h()},h:function(){I(i,"class","grid grid-flow-row gap-2"),S(i,x,38,4,1413),I(u,"class","grid grid-flow-row gap-2 auto-rows-max"),S(u,x,117,6,4157),S(v,x,130,8,4647),I(B,"class","grid grid-flow-row gap-2 auto-rows-max"),S(B,x,129,6,4586),I(g,"class","grid gap-6 split s-Aj89xH93RQKp"),S(g,x,116,4,4120),I(q,"href","/content-policy"),I(q,"class","s-Aj89xH93RQKp"),S(q,x,138,40,4920),I(h,"class","text-muted"),S(h,x,137,4,4855),S(ne,x,141,4,4990),I(t,"class","grid grid-flow-row gap-6"),S(t,x,37,2,1370),S(e,x,36,0,1352)},m:function(K,A){T(K,e,A),f(e,t),f(t,i),ce(s,i,null),f(i,r),ce(a,i,null),f(t,d),H&&H.m(t,null),f(t,l),f(t,g),f(g,u),ce(m,u,null),f(u,c),ce(b,u,null),f(g,Q),f(g,B),f(B,v),f(v,D),f(v,_),f(B,G),X.block.m(B,X.anchor=null),X.mount=()=>B,X.anchor=null,f(t,W),f(t,h),f(h,te),f(h,fe),f(h,q),f(q,C),f(h,M),f(t,L),f(t,ne),ce(Z,ne,null),ie=!0,oe||(he=Pt(n[9].call(null,e)),oe=!0)},p:function(K,[A]){n=K;const J={};A&64&&(J.label=n[6]("stability")),A&33554432&&(J.$$scope={dirty:A,ctx:n}),!o&&A&8&&(o=!0,J.value=n[3].stability,qe(()=>o=!1)),s.$set(J);const de={};A&33816576&&(de.$$scope={dirty:A,ctx:n}),a.$set(de),n[2]?H&&(Nt(),se(H,1,1,()=>{H=null}),Tt()):H?(H.p(n,A),A&4&&Y(H,1)):(H=Re(n),H.c(),Y(H,1),H.m(t,l));const me={};A&64&&(me.label=n[6]("changelog")),!p&&A&8&&(p=!0,me.value=n[3].changelog,qe(()=>p=!1)),m.$set(me);const ge={};A&33816576&&(ge.$$scope={dirty:A,ctx:n}),b.$set(ge),(!ie||A&64)&&E!==(E=n[6]("preview")+"")&&O(D,E),X.ctx=n,A&32&&z!==(z=xe(n[5]))&&ze(z,X)||jt(X,n,A),(!ie||A&64)&&j!==(j=n[6]("version-form.agreement-to")+"")&&O(te,j),(!ie||A&64)&&ue!==(ue=n[6]("content-policy")+"")&&O(C,ue);const pe={};A&16&&(pe.disabled=n[4]),A&33554434&&(pe.$$scope={dirty:A,ctx:n}),Z.$set(pe)},i:function(K){ie||(Y(s.$$.fragment,K),Y(a.$$.fragment,K),Y(H),Y(m.$$.fragment,K),Y(b.$$.fragment,K),Y(Z.$$.fragment,K),ie=!0)},o:function(K){se(s.$$.fragment,K),se(a.$$.fragment,K),se(H),se(m.$$.fragment,K),se(b.$$.fragment,K),se(Z.$$.fragment,K),ie=!1},d:function(K){K&&$(e),ae(s),ae(a),H&&H.d(),ae(m),ae(b),X.block.d(),X.token=null,X=null,ae(Z),oe=!1,he()}};return F("SvelteRegisterBlock",{block:Fe,id:Te.name,type:"component",source:"",ctx:n}),Fe}function _t(n,e,t){let i,s,o,r=ee,a=()=>(r(),r=At(u,h=>t(6,o=h)),u),d;n.$$.on_destroy.push(()=>r());let{$$slots:l={},$$scope:g}=e;Bt("VersionForm",l,[]);const{t:u}=Ge();Se(u,"t"),a();let{modReference:m}=e,{onSubmit:p}=e,{initialValues:c={changelog:"",stability:Ze.Alpha}}=e,{submitText:b=o("entry.create")}=e,{editing:Q=!1}=e;const B=Le();Se(B,"modMeta"),_e(n,B,h=>t(7,d=h));let v=!1;const E=Ye(m,B),{form:D,data:_}=Ke({initialValues:c,extend:[We({schema:E}),Ce],onSubmit:h=>{t(4,v=!0),p(Xe(h,E)).then(()=>t(4,v=!1))}});Se(_,"data"),_e(n,_,h=>t(3,s=h)),n.$$.on_mount.push(function(){m===void 0&&!("modReference"in e||n.$$.bound[n.$$.props.modReference])&&console.warn("<VersionForm> was created without expected prop 'modReference'"),p===void 0&&!("onSubmit"in e||n.$$.bound[n.$$.props.onSubmit])&&console.warn("<VersionForm> was created without expected prop 'onSubmit'")});const G=["modReference","onSubmit","initialValues","submitText","editing"];Object.keys(e).forEach(h=>{!~G.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<VersionForm> was created with unknown prop '${h}'`)});function z(h){n.$$.not_equal(s.stability,h)&&(s.stability=h,_.set(s))}function W(h){n.$$.not_equal(s.changelog,h)&&(s.changelog=h,_.set(s))}return n.$$set=h=>{"modReference"in h&&t(11,m=h.modReference),"onSubmit"in h&&t(12,p=h.onSubmit),"initialValues"in h&&t(13,c=h.initialValues),"submitText"in h&&t(1,b=h.submitText),"editing"in h&&t(2,Q=h.editing)},n.$capture_state=()=>({createForm:Ke,validator:We,reporter:Ce,ValidationMessage:ye,constructVersionSchema:Ye,trimNonSchema:Xe,markdown:xe,writable:Le,Textfield:ot,Button:nt,VersionStabilities:Ze,Select:st,Option:ve,prettyBytes:ke,getTranslate:Ge,t:u,modReference:m,onSubmit:p,initialValues:c,submitText:b,editing:Q,modMeta:B,disabled:v,versionSchema:E,form:D,data:_,preview:i,$data:s,$t:o,$modMeta:d}),n.$inject_state=h=>{"modReference"in h&&t(11,m=h.modReference),"onSubmit"in h&&t(12,p=h.onSubmit),"initialValues"in h&&t(13,c=h.initialValues),"submitText"in h&&t(1,b=h.submitText),"editing"in h&&t(2,Q=h.editing),"disabled"in h&&t(4,v=h.disabled),"preview"in h&&t(5,i=h.preview)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&8&&t(5,i=s.changelog||"")},[u,b,Q,s,v,i,o,d,B,D,_,m,p,c,z,W]}class Zt extends Rt{constructor(e){super(e),Vt(this,e,_t,Te,Et,{t:0,modReference:11,onSubmit:12,initialValues:13,submitText:1,editing:2}),F("SvelteRegisterComponent",{component:this,tagName:"VersionForm",options:e,id:Te.name})}get t(){return this.$$.ctx[0]}set t(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get modReference(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set modReference(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Zt as V};
//# sourceMappingURL=VersionForm.6baeaa1d.js.map
