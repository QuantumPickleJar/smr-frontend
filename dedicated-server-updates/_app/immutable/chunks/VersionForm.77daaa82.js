import{S as Rt,i as Vt,s as Et,d as F,r as Ie,T as De,bq as ze,aQ as nt,v as Pt,aK as Ge,Y as Se,X as Le,Z as _e,a$ as be,x as y,a8 as le,a6 as B,L as R,y as w,z as k,ab as re,a9 as N,q as $,N as V,ac as I,C as S,l as T,ad as u,ae as ce,D as Bt,ai as qe,p as Y,m as Nt,t as se,n as Tt,O,br as jt,aj as ae,P as ee,aw as At,k as Ue,b0 as it}from"./vendor.fcd72613.js";import{o as Ft,d as Mt,e as Ot,Z as He,s as Qe,S as st,V as ye,T as ot,c as Ke,v as We,r as Ce,O as ve}from"./forms.219d27f6.js";import{J as It}from"./jszip.eee17f63.js";import{v as Dt}from"./uplugin.9a39fed4.js";import{T as Je,V as Ze}from"./graphql.04d4ab78.js";import{t as Xe}from"./forms.d0e9fdd9.js";import{m as xe}from"./markdown.2f9f4eba.js";import{b as ke}from"./formatting.730f0615.js";const zt=Object.keys(Je).map(n=>Je[n]).filter(n=>typeof n=="string"),Gt=async(n,e)=>{const t=await Dt(n);if(t.length!=0)return{message:`invalid ${e}.uplugin`,extended:t};const i=JSON.parse(n);let s=!1;for(const l of i.Plugins)if(l.Name==="SML"){s=!0;break}return s?i:{message:"mod must depend on SML"}};function Lt(n){const e=n.split("/");return e[e.length-1]}function _t(n){const e=n.split("/");return e.slice(0,e.length-1).join("/")}const qt=async(n,e)=>new It().loadAsync(n).then(async i=>{const s=i.filter(f=>Lt(f)==e+".uplugin"),l=s.map(f=>_t(f.name));if(s.length===0)return{message:"Mod does not contain any "+e+".uplugin files"};if(s.some(f=>f.name===e+".uplugin"))return{message:"Mod contains "+e+".uplugin files in the root directory. New uploads must use the multi-target format. Read more on the docs: https://docs.ficsit.app/satisfactory-modding/latest/Development/UpdatingToDedi.html"};const r=l.filter(f=>!zt.includes(f));if(r.length!==0)return{message:`invalid target(s): ${r.join(", ")}`};const c=i.filter(f=>!l.some(m=>f.startsWith(m+"/")));if(c.length!==0)return{message:`file(s) outside target directories: ${c.map(f=>f.name).join(", ")}`};const p=await Promise.all(s.map(f=>f.async("string").catch(m=>{throw new Error(`invalid ${e}.uplugin: ${m}`)})));return p.every(f=>f===p[0])?{uplugin:await Gt(p[0],e),objects:Object.keys(i.files).filter(f=>f.endsWith(".so")||f.endsWith(".dll")||f.endsWith(".pak")),targets:l}:{message:"Mod contains "+e+".uplugin files with different contents"}}).catch(i=>({message:"invalid zip/smod file: "+i})),Ye=(n,e)=>Ft({file:Mt(Ot().superRefine(async(t,i)=>{if(!("name"in t&&"size"in t&&"type"in t)){i.addIssue({message:"Unknown file error",code:He.custom});return}const s=await qt(t,n);if("message"in s){i.addIssue({message:s.message,code:He.custom});return}e.set(s)})),changelog:Qe(),stability:Qe()});const x="src/lib/components/versions/VersionForm.svelte";function et(n,e,t){const i=n.slice();return i[19]=e[t],i}function tt(n,e,t){const i=n.slice();return i[22]=e[t],i}function lt(n){let e;const t={c:function(){e=R("Alpha")},l:function(s){e=V(s,"Alpha")},m:function(s,l){T(s,e,l)},d:function(s){s&&$(e)}};return F("SvelteRegisterBlock",{block:t,id:lt.name,type:"slot",source:'(41:8) <Option value=\\"alpha\\">',ctx:n}),t}function rt(n){let e;const t={c:function(){e=R("Beta")},l:function(s){e=V(s,"Beta")},m:function(s,l){T(s,e,l)},d:function(s){s&&$(e)}};return F("SvelteRegisterBlock",{block:t,id:rt.name,type:"slot",source:'(42:8) <Option value=\\"beta\\">',ctx:n}),t}function ct(n){let e;const t={c:function(){e=R("Release")},l:function(s){e=V(s,"Release")},m:function(s,l){T(s,e,l)},d:function(s){s&&$(e)}};return F("SvelteRegisterBlock",{block:t,id:ct.name,type:"slot",source:'(43:8) <Option value=\\"release\\">',ctx:n}),t}function at(n){let e,t,i,s,l,r;e=new ve({props:{value:"alpha",$$slots:{default:[lt]},$$scope:{ctx:n}},$$inline:!0}),i=new ve({props:{value:"beta",$$slots:{default:[rt]},$$scope:{ctx:n}},$$inline:!0}),l=new ve({props:{value:"release",$$slots:{default:[ct]},$$scope:{ctx:n}},$$inline:!0});const c={c:function(){le(e.$$.fragment),t=B(),le(i.$$.fragment),s=B(),le(l.$$.fragment)},l:function(o){re(e.$$.fragment,o),t=N(o),re(i.$$.fragment,o),s=N(o),re(l.$$.fragment,o)},m:function(o,f){ce(e,o,f),T(o,t,f),ce(i,o,f),T(o,s,f),ce(l,o,f),r=!0},p:function(o,f){const m={};f&33554432&&(m.$$scope={dirty:f,ctx:o}),e.$set(m);const d={};f&33554432&&(d.$$scope={dirty:f,ctx:o}),i.$set(d);const g={};f&33554432&&(g.$$scope={dirty:f,ctx:o}),l.$set(g)},i:function(o){r||(Y(e.$$.fragment,o),Y(i.$$.fragment,o),Y(l.$$.fragment,o),r=!0)},o:function(o){se(e.$$.fragment,o),se(i.$$.fragment,o),se(l.$$.fragment,o),r=!1},d:function(o){ae(e,o),o&&$(t),ae(i,o),o&&$(s),ae(l,o)}};return F("SvelteRegisterBlock",{block:c,id:at.name,type:"slot",source:"(40:6) <Select bind:value={$data.stability} label={$t('stability')}>",ctx:n}),c}function ft(n){let e,t=(n[18]||"")+"",i;const s={c:function(){e=y("span"),i=R(t),this.h()},l:function(r){e=w(r,"SPAN",{class:!0});var c=k(e);i=V(c,t),c.forEach($),this.h()},h:function(){I(e,"class","validation-message"),S(e,x,45,8,1746)},m:function(r,c){T(r,e,c),u(e,i)},p:function(r,c){c&262144&&t!==(t=(r[18]||"")+"")&&O(i,t)},d:function(r){r&&$(e)}};return F("SvelteRegisterBlock",{block:s,id:ft.name,type:"slot",source:'(45:6) <ValidationMessage for=\\"stability\\" let:messages={message}>',ctx:n}),s}function Re(n){let e,t,i=n[6]("file")+"",s,l,r,c,p,o,f,m,d,g;o=new ye({props:{for:"file",$$slots:{default:[ut,({messages:P})=>({18:P}),({messages:P})=>P?262144:0]},$$scope:{ctx:n}},$$inline:!0});let a=n[3].file&&Ve(n),b=n[7]&&Ee(n);const H={c:function(){e=y("div"),t=y("label"),s=R(i),l=R(":"),r=B(),c=y("input"),p=B(),le(o.$$.fragment),f=B(),a&&a.c(),m=B(),b&&b.c(),d=Ue(),this.h()},l:function(v){e=w(v,"DIV",{class:!0});var E=k(e);t=w(E,"LABEL",{for:!0});var D=k(t);s=V(D,i),l=V(D,":"),D.forEach($),r=N(E),c=w(E,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),p=N(E),re(o.$$.fragment,E),E.forEach($),f=N(v),a&&a.l(v),m=N(v),b&&b.l(v),d=Ue(),this.h()},h:function(){I(t,"for","file"),S(t,x,51,8,1913),I(c,"id","file"),I(c,"class","base-input"),I(c,"name","file"),I(c,"type","file"),I(c,"accept",".zip,.smod"),I(c,"placeholder","File"),S(c,x,52,8,1961),I(e,"class","grid grid-flow-row gap-2"),S(e,x,50,6,1866)},m:function(v,E){T(v,e,E),u(e,t),u(t,s),u(t,l),u(e,r),u(e,c),u(e,p),ce(o,e,null),T(v,f,E),a&&a.m(v,E),T(v,m,E),b&&b.m(v,E),T(v,d,E),g=!0},p:function(v,E){(!g||E&64)&&i!==(i=v[6]("file")+"")&&O(s,i);const D={};E&33816576&&(D.$$scope={dirty:E,ctx:v}),o.$set(D),v[3].file?a?a.p(v,E):(a=Ve(v),a.c(),a.m(m.parentNode,m)):a&&(a.d(1),a=null),v[7]?b?b.p(v,E):(b=Ee(v),b.c(),b.m(d.parentNode,d)):b&&(b.d(1),b=null)},i:function(v){g||(Y(o.$$.fragment,v),g=!0)},o:function(v){se(o.$$.fragment,v),g=!1},d:function(v){v&&$(e),ae(o),v&&$(f),a&&a.d(v),v&&$(m),b&&b.d(v),v&&$(d)}};return F("SvelteRegisterBlock",{block:H,id:Re.name,type:"if",source:"(50:4) {#if !editing}",ctx:n}),H}function ut(n){let e,t=(n[18]||"")+"",i;const s={c:function(){e=y("span"),i=R(t),this.h()},l:function(r){e=w(r,"SPAN",{class:!0});var c=k(e);i=V(c,t),c.forEach($),this.h()},h:function(){I(e,"class","validation-message"),S(e,x,54,10,2135)},m:function(r,c){T(r,e,c),u(e,i)},p:function(r,c){c&262144&&t!==(t=(r[18]||"")+"")&&O(i,t)},d:function(r){r&&$(e)}};return F("SvelteRegisterBlock",{block:s,id:ut.name,type:"slot",source:'(54:8) <ValidationMessage for=\\"file\\" let:messages={message}>',ctx:n}),s}function Ve(n){let e,t,i,s=n[6]("file-type")+"",l,r,c,p=(n[3].file.type||"Unknown")+"",o,f,m,d,g,a=n[6]("file-size")+"",b,H,P,v=ke(n[3].file.size)+"",E;const D={c:function(){e=y("div"),t=y("span"),i=y("strong"),l=R(s),r=R(":"),c=B(),o=R(p),f=y("br"),m=B(),d=y("span"),g=y("strong"),b=R(a),H=R(":"),P=B(),E=R(v),this.h()},l:function(G){e=w(G,"DIV",{});var z=k(e);t=w(z,"SPAN",{});var W=k(t);i=w(W,"STRONG",{});var h=k(i);l=V(h,s),r=V(h,":"),h.forEach($),c=N(W),o=V(W,p),W.forEach($),f=w(z,"BR",{}),m=N(z),d=w(z,"SPAN",{});var j=k(d);g=w(j,"STRONG",{});var te=k(g);b=V(te,a),H=V(te,":"),te.forEach($),P=N(j),E=V(j,v),j.forEach($),z.forEach($),this.h()},h:function(){S(i,x,60,16,2287),S(t,x,60,10,2281),S(f,x,60,89,2360),S(g,x,61,16,2383),S(d,x,61,10,2377),S(e,x,59,8,2265)},m:function(G,z){T(G,e,z),u(e,t),u(t,i),u(i,l),u(i,r),u(t,c),u(t,o),u(e,f),u(e,m),u(e,d),u(d,g),u(g,b),u(g,H),u(d,P),u(d,E)},p:function(G,z){z&64&&s!==(s=G[6]("file-type")+"")&&O(l,s),z&8&&p!==(p=(G[3].file.type||"Unknown")+"")&&O(o,p),z&64&&a!==(a=G[6]("file-size")+"")&&O(b,a),z&8&&v!==(v=ke(G[3].file.size)+"")&&O(E,v)},d:function(G){G&&$(e)}};return F("SvelteRegisterBlock",{block:D,id:Ve.name,type:"if",source:"(59:6) {#if $data.file}",ctx:n}),D}function Ee(n){let e,t,i,s,l=n[6]("version")+"",r,c,p,o=n[7].uplugin.Version+"",f,m,d,g,a,b,H,P,v=n[7].targets.join(", ")+"",E,D,_,G;function z(C,M){return C[7].uplugin.SemVersion!==void 0?pt:mt}let W=z(n),h=W(n),j=n[7].uplugin.Plugins!==void 0&&Pe(n);function te(C,M){return C[7].objects&&C[7].objects.length>0?$t:ht}let fe=te(n),q=fe(n);const ue={c:function(){e=y("div"),t=y("p"),i=y("span"),s=y("strong"),r=R(l),c=R(":"),p=B(),f=R(o),m=y("br"),d=B(),h.c(),g=B(),a=y("span"),b=y("strong"),H=R("Targets:"),P=B(),E=R(v),D=y("br"),_=B(),j&&j.c(),G=B(),q.c(),this.h()},l:function(M){e=w(M,"DIV",{});var L=k(e);t=w(L,"P",{class:!0});var ne=k(t);i=w(ne,"SPAN",{});var Z=k(i);s=w(Z,"STRONG",{});var ie=k(s);r=V(ie,l),c=V(ie,":"),ie.forEach($),p=N(Z),f=V(Z,o),m=w(Z,"BR",{}),Z.forEach($),d=N(ne),h.l(ne),ne.forEach($),g=N(L),a=w(L,"SPAN",{});var oe=k(a);b=w(oe,"STRONG",{});var he=k(b);H=V(he,"Targets:"),he.forEach($),P=N(oe),E=V(oe,v),D=w(oe,"BR",{}),oe.forEach($),_=N(L),j&&j.l(L),G=N(L),q.l(L),L.forEach($),this.h()},h:function(){S(s,x,68,18,2565),S(m,x,68,78,2625),S(i,x,68,12,2559),I(t,"class","mb-4"),S(t,x,67,10,2530),S(b,x,80,16,3033),S(D,x,80,71,3088),S(a,x,80,10,3027),S(e,x,66,8,2514)},m:function(M,L){T(M,e,L),u(e,t),u(t,i),u(i,s),u(s,r),u(s,c),u(i,p),u(i,f),u(i,m),u(t,d),h.m(t,null),u(e,g),u(e,a),u(a,b),u(b,H),u(a,P),u(a,E),u(a,D),u(e,_),j&&j.m(e,null),u(e,G),q.m(e,null)},p:function(M,L){L&64&&l!==(l=M[6]("version")+"")&&O(r,l),L&128&&o!==(o=M[7].uplugin.Version+"")&&O(f,o),W===(W=z(M))&&h?h.p(M,L):(h.d(1),h=W(M),h&&(h.c(),h.m(t,null))),L&128&&v!==(v=M[7].targets.join(", ")+"")&&O(E,v),M[7].uplugin.Plugins!==void 0?j?j.p(M,L):(j=Pe(M),j.c(),j.m(e,G)):j&&(j.d(1),j=null),fe===(fe=te(M))&&q?q.p(M,L):(q.d(1),q=fe(M),q&&(q.c(),q.m(e,null)))},d:function(M){M&&$(e),h.d(),j&&j.d(),q.d()}};return F("SvelteRegisterBlock",{block:ue,id:Ee.name,type:"if",source:"(66:6) {#if $modMeta}",ctx:n}),ue}function mt(n){let e,t=n[6]("version-form.missing-sem-version")+"",i,s,l=n[7].uplugin.Version+"",r,c;const p={c:function(){e=y("span"),i=R(t),s=B(),r=R(l),c=R(".0.0"),this.h()},l:function(f){e=w(f,"SPAN",{class:!0});var m=k(e);i=V(m,t),s=N(m),r=V(m,l),c=V(m,".0.0"),m.forEach($),this.h()},h:function(){I(e,"class","text-yellow-600"),S(e,x,73,14,2826)},m:function(f,m){T(f,e,m),u(e,i),u(e,s),u(e,r),u(e,c)},p:function(f,m){m&64&&t!==(t=f[6]("version-form.missing-sem-version")+"")&&O(i,t),m&128&&l!==(l=f[7].uplugin.Version+"")&&O(r,l)},d:function(f){f&&$(e)}};return F("SvelteRegisterBlock",{block:p,id:mt.name,type:"else",source:"(73:12) {:else}",ctx:n}),p}function pt(n){let e,t,i,s,l=n[7].uplugin.SemVersion+"",r,c;const p={c:function(){e=y("span"),t=y("strong"),i=R("SemVersion:"),s=B(),r=R(l),c=y("br"),this.h()},l:function(f){e=w(f,"SPAN",{});var m=k(e);t=w(m,"STRONG",{});var d=k(t);i=V(d,"SemVersion:"),d.forEach($),s=N(m),r=V(m,l),c=w(m,"BR",{}),m.forEach($),this.h()},h:function(){S(t,x,71,20,2720),S(c,x,71,78,2778),S(e,x,71,14,2714)},m:function(f,m){T(f,e,m),u(e,t),u(t,i),u(e,s),u(e,r),u(e,c)},p:function(f,m){m&128&&l!==(l=f[7].uplugin.SemVersion+"")&&O(r,l)},d:function(f){f&&$(e)}};return F("SvelteRegisterBlock",{block:p,id:pt.name,type:"if",source:"(71:12) {#if $modMeta.uplugin.SemVersion !== undefined}",ctx:n}),p}function Pe(n){let e,t,i=n[6]("dependencies")+"",s,l,r,c,p=n[7].uplugin.Plugins;be(p);let o=[];for(let m=0;m<p.length;m+=1)o[m]=Be(tt(n,p,m));const f={c:function(){e=y("p"),t=y("strong"),s=R(i),l=R(":"),r=y("br"),c=B();for(let d=0;d<o.length;d+=1)o[d].c();this.h()},l:function(d){e=w(d,"P",{});var g=k(e);t=w(g,"STRONG",{});var a=k(t);s=V(a,i),l=V(a,":"),a.forEach($),r=w(g,"BR",{}),c=N(g);for(let b=0;b<o.length;b+=1)o[b].l(g);g.forEach($),this.h()},h:function(){S(t,x,84,14,3188),S(r,x,84,52,3226),S(e,x,83,12,3170)},m:function(d,g){T(d,e,g),u(e,t),u(t,s),u(t,l),u(e,r),u(e,c);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p:function(d,g){if(g&64&&i!==(i=d[6]("dependencies")+"")&&O(s,i),g&128){p=d[7].uplugin.Plugins,be(p);let a;for(a=0;a<p.length;a+=1){const b=tt(d,p,a);o[a]?o[a].p(b,g):(o[a]=Be(b),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=p.length}},d:function(d){d&&$(e),it(o,d)}};return F("SvelteRegisterBlock",{block:f,id:Pe.name,type:"if",source:"(83:10) {#if $modMeta.uplugin.Plugins !== undefined}",ctx:n}),f}function dt(n){let e,t;const i={c:function(){e=y("span"),t=R("*"),this.h()},l:function(l){e=w(l,"SPAN",{});var r=k(e);t=V(r,"*"),r.forEach($),this.h()},h:function(){S(e,x,90,18,3488)},m:function(l,r){T(l,e,r),u(e,t)},p:ee,d:function(l){l&&$(e)}};return F("SvelteRegisterBlock",{block:i,id:dt.name,type:"else",source:"(90:16) {:else}",ctx:n}),i}function gt(n){let e,t=n[22].SemVersion+"",i;const s={c:function(){e=y("span"),i=R(t),this.h()},l:function(r){e=w(r,"SPAN",{});var c=k(e);i=V(c,t),c.forEach($),this.h()},h:function(){S(e,x,88,18,3409)},m:function(r,c){T(r,e,c),u(e,i)},p:function(r,c){c&128&&t!==(t=r[22].SemVersion+"")&&O(i,t)},d:function(r){r&&$(e)}};return F("SvelteRegisterBlock",{block:s,id:gt.name,type:"if",source:"(88:16) {#if dependency.SemVersion}",ctx:n}),s}function Be(n){let e,t=n[22].Name+"",i,s,l,r,c;function p(d,g){return d[22].SemVersion?gt:dt}let o=p(n),f=o(n);const m={c:function(){e=y("strong"),i=R(t),s=R(":"),l=B(),f.c(),r=B(),c=y("br"),this.h()},l:function(g){e=w(g,"STRONG",{});var a=k(e);i=V(a,t),s=V(a,":"),a.forEach($),l=N(g),f.l(g),r=N(g),c=w(g,"BR",{}),this.h()},h:function(){S(e,x,86,16,3310),S(c,x,92,16,3541)},m:function(g,a){T(g,e,a),u(e,i),u(e,s),T(g,l,a),f.m(g,a),T(g,r,a),T(g,c,a)},p:function(g,a){a&128&&t!==(t=g[22].Name+"")&&O(i,t),o===(o=p(g))&&f?f.p(g,a):(f.d(1),f=o(g),f&&(f.c(),f.m(r.parentNode,r)))},d:function(g){g&&$(e),g&&$(l),f.d(g),g&&$(r),g&&$(c)}};return F("SvelteRegisterBlock",{block:m,id:Be.name,type:"each",source:"(86:14) {#each $modMeta.uplugin.Plugins as dependency}",ctx:n}),m}function ht(n){let e,t,i=n[6]("version-form.missing-sem-version")+"",s;const l={c:function(){e=y("p"),t=y("span"),s=R(i),this.h()},l:function(c){e=w(c,"P",{});var p=k(e);t=w(p,"SPAN",{class:!0});var o=k(t);s=V(o,i),o.forEach($),p.forEach($),this.h()},h:function(){I(t,"class","text-yellow-600"),S(t,x,107,14,3935),S(e,x,106,12,3917)},m:function(c,p){T(c,e,p),u(e,t),u(t,s)},p:function(c,p){p&64&&i!==(i=c[6]("version-form.missing-sem-version")+"")&&O(s,i)},d:function(c){c&&$(e)}};return F("SvelteRegisterBlock",{block:l,id:ht.name,type:"else",source:"(106:10) {:else}",ctx:n}),l}function $t(n){let e,t,i=n[6]("objects")+"",s,l,r,c,p=n[7].objects;be(p);let o=[];for(let m=0;m<p.length;m+=1)o[m]=Ne(et(n,p,m));const f={c:function(){e=y("p"),t=y("strong"),s=R(i),l=R(":"),r=y("br"),c=B();for(let d=0;d<o.length;d+=1)o[d].c();this.h()},l:function(d){e=w(d,"P",{});var g=k(e);t=w(g,"STRONG",{});var a=k(t);s=V(a,i),l=V(a,":"),a.forEach($),r=w(g,"BR",{}),c=N(g);for(let b=0;b<o.length;b+=1)o[b].l(g);g.forEach($),this.h()},h:function(){S(t,x,99,14,3698),S(r,x,99,47,3731),S(e,x,98,12,3680)},m:function(d,g){T(d,e,g),u(e,t),u(t,s),u(t,l),u(e,r),u(e,c);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null)},p:function(d,g){if(g&64&&i!==(i=d[6]("objects")+"")&&O(s,i),g&128){p=d[7].objects,be(p);let a;for(a=0;a<p.length;a+=1){const b=et(d,p,a);o[a]?o[a].p(b,g):(o[a]=Ne(b),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=p.length}},d:function(d){d&&$(e),it(o,d)}};return F("SvelteRegisterBlock",{block:f,id:$t.name,type:"if",source:"(98:10) {#if $modMeta.objects && $modMeta.objects.length > 0}",ctx:n}),f}function Ne(n){let e,t=n[19]+"",i,s,l;const r={c:function(){e=y("span"),i=R(t),s=B(),l=y("br"),this.h()},l:function(p){e=w(p,"SPAN",{});var o=k(e);i=V(o,t),o.forEach($),s=N(p),l=w(p,"BR",{}),this.h()},h:function(){S(e,x,101,16,3803),S(l,x,102,16,3841)},m:function(p,o){T(p,e,o),u(e,i),T(p,s,o),T(p,l,o)},p:function(p,o){o&128&&t!==(t=p[19]+"")&&O(i,t)},d:function(p){p&&$(e),p&&$(s),p&&$(l)}};return F("SvelteRegisterBlock",{block:r,id:Ne.name,type:"each",source:"(101:14) {#each $modMeta.objects as object}",ctx:n}),r}function vt(n){let e,t=(n[18]||"")+"",i;const s={c:function(){e=y("span"),i=R(t),this.h()},l:function(r){e=w(r,"SPAN",{class:!0});var c=k(e);i=V(c,t),c.forEach($),this.h()},h:function(){I(e,"class","validation-message"),S(e,x,126,10,4482)},m:function(r,c){T(r,e,c),u(e,i)},p:function(r,c){c&262144&&t!==(t=(r[18]||"")+"")&&O(i,t)},d:function(r){r&&$(e)}};return F("SvelteRegisterBlock",{block:s,id:vt.name,type:"slot",source:'(126:8) <ValidationMessage for=\\"changelog\\" let:messages={message}>',ctx:n}),s}function bt(n){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return F("SvelteRegisterBlock",{block:e,id:bt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function yt(n){let e,t=n[17]+"";const i={c:function(){e=y("div"),this.h()},l:function(l){e=w(l,"DIV",{class:!0});var r=k(e);r.forEach($),this.h()},h:function(){I(e,"class","markdown-content right s-Aj89xH93RQKp"),S(e,x,132,10,4743)},m:function(l,r){T(l,e,r),e.innerHTML=t},p:function(l,r){r&32&&t!==(t=l[17]+"")&&(e.innerHTML=t)},d:function(l){l&&$(e)}};return F("SvelteRegisterBlock",{block:i,id:yt.name,type:"then",source:'(132:55)            <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:n}),i}function wt(n){const e={c:ee,l:ee,m:ee,p:ee,d:ee};return F("SvelteRegisterBlock",{block:e,id:wt.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function St(n){let e;const t={c:function(){e=R(n[1])},l:function(s){e=V(s,n[1])},m:function(s,l){T(s,e,l)},p:function(s,l){l&2&&O(e,s[1])},d:function(s){s&&$(e)}};return F("SvelteRegisterBlock",{block:t,id:St.name,type:"slot",source:'(143:6) <Button variant=\\"outlined\\" type=\\"submit\\" {disabled}>',ctx:n}),t}function Te(n){let e,t,i,s,l,r,c,p,o,f,m,d,g,a,b,H,P,v,E=n[6]("preview")+"",D,_,G,z,W,h,j=n[6]("version-form.agreement-to")+"",te,fe,q,ue=n[6]("content-policy")+"",C,M,L,ne,Z,ie,oe,he;function xt(Q){n[14](Q)}let je={label:n[6]("stability"),$$slots:{default:[at]},$$scope:{ctx:n}};n[3].stability!==void 0&&(je.value=n[3].stability),s=new st({props:je,$$inline:!0}),Ie.push(()=>De(s,"value",xt)),c=new ye({props:{for:"stability",$$slots:{default:[ft,({messages:Q})=>({18:Q}),({messages:Q})=>Q?262144:0]},$$scope:{ctx:n}},$$inline:!0});let U=!n[2]&&Re(n);function kt(Q){n[15](Q)}let Ae={textarea:!0,class:"vertical-textarea",label:n[6]("changelog"),required:!0,input$rows:10};n[3].changelog!==void 0&&(Ae.value=n[3].changelog),d=new ot({props:Ae,$$inline:!0}),Ie.push(()=>De(d,"value",kt)),b=new ye({props:{for:"changelog",$$slots:{default:[vt,({messages:Q})=>({18:Q}),({messages:Q})=>Q?262144:0]},$$scope:{ctx:n}},$$inline:!0});let X={ctx:n,current:null,token:null,hasCatch:!1,pending:wt,then:yt,catch:bt,value:17};ze(z=xe(n[5]),X),Z=new nt({props:{variant:"outlined",type:"submit",disabled:n[4],$$slots:{default:[St]},$$scope:{ctx:n}},$$inline:!0});const Fe={c:function(){e=y("form"),t=y("div"),i=y("div"),le(s.$$.fragment),r=B(),le(c.$$.fragment),p=B(),U&&U.c(),o=B(),f=y("div"),m=y("div"),le(d.$$.fragment),a=B(),le(b.$$.fragment),H=B(),P=y("div"),v=y("span"),D=R(E),_=R(":"),G=B(),X.block.c(),W=B(),h=y("div"),te=R(j),fe=B(),q=y("a"),C=R(ue),M=R("."),L=B(),ne=y("div"),le(Z.$$.fragment),this.h()},l:function(K){e=w(K,"FORM",{});var A=k(e);t=w(A,"DIV",{class:!0});var J=k(t);i=w(J,"DIV",{class:!0});var de=k(i);re(s.$$.fragment,de),r=N(de),re(c.$$.fragment,de),de.forEach($),p=N(J),U&&U.l(J),o=N(J),f=w(J,"DIV",{class:!0});var me=k(f);m=w(me,"DIV",{class:!0});var ge=k(m);re(d.$$.fragment,ge),a=N(ge),re(b.$$.fragment,ge),ge.forEach($),H=N(me),P=w(me,"DIV",{class:!0});var pe=k(P);v=w(pe,"SPAN",{});var we=k(v);D=V(we,E),_=V(we,":"),we.forEach($),G=N(pe),X.block.l(pe),pe.forEach($),me.forEach($),W=N(J),h=w(J,"DIV",{class:!0});var $e=k(h);te=V($e,j),fe=N($e),q=w($e,"A",{href:!0,class:!0});var Me=k(q);C=V(Me,ue),Me.forEach($),M=V($e,"."),$e.forEach($),L=N(J),ne=w(J,"DIV",{});var Oe=k(ne);re(Z.$$.fragment,Oe),Oe.forEach($),J.forEach($),A.forEach($),this.h()},h:function(){I(i,"class","grid grid-flow-row gap-2"),S(i,x,38,4,1413),I(m,"class","grid grid-flow-row gap-2 auto-rows-max"),S(m,x,117,6,4157),S(v,x,130,8,4647),I(P,"class","grid grid-flow-row gap-2 auto-rows-max"),S(P,x,129,6,4586),I(f,"class","grid gap-6 split s-Aj89xH93RQKp"),S(f,x,116,4,4120),I(q,"href","/content-policy"),I(q,"class","s-Aj89xH93RQKp"),S(q,x,138,40,4920),I(h,"class","text-muted"),S(h,x,137,4,4855),S(ne,x,141,4,4990),I(t,"class","grid grid-flow-row gap-6"),S(t,x,37,2,1370),S(e,x,36,0,1352)},m:function(K,A){T(K,e,A),u(e,t),u(t,i),ce(s,i,null),u(i,r),ce(c,i,null),u(t,p),U&&U.m(t,null),u(t,o),u(t,f),u(f,m),ce(d,m,null),u(m,a),ce(b,m,null),u(f,H),u(f,P),u(P,v),u(v,D),u(v,_),u(P,G),X.block.m(P,X.anchor=null),X.mount=()=>P,X.anchor=null,u(t,W),u(t,h),u(h,te),u(h,fe),u(h,q),u(q,C),u(h,M),u(t,L),u(t,ne),ce(Z,ne,null),ie=!0,oe||(he=Bt(n[9].call(null,e)),oe=!0)},p:function(K,[A]){n=K;const J={};A&64&&(J.label=n[6]("stability")),A&33554432&&(J.$$scope={dirty:A,ctx:n}),!l&&A&8&&(l=!0,J.value=n[3].stability,qe(()=>l=!1)),s.$set(J);const de={};A&33816576&&(de.$$scope={dirty:A,ctx:n}),c.$set(de),n[2]?U&&(Nt(),se(U,1,1,()=>{U=null}),Tt()):U?(U.p(n,A),A&4&&Y(U,1)):(U=Re(n),U.c(),Y(U,1),U.m(t,o));const me={};A&64&&(me.label=n[6]("changelog")),!g&&A&8&&(g=!0,me.value=n[3].changelog,qe(()=>g=!1)),d.$set(me);const ge={};A&33816576&&(ge.$$scope={dirty:A,ctx:n}),b.$set(ge),(!ie||A&64)&&E!==(E=n[6]("preview")+"")&&O(D,E),X.ctx=n,A&32&&z!==(z=xe(n[5]))&&ze(z,X)||jt(X,n,A),(!ie||A&64)&&j!==(j=n[6]("version-form.agreement-to")+"")&&O(te,j),(!ie||A&64)&&ue!==(ue=n[6]("content-policy")+"")&&O(C,ue);const pe={};A&16&&(pe.disabled=n[4]),A&33554434&&(pe.$$scope={dirty:A,ctx:n}),Z.$set(pe)},i:function(K){ie||(Y(s.$$.fragment,K),Y(c.$$.fragment,K),Y(U),Y(d.$$.fragment,K),Y(b.$$.fragment,K),Y(Z.$$.fragment,K),ie=!0)},o:function(K){se(s.$$.fragment,K),se(c.$$.fragment,K),se(U),se(d.$$.fragment,K),se(b.$$.fragment,K),se(Z.$$.fragment,K),ie=!1},d:function(K){K&&$(e),ae(s),ae(c),U&&U.d(),ae(d),ae(b),X.block.d(),X.token=null,X=null,ae(Z),oe=!1,he()}};return F("SvelteRegisterBlock",{block:Fe,id:Te.name,type:"component",source:"",ctx:n}),Fe}function Ut(n,e,t){let i,s,l,r=ee,c=()=>(r(),r=At(m,h=>t(6,l=h)),m),p;n.$$.on_destroy.push(()=>r());let{$$slots:o={},$$scope:f}=e;Pt("VersionForm",o,[]);const{t:m}=Ge();Se(m,"t"),c();let{modReference:d}=e,{onSubmit:g}=e,{initialValues:a={changelog:"",stability:Ze.Alpha}}=e,{submitText:b=l("entry.create")}=e,{editing:H=!1}=e;const P=Le();Se(P,"modMeta"),_e(n,P,h=>t(7,p=h));let v=!1;const E=Ye(d,P),{form:D,data:_}=Ke({initialValues:a,extend:[We({schema:E}),Ce],onSubmit:h=>{t(4,v=!0),g(Xe(h,E)).then(()=>t(4,v=!1))}});Se(_,"data"),_e(n,_,h=>t(3,s=h)),n.$$.on_mount.push(function(){d===void 0&&!("modReference"in e||n.$$.bound[n.$$.props.modReference])&&console.warn("<VersionForm> was created without expected prop 'modReference'"),g===void 0&&!("onSubmit"in e||n.$$.bound[n.$$.props.onSubmit])&&console.warn("<VersionForm> was created without expected prop 'onSubmit'")});const G=["modReference","onSubmit","initialValues","submitText","editing"];Object.keys(e).forEach(h=>{!~G.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<VersionForm> was created with unknown prop '${h}'`)});function z(h){n.$$.not_equal(s.stability,h)&&(s.stability=h,_.set(s))}function W(h){n.$$.not_equal(s.changelog,h)&&(s.changelog=h,_.set(s))}return n.$$set=h=>{"modReference"in h&&t(11,d=h.modReference),"onSubmit"in h&&t(12,g=h.onSubmit),"initialValues"in h&&t(13,a=h.initialValues),"submitText"in h&&t(1,b=h.submitText),"editing"in h&&t(2,H=h.editing)},n.$capture_state=()=>({createForm:Ke,validator:We,reporter:Ce,ValidationMessage:ye,constructVersionSchema:Ye,trimNonSchema:Xe,markdown:xe,writable:Le,Textfield:ot,Button:nt,VersionStabilities:Ze,Select:st,Option:ve,prettyBytes:ke,getTranslate:Ge,t:m,modReference:d,onSubmit:g,initialValues:a,submitText:b,editing:H,modMeta:P,disabled:v,versionSchema:E,form:D,data:_,preview:i,$data:s,$t:l,$modMeta:p}),n.$inject_state=h=>{"modReference"in h&&t(11,d=h.modReference),"onSubmit"in h&&t(12,g=h.onSubmit),"initialValues"in h&&t(13,a=h.initialValues),"submitText"in h&&t(1,b=h.submitText),"editing"in h&&t(2,H=h.editing),"disabled"in h&&t(4,v=h.disabled),"preview"in h&&t(5,i=h.preview)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&8&&t(5,i=s.changelog||"")},[m,b,H,s,v,i,l,p,P,D,_,d,g,a,z,W]}class Yt extends Rt{constructor(e){super(e),Vt(this,e,Ut,Te,Et,{t:0,modReference:11,onSubmit:12,initialValues:13,submitText:1,editing:2}),F("SvelteRegisterComponent",{component:this,tagName:"VersionForm",options:e,id:Te.name})}get t(){return this.$$.ctx[0]}set t(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get modReference(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set modReference(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Yt as V};
//# sourceMappingURL=VersionForm.77daaa82.js.map
