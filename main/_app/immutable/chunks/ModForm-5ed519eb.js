import{S as ve,i as we,s as be,b as Mt,j as S,q as O,f as o,aC as Se,al as xe,aD as Ne,an as _e,e as w,aa as H,c as b,d as _,ab as R,a7 as v,a5 as f,a as P,g as A,ac as Q,u as lt,ad as st,bd as ae,aP as ye,aH as Xt,Z as N,_ as q,$ as U,J as qe,ae as at,be as Ue,m as g,k as At,t as E,l as St,a1 as L,aQ as Ee,aM as Le,b2 as ke}from"./vendor-93f46a94.js";import{o as Pt,s as rt,a as Lt,b as Me,l as Te,d as ie,e as He,T as _t,V as bt,c as Re,v as We,r as ze,f as Ce}from"./forms-5fcb6172.js";import{t as Oe}from"./forms-2903de53.js";import{m as ne}from"./markdown-6a2ff7f0.js";import{t as Ze,C as oe}from"./graphql-8819e72c.js";import{a as fe}from"./paths-1c47712a.js";import{M as je}from"./ModCompatibilityEdit-e972ffff.js";const ce=Pt({name:rt().min(3).max(32),mod_reference:rt().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:rt().min(16).max(128),full_description:Lt(rt()),logo:Lt(Me().refine(s=>"name"in s&&"size"in s&&"type"in s)),source_url:rt().url().optional().or(Te("")),authors:Lt(Pt({role:rt(),user_id:rt()}).array()),compatibility:Lt(Pt({EA:Pt({state:rt(),note:ie()}),EXP:Pt({state:rt(),note:ie()})})),hidden:He()});function Be(s){let t,r;return{c(){t=w("p"),r=H("Unknown User ID"),this.h()},l(l){t=b(l,"P",{class:!0});var e=_(t);r=R(e,"Unknown User ID"),e.forEach(o),this.h()},h(){v(t,"class","mr-2 whitespace-nowrap")},m(l,e){S(l,t,e),f(t,r)},p:O,d(l){l&&o(t)}}}function Ye(s){let t,r,l,e,a,i,h=s[0].data.getUser.username+"",m;return{c(){t=w("div"),r=w("div"),e=P(),a=w("div"),i=w("span"),m=H(h),this.h()},l(p){t=b(p,"DIV",{class:!0});var c=_(t);r=b(c,"DIV",{class:!0,style:!0}),_(r).forEach(o),e=A(c),a=b(c,"DIV",{class:!0});var x=_(a);i=b(x,"SPAN",{class:!0});var D=_(i);m=R(D,h),D.forEach(o),x.forEach(o),c.forEach(o),this.h()},h(){v(r,"class","rounded-full bg-cover w-7 h-7"),v(r,"style",l=`background-image: url("${s[0].data.getUser.avatar||fe+"/images/no_image.webp"}")`),v(i,"class","text-yellow-500"),v(a,"class","grid grid-flow-row"),v(t,"class","grid grid-flow-col auto-cols-max gap-x-2 mr-2")},m(p,c){S(p,t,c),f(t,r),f(t,e),f(t,a),f(a,i),f(i,m)},p(p,c){c&1&&l!==(l=`background-image: url("${p[0].data.getUser.avatar||fe+"/images/no_image.webp"}")`)&&v(r,"style",l),c&1&&h!==(h=p[0].data.getUser.username+"")&&Q(m,h)},d(p){p&&o(t)}}}function Fe(s){let t,r,l=s[0].error.message+"",e;return{c(){t=w("p"),r=H("Oh no... "),e=H(l),this.h()},l(a){t=b(a,"P",{class:!0});var i=_(t);r=R(i,"Oh no... "),e=R(i,l),i.forEach(o),this.h()},h(){v(t,"class","mr-2")},m(a,i){S(a,t,i),f(t,r),f(t,e)},p(a,i){i&1&&l!==(l=a[0].error.message+"")&&Q(e,l)},d(a){a&&o(t)}}}function Je(s){let t,r;return{c(){t=w("p"),r=H("Loading..."),this.h()},l(l){t=b(l,"P",{class:!0});var e=_(t);r=R(e,"Loading..."),e.forEach(o),this.h()},h(){v(t,"class","mr-2")},m(l,e){S(l,t,e),f(t,r)},p:O,d(l){l&&o(t)}}}function Qe(s){let t;function r(a,i){return a[0].fetching?Je:a[0].error?Fe:a[0].data.getUser?Ye:Be}let l=r(s),e=l(s);return{c(){e.c(),t=Mt()},l(a){e.l(a),t=Mt()},m(a,i){e.m(a,i),S(a,t,i)},p(a,[i]){l===(l=r(a))&&e?e.p(a,i):(e.d(1),e=l(a),e&&(e.c(),e.m(t.parentNode,t)))},i:O,o:O,d(a){e.d(a),a&&o(t)}}}function Xe(s,t,r){let l,{id:e}=t;const a=Se(Ze,{user:e});return xe(s,a,i=>r(0,l=i)),Ne(a),s.$$set=i=>{"id"in i&&r(2,e=i.id)},s.$$.update=()=>{s.$$.dirty&5&&(_e(a,l.variables.user=e,l),l.reexecute())},[l,a,e]}class Ge extends ve{constructor(t){super(),we(this,t,Xe,Qe,be,{id:2})}}function ue(s,t,r){const l=s.slice();return l[22]=t[r],l[23]=t,l[24]=r,l}function Ke(s){let t,r=(s[25]||"")+"",l;return{c(){t=w("span"),l=H(r),this.h()},l(e){t=b(e,"SPAN",{class:!0});var a=_(t);l=R(a,r),a.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,a){S(e,t,a),f(t,l)},p(e,a){a&33554432&&r!==(r=(e[25]||"")+"")&&Q(l,r)},d(e){e&&o(t)}}}function $e(s){let t;return{c(){t=H(`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},l(r){t=R(r,`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},m(r,l){S(r,t,l)},d(r){r&&o(t)}}}function tr(s){let t,r=!s[1]&&$e();return{c(){r&&r.c(),t=Mt()},l(l){r&&r.l(l),t=Mt()},m(l,e){r&&r.m(l,e),S(l,t,e)},p(l,e){l[1]?r&&(r.d(1),r=null):r||(r=$e(),r.c(),r.m(t.parentNode,t))},d(l){r&&r.d(l),l&&o(t)}}}function er(s){let t,r;return t=new Ce({props:{persistent:!s[1],slot:"helper",$$slots:{default:[tr]},$$scope:{ctx:s}}}),{c(){N(t.$$.fragment)},l(l){q(t.$$.fragment,l)},m(l,e){U(t,l,e),r=!0},p(l,e){const a={};e&2&&(a.persistent=!l[1]),e&134217730&&(a.$$scope={dirty:e,ctx:l}),t.$set(a)},i(l){r||(g(t.$$.fragment,l),r=!0)},o(l){E(t.$$.fragment,l),r=!1},d(l){L(t,l)}}}function rr(s){let t,r=(s[25]||"")+"",l;return{c(){t=w("span"),l=H(r),this.h()},l(e){t=b(e,"SPAN",{class:!0});var a=_(t);l=R(a,r),a.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,a){S(e,t,a),f(t,l)},p(e,a){a&33554432&&r!==(r=(e[25]||"")+"")&&Q(l,r)},d(e){e&&o(t)}}}function lr(s){let t,r=(s[25]||"")+"",l;return{c(){t=w("span"),l=H(r),this.h()},l(e){t=b(e,"SPAN",{class:!0});var a=_(t);l=R(a,r),a.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,a){S(e,t,a),f(t,l)},p(e,a){a&33554432&&r!==(r=(e[25]||"")+"")&&Q(l,r)},d(e){e&&o(t)}}}function sr(s){let t,r=(s[25]||"")+"",l;return{c(){t=w("span"),l=H(r),this.h()},l(e){t=b(e,"SPAN",{class:!0});var a=_(t);l=R(a,r),a.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,a){S(e,t,a),f(t,l)},p(e,a){a&33554432&&r!==(r=(e[25]||"")+"")&&Q(l,r)},d(e){e&&o(t)}}}function ar(s){return{c:O,l:O,m:O,p:O,d:O}}function ir(s){let t,r=s[26]+"";return{c(){t=w("div"),this.h()},l(l){t=b(l,"DIV",{class:!0});var e=_(t);e.forEach(o),this.h()},h(){v(t,"class","markdown-content right svelte-k92wki")},m(l,e){S(l,t,e),t.innerHTML=r},p(l,e){e&16&&r!==(r=l[26]+"")&&(t.innerHTML=r)},d(l){l&&o(t)}}}function nr(s){return{c:O,l:O,m:O,p:O,d:O}}function or(s){let t,r=(s[25]||"")+"",l;return{c(){t=w("span"),l=H(r),this.h()},l(e){t=b(e,"SPAN",{class:!0});var a=_(t);l=R(a,r),a.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,a){S(e,t,a),f(t,l)},p(e,a){a&33554432&&r!==(r=(e[25]||"")+"")&&Q(l,r)},d(e){e&&o(t)}}}function fr(s){let t,r=(s[25]||"")+"",l;return{c(){t=w("span"),l=H(r),this.h()},l(e){t=b(e,"SPAN",{class:!0});var a=_(t);l=R(a,r),a.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,a){S(e,t,a),f(t,l)},p(e,a){a&33554432&&r!==(r=(e[25]||"")+"")&&Q(l,r)},d(e){e&&o(t)}}}function cr(s){let t,r,l;function e(i){s[16](i)}let a={};return s[2].hidden!==void 0&&(a.checked=s[2].hidden),t=new Ee({props:a}),lt.push(()=>st(t,"checked",e)),{c(){N(t.$$.fragment)},l(i){q(t.$$.fragment,i)},m(i,h){U(t,i,h),l=!0},p(i,h){const m={};!r&&h&4&&(r=!0,m.checked=i[2].hidden,at(()=>r=!1)),t.$set(m)},i(i){l||(g(t.$$.fragment,i),l=!0)},o(i){E(t.$$.fragment,i),l=!1},d(i){L(t,i)}}}function ur(s){let t,r;return{c(){t=w("span"),r=H("Hidden"),this.h()},l(l){t=b(l,"SPAN",{slot:!0});var e=_(t);r=R(e,"Hidden"),e.forEach(o),this.h()},h(){v(t,"slot","label")},m(l,e){S(l,t,e),f(t,r)},p:O,d(l){l&&o(t)}}}function $r(s){let t,r=(s[25]||"")+"",l;return{c(){t=w("span"),l=H(r),this.h()},l(e){t=b(e,"SPAN",{class:!0});var a=_(t);l=R(a,r),a.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,a){S(e,t,a),f(t,l)},p(e,a){a&33554432&&r!==(r=(e[25]||"")+"")&&Q(l,r)},d(e){e&&o(t)}}}function me(s){let t,r,l,e,a,i,h,m,p,c,x,D;r=new ye({props:{align:"start",$$slots:{default:[mr]},$$scope:{ctx:s}}});let u=s[3]&&de(s);c=new Xt({props:{type:"button",$$slots:{default:[pr]},$$scope:{ctx:s}}}),c.$on("click",s[7]);let z=s[2].authors,k=[];for(let $=0;$<z.length;$+=1)k[$]=he(ue(s,z,$));const Z=$=>E(k[$],1,1,()=>{k[$]=null});return{c(){t=w("div"),N(r.$$.fragment),l=P(),u&&u.c(),e=P(),a=w("div"),i=w("div"),h=w("h4"),m=H("Authors"),p=P(),N(c.$$.fragment),x=P();for(let $=0;$<k.length;$+=1)k[$].c();this.h()},l($){t=b($,"DIV",{});var I=_(t);q(r.$$.fragment,I),I.forEach(o),l=A($),u&&u.l($),e=A($),a=b($,"DIV",{class:!0});var M=_(a);i=b(M,"DIV",{class:!0});var j=_(i);h=b(j,"H4",{class:!0});var V=_(h);m=R(V,"Authors"),V.forEach(o),p=A(j),q(c.$$.fragment,j),j.forEach(o),x=A(M);for(let C=0;C<k.length;C+=1)k[C].l(M);M.forEach(o),this.h()},h(){v(h,"class","mr-4"),v(i,"class","flex items-baseline"),v(a,"class","grid grid-flow-row gap-2")},m($,I){S($,t,I),U(r,t,null),S($,l,I),u&&u.m($,I),S($,e,I),S($,a,I),f(a,i),f(i,h),f(h,m),f(i,p),U(c,i,null),f(a,x);for(let M=0;M<k.length;M+=1)k[M].m(a,null);D=!0},p($,I){const M={};I&134217740&&(M.$$scope={dirty:I,ctx:$}),r.$set(M),$[3]?u?(u.p($,I),I&8&&g(u,1)):(u=de($),u.c(),g(u,1),u.m(e.parentNode,e)):u&&(At(),E(u,1,1,()=>{u=null}),St());const j={};if(I&134217728&&(j.$$scope={dirty:I,ctx:$}),c.$set(j),I&260){z=$[2].authors;let V;for(V=0;V<z.length;V+=1){const C=ue($,z,V);k[V]?(k[V].p(C,I),g(k[V],1)):(k[V]=he(C),k[V].c(),g(k[V],1),k[V].m(a,null))}for(At(),V=z.length;V<k.length;V+=1)Z(V);St()}},i($){if(!D){g(r.$$.fragment,$),g(u),g(c.$$.fragment,$);for(let I=0;I<z.length;I+=1)g(k[I]);D=!0}},o($){E(r.$$.fragment,$),E(u),E(c.$$.fragment,$),k=k.filter(Boolean);for(let I=0;I<k.length;I+=1)E(k[I]);D=!1},d($){$&&o(t),L(r),$&&o(l),u&&u.d($),$&&o(e),$&&o(a),L(c),Le(k,$)}}}function mr(s){let t,r,l,e,a,i;function h(p){s[17](p)}let m={};return s[3]!==void 0&&(m.checked=s[3]),t=new Ee({props:m}),lt.push(()=>st(t,"checked",h)),t.$on("SMUISwitch:change",s[18]),{c(){N(t.$$.fragment),l=P(),e=w("span"),a=H("Edit compatibility information")},l(p){q(t.$$.fragment,p),l=A(p),e=b(p,"SPAN",{});var c=_(e);a=R(c,"Edit compatibility information"),c.forEach(o)},m(p,c){U(t,p,c),S(p,l,c),S(p,e,c),f(e,a),i=!0},p(p,c){const x={};!r&&c&8&&(r=!0,x.checked=p[3],at(()=>r=!1)),t.$set(x)},i(p){i||(g(t.$$.fragment,p),i=!0)},o(p){E(t.$$.fragment,p),i=!1},d(p){L(t,p),p&&o(l),p&&o(e)}}}function de(s){let t,r,l;function e(i){s[19](i)}let a={};return s[2].compatibility!==void 0&&(a.compatibilityInfo=s[2].compatibility),t=new je({props:a}),lt.push(()=>st(t,"compatibilityInfo",e)),{c(){N(t.$$.fragment)},l(i){q(t.$$.fragment,i)},m(i,h){U(t,i,h),l=!0},p(i,h){const m={};!r&&h&4&&(r=!0,m.compatibilityInfo=i[2].compatibility,at(()=>r=!1)),t.$set(m)},i(i){l||(g(t.$$.fragment,i),l=!0)},o(i){E(t.$$.fragment,i),l=!1},d(i){L(t,i)}}}function dr(s){let t;return{c(){t=H("Add")},l(r){t=R(r,"Add")},m(r,l){S(r,t,l)},d(r){r&&o(t)}}}function pr(s){let t,r;return t=new ke({props:{$$slots:{default:[dr]},$$scope:{ctx:s}}}),{c(){N(t.$$.fragment)},l(l){q(t.$$.fragment,l)},m(l,e){U(t,l,e),r=!0},p(l,e){const a={};e&134217728&&(a.$$scope={dirty:e,ctx:l}),t.$set(a)},i(l){r||(g(t.$$.fragment,l),r=!0)},o(l){E(t.$$.fragment,l),r=!1},d(l){L(t,l)}}}function pe(s){let t,r;return t=new Ge({props:{id:s[2].authors[s[24]].user_id}}),{c(){N(t.$$.fragment)},l(l){q(t.$$.fragment,l)},m(l,e){U(t,l,e),r=!0},p(l,e){const a={};e&4&&(a.id=l[2].authors[l[24]].user_id),t.$set(a)},i(l){r||(g(t.$$.fragment,l),r=!0)},o(l){E(t.$$.fragment,l),r=!1},d(l){L(t,l)}}}function ge(s){let t,r;function l(){return s[21](s[24])}return t=new Xt({props:{type:"button",variant:"raised",$$slots:{default:[hr]},$$scope:{ctx:s}}}),t.$on("click",l),{c(){N(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,a){U(t,e,a),r=!0},p(e,a){s=e;const i={};a&134217728&&(i.$$scope={dirty:a,ctx:s}),t.$set(i)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){L(t,e)}}}function gr(s){let t;return{c(){t=H("Remove")},l(r){t=R(r,"Remove")},m(r,l){S(r,t,l)},d(r){r&&o(t)}}}function hr(s){let t,r;return t=new ke({props:{$$slots:{default:[gr]},$$scope:{ctx:s}}}),{c(){N(t.$$.fragment)},l(l){q(t.$$.fragment,l)},m(l,e){U(t,l,e),r=!0},p(l,e){const a={};e&134217728&&(a.$$scope={dirty:e,ctx:l}),t.$set(a)},i(l){r||(g(t.$$.fragment,l),r=!0)},o(l){E(t.$$.fragment,l),r=!1},d(l){L(t,l)}}}function he(s){let t,r,l,e,a,i,h,m=s[2].authors[s[24]].user_id&&pe(s);function p(D){s[20](D,s[24])}let c={label:"User ID",class:"mr-4 w-full",disabled:s[22].role==="creator"};s[2].authors[s[24]].user_id!==void 0&&(c.value=s[2].authors[s[24]].user_id),l=new _t({props:c}),lt.push(()=>st(l,"value",p));let x=s[22].role!=="creator"&&ge(s);return{c(){t=w("div"),m&&m.c(),r=P(),N(l.$$.fragment),a=P(),x&&x.c(),i=P(),this.h()},l(D){t=b(D,"DIV",{class:!0});var u=_(t);m&&m.l(u),r=A(u),q(l.$$.fragment,u),a=A(u),x&&x.l(u),i=A(u),u.forEach(o),this.h()},h(){v(t,"class","flex items-baseline")},m(D,u){S(D,t,u),m&&m.m(t,null),f(t,r),U(l,t,null),f(t,a),x&&x.m(t,null),f(t,i),h=!0},p(D,u){s=D,s[2].authors[s[24]].user_id?m?(m.p(s,u),u&4&&g(m,1)):(m=pe(s),m.c(),g(m,1),m.m(t,r)):m&&(At(),E(m,1,1,()=>{m=null}),St());const z={};u&4&&(z.disabled=s[22].role==="creator"),!e&&u&4&&(e=!0,z.value=s[2].authors[s[24]].user_id,at(()=>e=!1)),l.$set(z),s[22].role!=="creator"?x?(x.p(s,u),u&4&&g(x,1)):(x=ge(s),x.c(),g(x,1),x.m(t,i)):x&&(At(),E(x,1,1,()=>{x=null}),St())},i(D){h||(g(m),g(l.$$.fragment,D),g(x),h=!0)},o(D){E(m),E(l.$$.fragment,D),E(x),h=!1},d(D){D&&o(t),m&&m.d(),L(l),x&&x.d()}}}function vr(s){let t;return{c(){t=H(s[0])},l(r){t=R(r,s[0])},m(r,l){S(r,t,l)},p(r,l){l&1&&Q(t,r[0])},d(r){r&&o(t)}}}function wr(s){let t,r,l,e,a,i,h,m,p,c,x,D,u,z,k,Z,$,I,M,j,V,C,Y,yt,d,F,Tt,X,Et,Ht,Rt,Nt,Wt,J,xt,zt,Ct,G,Ot,it,Zt,nt,K,jt,Bt,ot,Yt,ft,ct,Ft,ut,Jt,qt,kt,$t,Ut,Qt,Gt;function Ie(n){s[11](n)}let Kt={label:"Name",required:!0};s[2].name!==void 0&&(Kt.value=s[2].name),e=new _t({props:Kt}),lt.push(()=>st(e,"value",Ie)),h=new bt({props:{for:"name",$$slots:{default:[Ke,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});function Ve(n){s[12](n)}let te={label:"Mod Reference",required:!0,disabled:s[1],$$slots:{helper:[er]},$$scope:{ctx:s}};s[2].mod_reference!==void 0&&(te.value=s[2].mod_reference),c=new _t({props:te}),lt.push(()=>st(c,"value",Ve)),u=new bt({props:{for:"mod_reference",$$slots:{default:[rr,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});function De(n){s[13](n)}let ee={label:"Short Description",required:!0};s[2].short_description!==void 0&&(ee.value=s[2].short_description),Z=new _t({props:ee}),lt.push(()=>st(Z,"value",De)),M=new bt({props:{for:"short_description",$$slots:{default:[lr,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});function Pe(n){s[14](n)}let re={textarea:!0,class:"vertical-textarea",label:"Full Description",required:!0,input$rows:10};s[2].full_description!==void 0&&(re.value=s[2].full_description),Y=new _t({props:re}),lt.push(()=>st(Y,"value",Pe)),F=new bt({props:{for:"full_description",$$slots:{default:[sr,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});let B={ctx:s,current:null,token:null,hasCatch:!1,pending:nr,then:ir,catch:ar,value:26};ae(Nt=ne(s[4]),B),it=new bt({props:{for:"logo",$$slots:{default:[or,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});function Ae(n){s[15](n)}let le={label:"Source URL"};s[2].source_url!==void 0&&(le.value=s[2].source_url),K=new _t({props:le}),lt.push(()=>st(K,"value",Ae)),ot=new bt({props:{for:"source_url",$$slots:{default:[fr,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}}),ct=new ye({props:{$$slots:{label:[ur],default:[cr]},$$scope:{ctx:s}}}),ut=new bt({props:{for:"hidden",$$slots:{default:[$r,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});let W=s[1]&&me(s);return $t=new Xt({props:{variant:"outlined",type:"submit",$$slots:{default:[vr]},$$scope:{ctx:s}}}),{c(){t=w("form"),r=w("div"),l=w("div"),N(e.$$.fragment),i=P(),N(h.$$.fragment),m=P(),p=w("div"),N(c.$$.fragment),D=P(),N(u.$$.fragment),z=P(),k=w("div"),N(Z.$$.fragment),I=P(),N(M.$$.fragment),j=P(),V=w("div"),C=w("div"),N(Y.$$.fragment),d=P(),N(F.$$.fragment),Tt=P(),X=w("div"),Et=w("span"),Ht=H("Preview:"),Rt=P(),B.block.c(),Wt=P(),J=w("div"),xt=w("label"),zt=H("Logo:"),Ct=P(),G=w("input"),Ot=P(),N(it.$$.fragment),Zt=P(),nt=w("div"),N(K.$$.fragment),Bt=P(),N(ot.$$.fragment),Yt=P(),ft=w("div"),N(ct.$$.fragment),Ft=P(),N(ut.$$.fragment),Jt=P(),W&&W.c(),qt=P(),kt=w("div"),N($t.$$.fragment),this.h()},l(n){t=b(n,"FORM",{});var y=_(t);r=b(y,"DIV",{class:!0});var T=_(r);l=b(T,"DIV",{class:!0});var mt=_(l);q(e.$$.fragment,mt),i=A(mt),q(h.$$.fragment,mt),mt.forEach(o),m=A(T),p=b(T,"DIV",{class:!0});var tt=_(p);q(c.$$.fragment,tt),D=A(tt),q(u.$$.fragment,tt),tt.forEach(o),z=A(T),k=b(T,"DIV",{class:!0});var dt=_(k);q(Z.$$.fragment,dt),I=A(dt),q(M.$$.fragment,dt),dt.forEach(o),j=A(T),V=b(T,"DIV",{class:!0});var pt=_(V);C=b(pt,"DIV",{class:!0});var gt=_(C);q(Y.$$.fragment,gt),d=A(gt),q(F.$$.fragment,gt),gt.forEach(o),Tt=A(pt),X=b(pt,"DIV",{class:!0});var ht=_(X);Et=b(ht,"SPAN",{});var It=_(Et);Ht=R(It,"Preview:"),It.forEach(o),Rt=A(ht),B.block.l(ht),ht.forEach(o),pt.forEach(o),Wt=A(T),J=b(T,"DIV",{class:!0});var et=_(J);xt=b(et,"LABEL",{for:!0});var Vt=_(xt);zt=R(Vt,"Logo:"),Vt.forEach(o),Ct=A(et),G=b(et,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Ot=A(et),q(it.$$.fragment,et),et.forEach(o),Zt=A(T),nt=b(T,"DIV",{class:!0});var vt=_(nt);q(K.$$.fragment,vt),Bt=A(vt),q(ot.$$.fragment,vt),vt.forEach(o),Yt=A(T),ft=b(T,"DIV",{class:!0});var wt=_(ft);q(ct.$$.fragment,wt),Ft=A(wt),q(ut.$$.fragment,wt),wt.forEach(o),Jt=A(T),W&&W.l(T),qt=A(T),kt=b(T,"DIV",{});var Dt=_(kt);q($t.$$.fragment,Dt),Dt.forEach(o),T.forEach(o),y.forEach(o),this.h()},h(){v(l,"class","grid grid-flow-row gap-2"),v(p,"class","grid grid-flow-row gap-2"),v(k,"class","grid grid-flow-row gap-2"),v(C,"class","grid grid-flow-row gap-2 auto-rows-max"),v(X,"class","grid grid-flow-row gap-2 auto-rows-max"),v(V,"class","grid gap-6 split svelte-k92wki"),v(xt,"for","logo"),v(G,"id","logo"),v(G,"class","base-input"),v(G,"name","logo"),v(G,"type","file"),v(G,"accept","image/png,image/jpeg,image/gif"),v(G,"placeholder","Logo"),v(J,"class","grid grid-flow-row gap-2"),v(nt,"class","grid grid-flow-row gap-2"),v(ft,"class","grid grid-flow-row gap-2"),v(r,"class","grid grid-flow-row gap-6")},m(n,y){S(n,t,y),f(t,r),f(r,l),U(e,l,null),f(l,i),U(h,l,null),f(r,m),f(r,p),U(c,p,null),f(p,D),U(u,p,null),f(r,z),f(r,k),U(Z,k,null),f(k,I),U(M,k,null),f(r,j),f(r,V),f(V,C),U(Y,C,null),f(C,d),U(F,C,null),f(V,Tt),f(V,X),f(X,Et),f(Et,Ht),f(X,Rt),B.block.m(X,B.anchor=null),B.mount=()=>X,B.anchor=null,f(r,Wt),f(r,J),f(J,xt),f(xt,zt),f(J,Ct),f(J,G),f(J,Ot),U(it,J,null),f(r,Zt),f(r,nt),U(K,nt,null),f(nt,Bt),U(ot,nt,null),f(r,Yt),f(r,ft),U(ct,ft,null),f(ft,Ft),U(ut,ft,null),f(r,Jt),W&&W.m(r,null),f(r,qt),f(r,kt),U($t,kt,null),Ut=!0,Qt||(Gt=qe(s[5].call(null,t)),Qt=!0)},p(n,[y]){s=n;const T={};!a&&y&4&&(a=!0,T.value=s[2].name,at(()=>a=!1)),e.$set(T);const mt={};y&167772160&&(mt.$$scope={dirty:y,ctx:s}),h.$set(mt);const tt={};y&2&&(tt.disabled=s[1]),y&134217730&&(tt.$$scope={dirty:y,ctx:s}),!x&&y&4&&(x=!0,tt.value=s[2].mod_reference,at(()=>x=!1)),c.$set(tt);const dt={};y&167772160&&(dt.$$scope={dirty:y,ctx:s}),u.$set(dt);const pt={};!$&&y&4&&($=!0,pt.value=s[2].short_description,at(()=>$=!1)),Z.$set(pt);const gt={};y&167772160&&(gt.$$scope={dirty:y,ctx:s}),M.$set(gt);const ht={};!yt&&y&4&&(yt=!0,ht.value=s[2].full_description,at(()=>yt=!1)),Y.$set(ht);const It={};y&167772160&&(It.$$scope={dirty:y,ctx:s}),F.$set(It),B.ctx=s,y&16&&Nt!==(Nt=ne(s[4]))&&ae(Nt,B)||Ue(B,s,y);const et={};y&167772160&&(et.$$scope={dirty:y,ctx:s}),it.$set(et);const Vt={};!jt&&y&4&&(jt=!0,Vt.value=s[2].source_url,at(()=>jt=!1)),K.$set(Vt);const vt={};y&167772160&&(vt.$$scope={dirty:y,ctx:s}),ot.$set(vt);const wt={};y&134217732&&(wt.$$scope={dirty:y,ctx:s}),ct.$set(wt);const Dt={};y&167772160&&(Dt.$$scope={dirty:y,ctx:s}),ut.$set(Dt),s[1]?W?(W.p(s,y),y&2&&g(W,1)):(W=me(s),W.c(),g(W,1),W.m(r,qt)):W&&(At(),E(W,1,1,()=>{W=null}),St());const se={};y&134217729&&(se.$$scope={dirty:y,ctx:s}),$t.$set(se)},i(n){Ut||(g(e.$$.fragment,n),g(h.$$.fragment,n),g(c.$$.fragment,n),g(u.$$.fragment,n),g(Z.$$.fragment,n),g(M.$$.fragment,n),g(Y.$$.fragment,n),g(F.$$.fragment,n),g(it.$$.fragment,n),g(K.$$.fragment,n),g(ot.$$.fragment,n),g(ct.$$.fragment,n),g(ut.$$.fragment,n),g(W),g($t.$$.fragment,n),Ut=!0)},o(n){E(e.$$.fragment,n),E(h.$$.fragment,n),E(c.$$.fragment,n),E(u.$$.fragment,n),E(Z.$$.fragment,n),E(M.$$.fragment,n),E(Y.$$.fragment,n),E(F.$$.fragment,n),E(it.$$.fragment,n),E(K.$$.fragment,n),E(ot.$$.fragment,n),E(ct.$$.fragment,n),E(ut.$$.fragment,n),E(W),E($t.$$.fragment,n),Ut=!1},d(n){n&&o(t),L(e),L(h),L(c),L(u),L(Z),L(M),L(Y),L(F),B.block.d(),B.token=null,B=null,L(it),L(K),L(ot),L(ct),L(ut),W&&W.d(),L($t),Qt=!1,Gt()}}}function br(s,t,r){let l,e,{onSubmit:a}=t,{initialValues:i={full_description:"",mod_reference:"",name:"",short_description:"",source_url:"",hidden:!1,compatibility:{EA:{state:oe.Works,note:""},EXP:{state:oe.Works,note:""}}}}=t,{submitText:h="Create"}=t,{editing:m=!1}=t;const{form:p,data:c}=Re({initialValues:i,extend:[We({schema:ce}),ze],onSubmit:d=>a(Oe(d,ce))});xe(s,c,d=>r(2,e=d));const x=()=>{e.authors.push({role:"editor",user_id:"",key:""}),c.set(e)},D=d=>{e.authors.splice(d,1),c.set(e)};let u=!1;function z(d){s.$$.not_equal(e.name,d)&&(e.name=d,c.set(e))}function k(d){s.$$.not_equal(e.mod_reference,d)&&(e.mod_reference=d,c.set(e))}function Z(d){s.$$.not_equal(e.short_description,d)&&(e.short_description=d,c.set(e))}function $(d){s.$$.not_equal(e.full_description,d)&&(e.full_description=d,c.set(e))}function I(d){s.$$.not_equal(e.source_url,d)&&(e.source_url=d,c.set(e))}function M(d){s.$$.not_equal(e.hidden,d)&&(e.hidden=d,c.set(e))}function j(d){u=d,r(3,u)}const V=()=>_e(c,e.compatibility=null,e);function C(d){s.$$.not_equal(e.compatibility,d)&&(e.compatibility=d,c.set(e))}function Y(d,F){s.$$.not_equal(e.authors[F].user_id,d)&&(e.authors[F].user_id=d,c.set(e))}const yt=d=>D(d);return s.$$set=d=>{"onSubmit"in d&&r(9,a=d.onSubmit),"initialValues"in d&&r(10,i=d.initialValues),"submitText"in d&&r(0,h=d.submitText),"editing"in d&&r(1,m=d.editing)},s.$$.update=()=>{s.$$.dirty&6&&(m||delete e.compatibility),s.$$.dirty&4&&r(4,l=e.full_description||"")},[h,m,e,u,l,p,c,x,D,a,i,z,k,Z,$,I,M,j,V,C,Y,yt]}class Dr extends ve{constructor(t){super(),we(this,t,br,wr,be,{onSubmit:9,initialValues:10,submitText:0,editing:1})}}export{Dr as M};
//# sourceMappingURL=ModForm-5ed519eb.js.map
