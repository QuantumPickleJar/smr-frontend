{"version":3,"file":"16.5af7e857.js","sources":["../../../../../../src/routes/mod/[modId]/+page.ts","../../../../../../src/lib/components/mods/ModInfo.svelte","../../../../../../src/lib/components/mods/ModLatestVersions.svelte","../../../../../../src/lib/components/mods/ModAuthors.svelte","../../../../../../src/lib/components/mods/ModLogo.svelte","../../../../../../src/lib/components/mods/ModDescription.svelte","../../../../../../src/lib/components/mods/ModVersions.svelte","../../../../../../src/lib/utils/schema.ts","../../../../../../src/lib/components/mods/compatibility/EditCompatibilityForm.svelte","../../../../../../src/routes/mod/[modId]/+page.svelte"],"sourcesContent":["import type { PageLoad } from './$types';\nimport { queryStore } from '@urql/svelte';\nimport { GetModDocument } from '$lib/generated';\nimport { loadWaitForNoFetch } from '$lib/utils/gql';\n\nexport const load: PageLoad = async ({ params, parent }) => ({\n  ...params,\n  ...(await loadWaitForNoFetch({\n    mod: queryStore({\n      query: GetModDocument,\n      client: (await parent()).client,\n      variables: { mod: params.modId }\n    })\n  }))\n});\n","<script lang=\"ts\">\n  import type { Mod } from '$lib/generated';\n  import Card, { Content } from '@smui/card';\n  import { prettyDate, prettyNumber } from '$lib/utils/formatting';\n\n  import TagList from '$lib/components/utils/TagList.svelte';\n  import CompatibilityButton from './compatibility/CompatibilityButton.svelte';\n\n  export let mod!: Pick<\n    Mod,\n    'source_url' | 'created_at' | 'views' | 'downloads' | 'mod_reference' | 'compatibility' | 'tags'\n  >;\n</script>\n\n<Card>\n  <Content>\n    <div class=\"text-lg break-words\">\n      <h3 class=\"text-2xl my-4 font-bold\">Info</h3>\n      <span\n        ><strong>Source:</strong> <a class=\"underline text-yellow-500\" href={mod.source_url}>{mod.source_url}</a></span\n      ><br />\n      <span><strong>Created:</strong> {prettyDate(mod.created_at)}</span><br />\n      <span><strong>Views:</strong> {prettyNumber(mod.views)}</span><br />\n      <span><strong>Downloads:</strong> {prettyNumber(mod.downloads)}</span><br />\n      <span><strong>Reference:</strong> {mod.mod_reference}</span><br />\n      <TagList tags={mod.tags} />\n      {#if mod.compatibility}\n        <span><strong>Compatibility:</strong><CompatibilityButton compatibility={mod.compatibility} /> </span><br />\n      {/if}\n    </div>\n  </Content>\n</Card>\n","<script lang=\"ts\">\n  import type { Version } from '$lib/generated';\n  import { API_REST } from '$lib/core';\n  import { base } from '$app/paths';\n  import Card, { Content } from '@smui/card';\n  import { Icon } from '@smui/common';\n  import { prettyDate } from '$lib/utils/formatting';\n\n  type ILatestVersions = {\n    alpha?: Pick<Version, 'id' | 'link' | 'version' | 'created_at'>;\n    beta?: Pick<Version, 'id' | 'link' | 'version' | 'created_at'>;\n    release?: Pick<Version, 'id' | 'link' | 'version' | 'created_at'>;\n  };\n\n  const stabilities = {\n    release: 'new_releases',\n    beta: 'warning',\n    alpha: 'report'\n  };\n\n  export let latestVersions!: ILatestVersions;\n  export let modId!: string;\n</script>\n\n<Card>\n  <Content>\n    <div class=\"grid grid-flow-row gap-y-2\">\n      <h3 class=\"text-2xl my-4 font-bold\">Latest Versions</h3>\n\n      {#each Object.keys(stabilities) as stability}\n        {#if latestVersions[stability]}\n          <div class=\"version\">\n            <div class=\"text-4xl w-14 h-14 p-2.5\">\n              <Icon class=\"material-icons\">{stabilities[stability]}</Icon>\n            </div>\n            <div class=\"grid grid-flow-row\">\n              <a href=\"{base}/mod/{modId}/version/{latestVersions[stability].id}/\" class=\"text-yellow-500 underline\"\n                >Version {latestVersions[stability].version}</a>\n              <div>{prettyDate(latestVersions[stability].created_at)}</div>\n            </div>\n            <div class=\"text-3xl w-14 h-14 p-2.5\">\n              <a\n                href={API_REST + '/mod/' + modId + '/versions/' + latestVersions[stability].id + '/download'}\n                class=\"text-yellow-500 underline\">\n                <Icon class=\"material-icons\">download</Icon>\n              </a>\n            </div>\n          </div>\n        {/if}\n      {/each}\n    </div>\n  </Content>\n</Card>\n\n<style lang=\"postcss\">\n  .version {\n    @apply grid grid-flow-col text-lg gap-x-4;\n    grid-template-columns: max-content auto max-content;\n  }\n</style>\n","<script lang=\"ts\">\n  import type { User, UserMod } from '$lib/generated';\n  import { assets, base } from '$app/paths';\n  import Card, { Content } from '@smui/card';\n\n  export let authors: Array<\n    Pick<UserMod, 'role'> & {\n      user?: Pick<User, 'id' | 'username' | 'avatar'>;\n    }\n  >;\n</script>\n\n<Card>\n  <Content>\n    <div class=\"grid grid-flow-row gap-y-2\">\n      <h3 class=\"text-2xl my-4 font-bold\">Authors</h3>\n\n      <div class=\"grid auto-rows-min text-lg gap-y-4\">\n        {#each authors as author}\n          <div class=\"grid grid-flow-col auto-cols-max gap-x-4\">\n            <div\n              class=\"rounded-full bg-cover w-14 h-14\"\n              style={`background-image: url(\"${author.user.avatar || assets + '/images/no_image.webp'}\")`} />\n            <div class=\"grid grid-flow-row\">\n              <a href=\"{base}/user/{author.user.id}/\" class=\"text-yellow-500 underline\">{author.user.username}</a>\n              <div>{author.role.charAt(0).toUpperCase() + author.role.slice(1).toLowerCase()}</div>\n            </div>\n          </div>\n        {/each}\n      </div>\n    </div>\n  </Content>\n</Card>\n","<script lang=\"ts\">\n  import { assets } from '$app/paths';\n  import type { CompatibilityInfoInput } from '$lib/generated';\n  import OutdatedBanner from '$lib/components/mods/compatibility/OutdatedBanner.svelte';\n\n  export let modLogo!: string;\n  export let modName!: string;\n  export let compatibility: CompatibilityInfoInput;\n\n  $: logo = modLogo || assets + '/images/no_image.webp';\n</script>\n\n<div class=\"relative overflow-hidden\">\n  <OutdatedBanner {compatibility} logo={true} />\n  <img class=\"rounded-lg sm:max-w-lg max-w-full w-full\" src={logo} alt=\"Logo for {modName}\" />\n</div>\n","<script lang=\"ts\">\n  import type { Mod } from '$lib/generated';\n  import { markdown } from '$lib/utils/markdown';\n  import Card, { Content } from '@smui/card';\n\n  export let mod!: Pick<Mod, 'full_description' | 'short_description'>;\n\n  $: description = mod.full_description ? markdown(mod.full_description) : mod.short_description;\n</script>\n\n<Card class=\"h-fit\">\n  <Content>\n    <div class=\"markdown-content break-words\">\n      {#await description then descriptionRendered}\n        <p>{@html descriptionRendered}</p>\n      {/await}\n    </div>\n  </Content>\n</Card>\n","<script lang=\"ts\">\n  import { GetModVersionsDocument } from '$lib/generated';\n  import { queryStore, getContextClient } from '@urql/svelte';\n  import { API_REST } from '$lib/core';\n  import { markdown } from '$lib/utils/markdown';\n  import { base } from '$app/paths';\n  import Card, { Content } from '@smui/card';\n  import DataTable, { Head, Body, Row, Cell } from '@smui/data-table';\n  import Button, { Label, Icon } from '@smui/button';\n  import { installMod } from '$lib/stores/launcher';\n  import { prettyDate, prettyNumber, prettyBytes } from '$lib/utils/formatting';\n\n  export let modId!: string;\n\n  const client = getContextClient();\n\n  let expandedVersions = new Set<string>();\n\n  // TODO Pagination\n  const versions = queryStore({\n    query: GetModVersionsDocument,\n    client,\n    variables: {\n      mod: modId,\n      limit: 100,\n      offset: 0\n    }\n  });\n\n  const toggleRow = (versionId: string) => {\n    if (expandedVersions.has(versionId)) {\n      expandedVersions.delete(versionId);\n    } else {\n      expandedVersions.add(versionId);\n    }\n    expandedVersions = expandedVersions;\n  };\n</script>\n\n<Card class=\"h-fit\">\n  {#if $versions.fetching}\n    <Content>Loading...</Content>\n  {:else if $versions.error}\n    <Content>Oh no... {$versions.error.message}</Content>\n  {:else}\n    <DataTable class=\"max-w-full\">\n      <Head>\n        <Row>\n          <Cell>Version</Cell>\n          <Cell>Stability</Cell>\n          <Cell>SML Version</Cell>\n          <Cell>Downloads</Cell>\n          <Cell>Upload Date</Cell>\n          <Cell><!-- Buttons --></Cell>\n        </Row>\n      </Head>\n      <Body>\n        {#each $versions.data.getMod.versions as version}\n          <Row on:click={() => toggleRow(version.id)}>\n            <Cell>{version.version}</Cell>\n            <Cell>{version.stability}</Cell>\n            <Cell>{version.sml_version}</Cell>\n            <Cell>{prettyNumber(version.downloads)}</Cell>\n            <Cell>{prettyDate(version.created_at)}</Cell>\n            <Cell>\n              <div class=\"grid grid-flow-col gap-4\">\n                <Button variant=\"outlined\" href={base + '/mod/' + modId + '/version/' + version.id}>View</Button>\n                <Button variant=\"outlined\" href={API_REST + '/mod/' + modId + '/versions/' + version.id + '/download'}\n                  >Download</Button>\n                <Button variant=\"outlined\" on:click={() => installMod($versions.data.getMod.mod_reference)}>\n                  <Label>Install</Label>\n                  <Icon class=\"material-icons\">download</Icon>\n                </Button>\n              </div>\n            </Cell>\n          </Row>\n\n          {#if expandedVersions.has(version.id)}\n            <Row>\n              <Cell colspan={6}>\n                <div class=\"col-span-3 p-2\">Size: {prettyBytes(version.size)}</div>\n                <div class=\"col-span-3 p-2\">Hash: {version.hash}</div>\n\n                <div class=\"col-span-6 p-2 markdown-content\">\n                  {#await markdown(version.changelog) then changelogRendered}\n                    {@html changelogRendered}\n                  {/await}\n                </div>\n              </Cell>\n            </Row>\n          {/if}\n        {/each}\n      </Body>\n    </DataTable>\n  {/if}\n</Card>\n","import type { Thing, WithContext } from 'schema-dts';\nimport type { Mod } from '$lib/generated';\nimport { assets } from '$app/paths';\n\nexport type Schema = Thing | WithContext<Thing>;\n\nexport function serializeSchema(schema: Schema) {\n  return `<script type=\"application/ld+json\">${JSON.stringify(schema)}</script>`;\n}\n\nexport const modSchema = (mod: Pick<Mod, 'name' | 'logo' | 'short_description'>): Schema => ({\n  '@context': 'https://schema.org',\n  '@type': 'CreativeWork',\n  image: mod.logo || assets + '/images/no_image.webp',\n  name: mod.name,\n  description: mod.short_description\n});\n","<script lang=\"ts\">\n  import ModCompatibilityEdit from './ModCompatibilityEdit.svelte';\n  import type { ModData } from '$lib/models/mods';\n  import { EditModCompatibilityDocument } from '$lib/generated';\n  import { getContextClient } from '@urql/svelte';\n  import { createEventDispatcher } from 'svelte';\n  import Button from '@smui/button';\n\n  export let modId: string;\n  export let mod: ModData;\n\n  const client = getContextClient();\n\n  const dispatch = createEventDispatcher();\n\n  async function onSubmit(e: Event) {\n    e.preventDefault();\n    const success = (\n      await client\n        .mutation(EditModCompatibilityDocument, {\n          modId,\n          compatibility: mod.compatibility\n        })\n        .toPromise()\n    ).data.updateModCompatibility;\n    if (success) {\n      dispatch('submit');\n    } else {\n      dispatch('fail');\n    }\n  }\n</script>\n\n<form on:submit={onSubmit}>\n  <ModCompatibilityEdit bind:compatibilityInfo={mod.compatibility} />\n  <div class=\"p-5\">\n    <Button variant=\"outlined\" type=\"submit\">Save</Button>\n  </div>\n</form>\n","<script lang=\"ts\">\n  import { DeleteModDocument } from '$lib/generated';\n  import ModInfo from '$lib/components/mods/ModInfo.svelte';\n  import ModLatestVersions from '$lib/components/mods/ModLatestVersions.svelte';\n  import ModAuthors from '$lib/components/mods/ModAuthors.svelte';\n  import ModLogo from '$lib/components/mods/ModLogo.svelte';\n  import ModDescription from '$lib/components/mods/ModDescription.svelte';\n  import ModVersions from '$lib/components/mods/ModVersions.svelte';\n  import { user } from '$lib/stores/user';\n  import { goto } from '$app/navigation';\n  import { writable } from 'svelte/store';\n  import Toast from '$lib/components/general/Toast.svelte';\n  import { base } from '$app/paths';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n  import Button from '@smui/button';\n  import Dialog, { Title, Content as DialogContent } from '@smui/dialog';\n  import { modSchema, serializeSchema } from '$lib/utils/schema';\n  import EditCompatibilityForm from '$lib/components/mods/compatibility/EditCompatibilityForm.svelte';\n  import { getContextClient } from '@urql/svelte';\n  import type { PageData } from './$types';\n\n  export let data: PageData;\n\n  $: ({ modId, mod } = data);\n\n  const client = getContextClient();\n\n  let versionsTab = false;\n\n  let errorMessage = '';\n  let errorToast = false;\n\n  $: canUserEdit =\n    $user?.roles?.deleteContent || $mod?.data?.mod?.authors?.findIndex((author) => author.user_id == $user?.id) >= 0;\n  $: canUserEditCompatibility = $user?.roles?.editAnyModCompatibility || canUserEdit;\n\n  const deleteDialogOpen = writable<boolean>(false);\n  const editCompatibilityOpen = writable<boolean>(false);\n\n  const deleteModFn = () => {\n    client\n      .mutation(DeleteModDocument, { modId: $mod.data.mod.id })\n      .toPromise()\n      .then((value) => {\n        if (value.error) {\n          console.error(value.error.message);\n          errorMessage = 'Error deleting mod: ' + value.error.message;\n          errorToast = true;\n        } else {\n          // TODO Toast or something\n          goto(base + '/mods');\n        }\n      });\n  };\n</script>\n\n<svelte:head>\n  {#if !$mod.fetching && !$mod.error && $mod.data.mod}\n    <MetaDescriptors\n      description={$mod.data.mod.short_description}\n      title={$mod.data.mod.name}\n      image={$mod.data.mod.logo} />\n\n    {@html serializeSchema(modSchema($mod.data.mod))}\n  {/if}\n</svelte:head>\n\n{#if $mod.fetching}\n  <p>Loading...</p>\n{:else if $mod.error}\n  <p>Oh no... {$mod.error.message}</p>\n{:else if $mod.data.mod}\n  <div class=\"grid gap-6 xlx:grid-flow-row\">\n    <div class=\"flex flex-wrap h-auto justify-between items-center\">\n      <h1 class=\"text-4xl font-bold\">{$mod.data.mod.name}</h1>\n      <div>\n        {#if canUserEdit}\n          <Button variant=\"outlined\" on:click={() => goto(base + '/mod/' + modId + '/edit')}>Edit</Button>\n          <Button variant=\"outlined\" on:click={() => deleteDialogOpen.set(true)}>Delete</Button>\n          <Button variant=\"outlined\" on:click={() => goto(base + '/mod/' + modId + '/new-version')}>New Version</Button>\n        {/if}\n        {#if canUserEditCompatibility}\n          <Button variant=\"outlined\" on:click={() => editCompatibilityOpen.set(true)}>Compatibility</Button>\n        {/if}\n\n        <Button variant=\"outlined\" on:click={() => (versionsTab = !versionsTab)}>\n          {#if !versionsTab}\n            Versions\n          {:else}\n            Description\n          {/if}\n        </Button>\n      </div>\n    </div>\n    <div class=\"grid grid-auto-max auto-cols-fr gap-4\">\n      {#if !versionsTab}\n        <ModDescription mod={$mod.data.mod} />\n      {:else}\n        <ModVersions modId={$mod.data.mod.id} />\n      {/if}\n      <div class=\"grid grid-cols-1 auto-rows-min gap-8\">\n        <ModLogo\n          modLogo={$mod.data.mod.logo}\n          modName={$mod.data.mod.name}\n          compatibility={$mod.data.mod.compatibility} />\n        <ModInfo mod={$mod.data.mod} />\n        <ModLatestVersions modId={$mod.data.mod.id} latestVersions={$mod.data.mod.latestVersions} />\n        <ModAuthors authors={$mod.data.mod.authors} />\n      </div>\n    </div>\n  </div>\n\n  {#if canUserEdit}\n    <Dialog bind:open={$deleteDialogOpen}>\n      <Title>Delete Mod?</Title>\n      <DialogContent>\n        <div class=\"grid grid-flow-row gap-4\">\n          <span>Are you sure you wish to delete this mod</span>\n\n          <Button variant=\"outlined\" on:click={() => deleteDialogOpen.set(false)}>Cancel</Button>\n          <Button variant=\"outlined\" on:click={() => deleteModFn()}>Delete</Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  {/if}\n\n  {#if canUserEditCompatibility}\n    <Dialog bind:open={$editCompatibilityOpen}>\n      <Title>Edit Compatibilty</Title>\n      <DialogContent>\n        <EditCompatibilityForm\n          modId={$mod.data.mod.id}\n          mod={$mod.data.mod}\n          on:submit={() => editCompatibilityOpen.set(false)} />\n      </DialogContent>\n    </Dialog>\n  {/if}\n\n  <Toast bind:running={errorToast}>\n    <span>{errorMessage}</span>\n  </Toast>\n{:else}\n  <!-- TODO Better 404 -->\n  404\n{/if}\n"],"names":["load","async","params","parent","loadWaitForNoFetch","mod","queryStore","query","GetModDocument","client","variables","modId","compatibility","ctx","insert_hydration","target","span","anchor","append_hydration","strong","br","dirty","compatibilitybutton_changes","t4_value","source_url","prettyDate","created_at","prettyNumber","views","downloads","t20_value","mod_reference","taglist","TagList","props","tags","if_block","create_if_block","attr","a","a_href_value","div","h3","span0","strong0","br0","span1","strong1","br1","span2","strong2","br2","span3","strong3","br3","span4","strong4","br4","current","set_data","t4","t8","t8_value","t12","t12_value","t16","t16_value","t20","taglist_changes","$$props","version","a0","a0_href_value","base","id","a1","a1_href_value","API_REST","div4","div0","div2","div1","div3","t2","t2_value","t_value","Object","keys","length","i","each_blocks","stabilities","release","beta","alpha","latestVersions","user","username","t3_value","role","charAt","toUpperCase","slice","toLowerCase","div0_style_value","avatar","assets","t1","t1_value","t3","authors","img","img_src_value","modLogo","modName","logo","p","innerHTML","raw_value","info","handle_promise","promise","$$invalidate","description","full_description","markdown","short_description","t","stability","sml_version","html_tag","prettyBytes","size","hash","changelog","show_if","has","each_value","data","getMod","versions","error","message","fetching","getContextClient","expandedVersions","Set","GetModVersionsDocument","limit","offset","toggleRow","versionId","delete","add","click_handler","installMod","$versions","serializeSchema","schema","JSON","stringify","modSchema","image","name","modcompatibilityedit_props","compatibilityInfo","form","modcompatibilityedit_changes","dispatch","createEventDispatcher","onSubmit","e","preventDefault","success","mutation","EditModCompatibilityDocument","toPromise","updateModCompatibility","$$self","$$","not_equal","value","title","metadescriptors_changes","t0_value","create_if_block_8","create_if_block_7","create_if_block_4","create_if_block_3","h1","t0","modlogo_changes","modlatestversions_changes","modauthors_changes","create_if_block_6","modversions_changes","editcompatibilityform_changes","create_if_block_9","versionsTab","errorMessage","errorToast","deleteDialogOpen","writable","editCompatibilityOpen","deleteModFn","DeleteModDocument","$mod","then","console","goto","set","click_handler_2","click_handler_4","$deleteDialogOpen","$editCompatibilityOpen","$$subscribe_mod","canUserEdit","$user","roles","deleteContent","findIndex","author","user_id","canUserEditCompatibility","editAnyModCompatibility"],"mappings":"utCAKO,MAAMA,GAAiBC,MAAAA,CAASC,OAAQC,EAAAA,OAAAA,CAAAA,KAAc,CACxDD,GAAAA,EAAAA,GAAAA,MACOE,GAAmB,CAC3BC,IAAKC,GAAW,CACdC,MAAOC,GACPC,cAAeN,EAAUM,GAAAA,OACzBC,UAAW,CAAEL,IAAKH,EAAOS,4KCgBkDC,cAAAC,KAAID,oDAA/D,gBAAA,yGAAA,6FAAdE,EAAsGC,EAAAC,EAAAC,GAAhGC,EAA+BF,EAAAG,6BAAiEL,EAAKC,EAAAK,EAAAH,CAAAA,0BAAlCI,EAAA,IAAAC,EAAAV,cAAAC,GAAID,EAAAA,4JARSW,EAAAV,KAAIW,WAAU,qBAErEC,GAAWZ,EAAG,CAAA,EAACa,YAAU,sBAC3BC,GAAad,EAAG,GAACe,KAAK,EAAA,uBAClBD,GAAad,EAAG,CAACgB,EAAAA,SAAAA,EAAS,qBAC1BC,GAAAjB,GAAIkB,EAAAA,cAAa,qBACrCC,GAAA,IAAAC,GAAA,CAAAC,MAAA,CAAAC,KAAAtB,GAAIsB,EAAAA,IAAAA,CAAAA,CAAAA,EACd,IAAAC,EAAAvB,GAAID,EAAAA,eAAayB,GAAAxB,CAAAA,sCATc,4CAEzB,+EAEG,UAAA,+DACA,yEACA,6EACA,8KAPsB,iGAEzB,SAAA,mMAEG,uJACA,QAAA,8IACA,YAAA,8IACA,YAAA,0NALyDyB,EAAAA,EAAAC,EAAA,OAAAC,EAAA3B,KAAIW,sDAH7EV,CAAAA,EAaKC,EAAA0B,EAAAxB,CAAAA,EAZHC,EAA4CuB,EAAAC,CAAAA,cAC5CxB,EAAAA,EAECuB,EAAAE,CADEzB,EAAAA,EAAwByB,EAAAC,iBAAC1B,EAA+EyB,EAAAJ,UAC1GrB,EAAKuB,EAAAI,QACN3B,EAAAA,EAAmEuB,EAAAK,CAAAA,EAA7D5B,EAAyB4B,EAAAC,CAAAA,wBAAoC7B,EAAKuB,EAAAO,UACxE9B,EAA8DuB,EAAAQ,GAAxD/B,EAAuB+B,EAAAC,4BAAiChC,EAAKuB,EAAAU,EAAAA,OACnEjC,EAAAA,EAAsEuB,EAAAW,CAAhElC,EAAAA,EAA2BkC,EAAAC,0BAAqCnC,EAAKuB,EAAAa,YAC3EpC,EAA4DuB,EAAAc,CAAAA,EAAtDrC,EAA2BqC,EAAAC,yBAA2BtC,EAAAA,EAAKuB,EAAAgB,EAAAA,6DALuBC,CAAAA,IAAArC,EAAA,IAAAE,KAAAA,EAAAV,GAAIW,EAAAA,WAAU,KAAAmC,EAAAC,EAAArC,CAAAA,IAA/BmC,IAAArC,EAAA,GAAAmB,KAAAA,EAAA3B,KAAIW,+CAE1CC,GAAWZ,EAAG,GAACa,UAAU,EAAA,KAAAiC,EAAAE,GAAAC,CAAAA,qBAC3BnC,GAAad,EAAG,CAACe,EAAAA,KAAAA,EAAK,KAAA+B,EAAAI,GAAAC,sBAClBrC,GAAad,EAAG,CAACgB,EAAAA,SAAAA,EAAS,KAAA8B,EAAAM,EAAAC,CAC1B,GAAA,CAAAR,IAAArC,EAAA,IAAAS,MAAAA,GAAAjB,GAAIkB,EAAAA,cAAa,KAAA4B,EAAAQ,GAAArC,gBACrCT,EAAA,IAAA+C,GAAAjC,KAAAtB,GAAIsB,EAAAA,gBACd,EAAAtB,GAAID,EAAAA,m1BAlBFP,GAGVgE,qNC0BuBxD,EAAc,CAAA,EAACA,EAAS,CAAA,CAAA,EAAEyD,QAAO,WACvC/C,EAAAE,GAAWZ,EAAe,CAAAA,EAAAA,GAAWa,CAAAA,EAAAA,UAAAA,EAAU,yQADlD,UAAA,sSAAA,UAAA,gTADOY,EAAAiC,EAAA,OAAAC,EAAAC,WAAW5D,EAAK,CAAA,EAAA,YAAWA,EAAe,CAAAA,EAAAA,MAAW6D,GAAE,GAAA,2EAMzDpC,EAAAA,EAAAqC,EAAA,OAAAC,EAAAC,GAAW,QAAUhE,EAAQ,CAAA,EAAA,aAAeA,EAAe,CAAAA,EAAAA,EAAW,CAAA6D,CAAAA,EAAAA,GAAK,0IAXvF5D,CAAAA,EAgBKC,EAAA+D,EAAA7D,CAAAA,EAfHC,EAEK4D,EAAAC,CAAAA,qBACL7D,EAIK4D,EAAAE,CAHH9D,EAAAA,EACiD8D,EAAAT,wBACjDrD,EAA4D8D,EAAAC,iBAE9D/D,EAMK4D,EAAAI,CAAAA,EALHhE,EAIGgE,EAAAP,CAAAA,+GARS9D,EAAc,GAACA,EAAS,CAAA,CAAA,EAAEyD,QAAO,KAAAX,EAAAwB,EAAAC,CAAAA,GADnC1B,CAAAA,GAAArC,EAAA,GAAAmD,KAAAA,EAAAC,WAAW5D,EAAK,CAAA,EAAA,YAAWA,EAAe,CAAAA,EAAAA,MAAW6D,GAAE,sBAE3DhB,CAAAA,GAAArC,EAAA,IAAAE,KAAAA,EAAAE,GAAWZ,EAAe,CAAA,EAAAA,MAAWa,YAAU,KAAAiC,EAAAC,EAAArC,CAAAA,uDAI7C,GAAA,CAAAmC,GAAArC,EAAA,GAAAuD,KAAAA,EAAAC,GAAW,QAAUhE,EAAQ,CAAA,EAAA,aAAeA,EAAe,CAAAA,EAAAA,EAAW,IAAA6D,GAAK,4KATrD,CAAA,IAAAW,EAAAxE,GAAYA,EAAAA,EAAS,IAAA,+GAWpB,wBAAA,oEAdhCuB,EAAAvB,GAAeA,EAAAA,EAAS,KAAAwB,GAAAxB,CAAAA,8FAAxBA,KAAeA,EAAS,CAAA,CAAA,yMADxByE,OAAOC,KAAK1E,EAAW,yBAA5B2E,OAAIC,GAAA,gGAF8B,wJAAA,iBAAA,gLADtC3E,EAwBKC,EAAA0B,EAAAxB,GAvBHC,EAAuDuB,EAAAC,yFAEhD4C,OAAOC,KAAK1E,EAAW,sBAA5B2E,OAAIC,GAAA,EAAA,4GAAJD,OAAIC,EAAAC,EAAAF,OAAAC,GAAA,0CAAJD,OAAIC,GAAA,guBAfJE,EAAW,CACfC,QAAS,eACTC,KAAM,UACNC,MAAO,6BAGEC,CAAAA,EAAgC1B,SAChC1D,CAAc0D,EAAAA,4RCG8DxD,EAAM,CAAA,EAACmF,KAAKC,SAAQ,WACzFC,EAAArF,KAAOsF,KAAKC,OAAO,GAAGC,YAAgBxF,EAAAA,GAAOsF,EAAAA,KAAKG,MAAM,CAAA,EAAGC,cAAW,ycAH3CjE,EAAAyC,EAAA,QAAAyB,EAAA,0BAAA3F,GAAOmF,EAAAA,KAAKS,QAAUC,GAAS,2BAAA,EAEtDpE,EAAAC,EAAA,OAAAC,EAAAiC,GAAY,SAAA5D,EAAO,CAAA,EAAAmF,KAAKtB,GAAE,+IALxC5D,CAAAA,EAQKC,EAAAmE,EAAAjE,GAPHC,EAEgGgE,EAAAH,UAChG7D,EAGKgE,EAAAF,CAFH9D,EAAAA,EAAmG8D,EAAAzC,CAAAA,gBACnGrB,EAAoF8D,EAAAC,CAAAA,uBAHnD,CAAA5D,EAAA,GAAAmF,KAAAA,EAAA,0BAAA3F,KAAOmF,KAAKS,QAAUC,GAAS,yDAEW7F,EAAM,GAACmF,KAAKC,SAAQ,KAAAtC,EAAAgD,EAAAC,CAArF,EAAAvF,EAAA,GAAAmB,KAAAA,EAAAiC,GAAY,SAAA5D,EAAO,GAAAmF,KAAKtB,GAAE,oBAC9BrD,EAAA,GAAA6E,KAAAA,EAAArF,KAAOsF,KAAKC,OAAO,CAAGC,EAAAA,YAAAA,EAAgBxF,GAAOsF,EAAAA,KAAKG,MAAM,CAAGC,EAAAA,YAAAA,EAAW,KAAA5C,EAAAkD,EAAAX,kDAP3ErF,EAAO,wBAAZ2E,OAAIC,GAAA,yDAH4B,SAAA,kJAAA,SAAA,iRADtC3E,CAAAA,EAgBKC,EAAAkE,EAAAhE,CAAAA,EAfHC,EAA+C+D,EAAAvC,eAE/CxB,EAAAA,EAYK+D,EAAAF,sEAXIlE,EAAO,CAAA,oBAAZ2E,OAAIC,GAAA,EAAA,mHAAJD,2pBAbGsB,CAIVzC,EAAAA,uNCIqC,wQACqBxD,EAAI,CAAAyB,CAAAA,GAAAA,EAAAyE,EAAA,MAAAC,2BAAiBnG,EAAO,CAAA,CAAA,kDAFzFC,EAGKC,EAAA0B,EAAAxB,oBADHC,EAAAA,EAA2FuB,EAAAsE,yFAAhClG,EAAI,CAAA,CAAA,8CAAiBA,EAAO,CAAA,0IAT5EoG,CAAgB5C,EAAAA,WAChB6C,CAAAA,EAAgB7C,iBAChBzD,CAAAA,EAAqCyD,qKAE7C8C,EAAOF,GAAWP,GAAS,4MCKd7F,EAAmB,CAAA,EAAA,0EAA7BC,CAAAA,EAAiCC,EAAAqG,EAAAnG,CAAAA,oCAAvBJ,EAAmB,CAAA,EAAA,MAAAuG,EAAAC,UAAAC,mLADvBzG,EAAW,CAAA0G,EAAAA,CAAAA,4KADrBzG,EAIKC,EAAA0B,EAAAxB,CAAAA,yFAHKJ,EAAW,CAAA2G,IAAAA,GAAAC,EAAAF,CAAAA,msBARZlH,CAAAA,EAAyDgE,6EAEjEqD,EAAA,EAAAC,EAActH,EAAIuH,iBAAmBC,GAASxH,EAAIuH,gBAAAA,EAAoBvH,EAAIyH,iBAAAA,6kCCyC/D,SAAA,cAAA,SAAA,uEACA,yBAAA,kFACA,2BAAA,oFACA,yBAAA,kFACA,aAAA,cAAA,quDAOG,CAAA,IAAAzC,EAAAxE,KAAQyD,QAAO,+DAAfjD,EAAA,GAAAgE,KAAAA,EAAAxE,KAAQyD,QAAO,KAAAX,EAAAoE,EAAA1C,iCACf,CAAA,IAAAA,EAAAxE,KAAQmH,UAAS,8DAAjB,CAAA3G,EAAA,GAAAgE,KAAAA,EAAAxE,KAAQmH,UAAS,KAAArE,EAAAoE,EAAA1C,CAAAA,iCACjB,IAAAA,EAAAxE,KAAQoH,YAAW,+DAAnB5G,EAAA,GAAAgE,KAAAA,EAAAxE,GAAQoH,EAAAA,YAAW,KAAAtE,EAAAoE,EAAA1C,CAAAA,uCACnB1D,GAAad,EAAO,CAAA,EAACgB,WAAS,2EAA9BF,GAAad,EAAO,GAACgB,SAAS,EAAA,KAAA8B,EAAAoE,EAAA1C,wCAC9B5D,GAAWZ,EAAO,CAAA,EAACa,UAAU,EAAA,2EAA7BD,GAAWZ,EAAO,CAAA,EAACa,YAAU,KAAAiC,EAAAoE,EAAA1C,CAAAA,sDAGoD,oBAAA,6EAEjF,UAAA,cAAA,iFAEM,SAAA,cAAA,SAAA,uEACsB,wBAAA,UAAA,0qBALEZ,GAAO,QAAU5D,GAAQ,EAAA,YAAcA,EAAO,CAAA,EAAC6D,sFAC/CG,GAAW,QAAUhE,EAAK,CAAA,EAAG,aAAeA,EAAO,CAAA,EAAC6D,GAAK,0aAF5F5D,CAAAA,EAQKC,EAAA0B,EAAAxB,0FAP8BwD,GAAO,QAAU5D,KAAQ,YAAcA,EAAO,CAAC6D,EAAAA,0EAC/CG,GAAW,QAAUhE,EAAK,CAAA,EAAG,aAAeA,EAAO,CAAA,EAAC6D,GAAK,mnEAkB/E7D,EAAiB,EAAA,EAAA,yIAAjBA,EAAiB,EAAA,EAAA,KAAAqH,EAAAd,EAAAE,CAAAA,+FALOa,GAAYtH,EAAO,GAACuH,IAAI,EAAA,WACxB7G,EAAAV,GAAQwH,EAAAA,KAAI,0GAGrCR,GAAShH,EAAO,CAAA,EAACyH,SAASf,EAAAA,CAAAA,sBAJR,QAAA,8BACA,sGADA,gFACA,QAAA,6NAD5BzG,EAAkEC,EAAAgE,EAAA9D,0BAClEH,EAAqDC,EAAAkE,EAAAhE,0BAErDH,EAIKC,EAAAiE,EAAA/D,CAAAA,iFAP8BkH,GAAYtH,EAAO,CAAA,EAACuH,MAAI,KAAAzE,EAAAgD,EAAAC,CAAAA,EACxBvF,EAAA,GAAAE,KAAAA,EAAAV,KAAQwH,KAAI,KAAA1E,EAAAC,EAAArC,CAAAA,sBAGrCsG,GAAShH,EAAO,GAACyH,SAASd,IAAAA,GAAAC,EAAAF,uJALvB,uTAFdgB,EAAA1H,EAAiB,CAAA,EAAA2H,IAAI3H,KAAQ6D,4VAA7B,EAAArD,EAAA,IAAAkH,EAAA1H,EAAiB,CAAA,EAAA2H,IAAI3H,KAAQ6D,2PApB7B+D,EAAA5H,EAAU,CAAA6H,EAAAA,KAAKC,OAAOC,8BAA3BpD,OAAIC,GAAA,2PAACgD,EAAA5H,EAAU,CAAA,EAAA6H,KAAKC,OAAOC,2BAA3BpD,OAAIC,GAAA,EAAA,oHAAJD,OAAIC,EAAAC,EAAAF,OAAAC,GAAA,0CAAJD,OAAIC,GAAA,iqBAdS5E,EAAS,CAAA,EAACgI,MAAMC,QAAO,oBAAjC,WAAA,qBAAA,oEAAUjI,EAAS,CAACgI,EAAAA,MAAMC,QAAO,KAAAnF,EAAAgD,EAAAC,+DAFjC,0BAAA,YAAA,sGADN,OAAA/F,GAAUkI,EAAAA,SAAQ,EAEblI,KAAUgI,MAAK,4pBA9BdlI,CAAAA,EAAc0D,EAEnB,MAAA5D,EAASuI,KAEX,IAAAC,MAAuBC,IAGrB,MAAAN,EAAWtI,GAAU,CACzBC,MAAO4I,GACP1I,OACAC,EAAAA,UAAS,CACPL,IAAKM,EACLyI,MAAO,IACPC,OAAQ,yBAIN,MAAAC,EAAaC,IACbN,EAAiBT,IAAIe,CAAAA,EACvBN,EAAiBO,OAAOD,GAExBN,EAAiBQ,IAAIF,WAoCgCG,EAAA,IAAAC,GAAWC,EAAUlB,KAAKC,OAAO5G,oBAX7DuH,EAAUhF,EAAQI,EAAAA,4ICpD1C,SAASmF,GAAgBC,GACvB,MAAA,sCAAsCC,KAAKC,UAAUF,CAAAA,aAC9D,CAEa,MAAAG,GAAa5J,IAAmE,CAC3F,WAAY,qBACZ,QAAS,eACT6J,MAAO7J,EAAI8G,MAAQT,GAAS,wBAC5ByD,KAAM9J,EAAI8J,KACVxC,YAAatH,EAAIyH,iBAAAA,uCCqB0B,oBAAA,6GAFG,OAAAjH,KAAID,yBAAJwJ,EAAAC,kBAAAxJ,GAAID,EAAAA,0aADpDE,EAKMC,EAAAuJ,EAAArJ,oBAHJC,EAAAA,EAEKoJ,EAAA7H,wCAJU5B,EAAQ,8CACuB0J,EAAAF,kBAAAxJ,GAAID,EAAAA,oQA1BvCD,CAAAA,EAAa0D,OACbhE,CAAAA,EAAYgE,EAEjB,MAAA5D,EAASuI,GAET,EAAAwB,EAAWC,GAAAA,EAEFxK,eAAAyK,EAASC,EAAAA,CACtBA,EAAEC,eACI,EAAA,MAAAC,SACEpK,EACHqK,SAASC,IACRpK,MACAC,EAAAA,cAAeP,EAAIO,aAEpBoK,CAAAA,EAAAA,UAAAA,GACHtC,KAAKuC,uBAELT,EADEK,EACO,SAEA,sBAMiCK,EAAAC,GAAAC,UAAA/K,EAAIO,cAAayK,CAAAA,IAAjBhL,EAAIO,cAAayK,qMC6BtD/D,EAAAuC,GAAgBI,GAAUpJ,EAAK,CAAA6H,EAAAA,KAAKrI,MAAG,+BAJ/BsH,YAAA9G,EAAK,CAAA6H,EAAAA,KAAKrI,IAAIyH,kBACpBwD,MAAAzK,EAAK,CAAA,EAAA6H,KAAKrI,IAAI8J,KACdD,MAAArJ,EAAK,GAAA6H,KAAKrI,IAAI8G,6MAFR9F,EAAA,IAAAkK,EAAA5D,YAAA9G,EAAK,CAAA,EAAA6H,KAAKrI,IAAIyH,mBACpBzG,EAAA,IAAAkK,EAAAD,MAAAzK,EAAK,CAAA,EAAA6H,KAAKrI,IAAI8J,MACd9I,EAAA,IAAAkK,EAAArB,MAAArJ,EAAK,CAAA,EAAA6H,KAAKrI,IAAI8G,kBAEhBzD,GAAArC,EAAA,IAAAiG,KAAAA,EAAAuC,GAAgBI,GAAUpJ,EAAK,CAAA,EAAA6H,KAAKrI,GAAG,CAAA,EAAA,KAAA6H,EAAAd,EAAAE,CAAAA,+IA+EzB,mBAAA,6EApEakE,EAAA3K,EAAK,GAAA6H,KAAKrI,IAAI8J,KAAI,4DAE3CtJ,EAAW,CAAA4K,GAAAA,GAAA5K,KAKXA,EAAwB,CAAA,GAAA6K,GAAA7K,CAAAA,mJAczBA,EAAW,CAAA,IAAA,2CAOJoG,QAAApG,EAAK,CAAA,EAAA6H,KAAKrI,IAAI8G,KACdD,QAAArG,EAAK,CAAA6H,EAAAA,KAAKrI,IAAI8J,KACRvJ,cAAAC,EAAK,CAAA6H,EAAAA,KAAKrI,IAAIO,sCACjBC,EAAI,GAAC6H,KAAKrI,GAAAA,CAAAA,CAAAA,mBACEM,MAAAE,EAAK,CAAA6H,EAAAA,KAAKrI,IAAIqE,GAAoBqB,eAAAlF,EAAK,GAAA6H,KAAKrI,IAAI0F,mCACrDe,QAAAjG,EAAK,CAAA,EAAA6H,KAAKrI,IAAIyG,OAAAA,CAAAA,CAAAA,QAKpCjG,EAAW,CAAA,GAAA8K,GAAA9K,KAcXA,EAAwB,CAAA,GAAA+K,GAAA/K,kFAYRA,EAAU,CAAA,IAAA,oBAAVA,EAAU,uqCAlE/BC,EAsCKC,EAAA+D,EAAA7D,CArCHC,EAAAA,EAoBK4D,EAAAG,CAAAA,EAnBH/D,EAAuD+D,EAAA4G,CAAAA,cACvD3K,EAAAA,EAiBK+D,EAAAF,kEAEP7D,EAeK4D,EAAAI,wBATHhE,EAAAA,EAQKgE,EAAAF,CAAAA,mJAlC2B,EAAA,CAAAtB,IAAArC,EAAA,IAAAmK,KAAAA,EAAA3K,EAAK,CAAA6H,EAAAA,KAAKrI,IAAI8J,KAAI,KAAAxG,EAAAmI,EAAAN,GAE3C3K,EAAW,CAAA,gGAKXA,EAAwB,CAAA,0TAqBlBQ,EAAA,IAAA0K,GAAA9E,QAAApG,EAAK,CAAA6H,EAAAA,KAAKrI,IAAI8G,MACd9F,EAAA,IAAA0K,GAAA7E,QAAArG,EAAK,CAAA6H,EAAAA,KAAKrI,IAAI8J,MACR9I,EAAA,IAAA0K,GAAAnL,cAAAC,EAAK,CAAA6H,EAAAA,KAAKrI,IAAIO,mDACjBC,EAAI,CAAA,EAAC6H,KAAKrI,4BACEgB,EAAA,IAAA2K,GAAArL,MAAAE,EAAK,CAAA6H,EAAAA,KAAKrI,IAAIqE,IAAoBrD,EAAA,IAAA2K,GAAAjG,eAAAlF,EAAK,CAAA6H,EAAAA,KAAKrI,IAAI0F,uCACrD1E,EAAA,IAAA4K,GAAAnF,QAAAjG,EAAK,CAAA6H,EAAAA,KAAKrI,IAAIyG,oBAKpCjG,EAAW,CAAA,2GAcXA,EAAwB,CAAA,iMAYRA,EAAU,CAAA,meApElBA,EAAI,CAAA,EAACgI,MAAMC,QAAO,6BAA5B,yDAAA,0CAAHhI,CAAAA,EAAmCC,EAAAqG,EAAAnG,CAAAA,oCAAtBJ,EAAI,CAAA,EAACgI,MAAMC,QAAO,KAAAnF,EAAAgD,EAAAC,0EAF5B,mDAAA,kCAAH9F,CAAAA,EAAgBC,EAAAqG,EAAAnG,CAAAA,+9BAS2E,oBAAA,6EACZ,sBAAA,QAAA,uEACmB,2BAAA,aAAA,maAGd,eAAA,cAAA,eAAA,uEAMtE,2BAAA,aAAA,uEAFW,wBAAA,yFAAXJ,EAAW,CAAA,KAAAqL,+NAYChK,MAAA,CAAAvB,MAAAE,EAAK,CAAA,EAAA6H,KAAKrI,IAAIqE,8FAAdrD,EAAA,IAAA8K,EAAAxL,MAAAE,EAAK,GAAA6H,KAAKrI,IAAIqE,iJAFb7D,EAAI,GAAC6H,KAAKrI,GAAAA,CAAAA,CAAAA,sGAAVQ,EAAI,CAAA,EAAC6H,KAAKrI,qMAiBhBQ,EAAiB,CAAA,IAAA,gBAAjBA,EAAiB,CAAA,4MAAjBA,EAAiB,+IAC3B,2BAAA,oFAKqE,QAAA,cAAA,+EACd,sBAAA,QAAA,mTAHpD,0CAAA,oIAAA,wLADRC,EAKKC,EAAA0B,EAAAxB,GAJHC,EAAoDuB,EAAAzB,y8BAUvCH,EAAsB,CAAA,IAAA,gBAAtBA,EAAsB,6MAAtBA,EAAsB,CAAA,8IAChC,mBAAA,cAAA,mBAAA,kFAGIF,MAAAE,EAAK,CAAA,EAAA6H,KAAKrI,IAAIqE,OAChB7D,EAAI,CAAA,EAAC6H,KAAKrI,qHADRgB,EAAA,IAAA+K,EAAAzL,MAAAE,EAAK,CAAA,EAAA6H,KAAKrI,IAAIqE,gBAChB7D,EAAI,CAAC6H,EAAAA,KAAKrI,0rBAOdQ,EAAY,4CAAZA,EAAY,yBAAnBC,EAA0BC,EAAAC,EAAAC,CAAAA,0BAAnBJ,EAAY,sDAlFfA,EAAI,CAACkI,EAAAA,UAAAA,CAAalI,EAAI,CAACgI,EAAAA,OAAShI,EAAI,CAAC6H,EAAAA,KAAKrI,KAAGgM,GAAAxL,8CAUhD,OAAAA,KAAKkI,SAAQ,EAERlI,GAAKgI,EAAAA,MAAK,EAEVhI,EAAI,GAAC6H,KAAKrI,IAAG,gRAdfQ,CAAAA,EAAI,CAACkI,EAAAA,UAAAA,CAAalI,EAAI,CAAA,EAACgI,OAAShI,EAAI,CAAA,EAAC6H,KAAKrI,oeApCrCqI,CAAcrE,EAAAA,EAInB,MAAA5D,EAASuI,KAEX,IAAAsD,EAAc,GAEdC,EAAe,GACfC,EAAa,SAMXC,EAAmBC,GAAkB,8BACrCC,EAAwBD,GAAkB,EAAA,4BAE1CE,GAAW,KACfnM,EACGqK,SAAS+B,GAAqB,CAAAlM,MAAOmM,EAAKpE,KAAKrI,IAAIqE,EAAAA,CAAAA,EACnDsG,YACA+B,KAAM1B,GAAAA,CACDA,EAAMxC,OACRmE,QAAQnE,MAAMwC,EAAMxC,MAAMC,OAAAA,EAC1BpB,EAAA,EAAA6E,EAAe,uBAAyBlB,EAAMxC,MAAMC,OACpDpB,EAAAA,EAAA,EAAA8E,EAAa,EAAA,GAGbS,GAAKxI,GAAO,YA2B+BiF,EAAA,IAAAuD,GAAKxI,GAAO,QAAU9D,EAAQ,OAAA,QAC9B8L,EAAiBS,IAAI,IACrBC,EAAA,IAAAF,GAAKxI,GAAO,QAAU9D,EAAQ,uBAG9BgM,EAAsBO,IAAI,EAAA,EAG3BE,EAAA,IAAA1F,EAAA,EAAA4E,EAAeA,CAAAA,CAAAA,SAkCdG,EAAiBS,IAAI,UACrBN,oBAP9BS,EAAiBhC,wBAoBbsB,EAAsBO,IAAI,kBAN9BI,EAAsBjC,yBAWtBmB,EAAUnB,0FAnHzB3D,EAAA,EAAA/G,CAAAA,MAAAA,EAAON,OAAQqI,EAAI/H,EAAA4M,EAAA7F,EAAA,EAAArH,uBAStBqH,EAAA,EAAA8F,EACDC,GAAOC,OAAOC,eAAiBb,GAAMpE,MAAMrI,KAAKyG,SAAS8G,UAAWC,GAAWA,EAAOC,SAAWL,GAAO/I,EAAO,GAAA,CAAA,oBAChHgD,EAAA,EAAEqG,EAA2BN,GAAOC,OAAOM,yBAA2BR"}