import{S as A,i as U,s as k,bh as q,p as z,P as G,U as v,R as D,u as w,I as E,a_ as H,X as S,d as c,V as j,v as P,w as _,J as b,Y as J,_ as V,a as d,Z as L,a4 as K,b as p,t as g,a5 as x,aD as R,aE as X,a9 as Y,bi as Z,aG as B,aN as F,e as N,g as Q,c as C,K as T,L as y}from"../chunks/vendor.4592e533.js";import{h as W,U as tt}from"../chunks/graphql.eeb20993.js";import{T as rt}from"../chunks/Toast.3b07b56a.js";import{S as et}from"../chunks/SMLVersionForm.30df7f42.js";import{M as nt}from"../chunks/MetaDescriptors.9bcf6673.js";const st=async({params:o})=>({...o}),vt=Object.freeze(Object.defineProperty({__proto__:null,load:st},Symbol.toStringTag,{value:"Module"}));function at(o){let t,e;return t=new et({props:{onSubmit:o[5],initialValues:o[3],submitText:"Save"}}),{c(){v(t.$$.fragment)},l(r){S(t.$$.fragment,r)},m(r,s){V(t,r,s),e=!0},p(r,s){const l={};s&8&&(l.initialValues=r[3]),t.$set(l)},i(r){e||(p(t.$$.fragment,r),e=!0)},o(r){g(t.$$.fragment,r),e=!1},d(r){x(t,r)}}}function ot(o){let t,e,r=o[1].error.message+"",s;return{c(){t=w("p"),e=E("Oh no... "),s=E(r)},l(l){t=P(l,"P",{});var i=_(t);e=b(i,"Oh no... "),s=b(i,r),i.forEach(c)},m(l,i){d(l,t,i),L(t,e),L(t,s)},p(l,i){i&2&&r!==(r=l[1].error.message+"")&&T(s,r)},i:y,o:y,d(l){l&&c(t)}}}function it(o){let t,e;return{c(){t=w("p"),e=E("Loading...")},l(r){t=P(r,"P",{});var s=_(t);e=b(s,"Loading..."),s.forEach(c)},m(r,s){d(r,t,s),L(t,e)},p:y,i:y,o:y,d(r){r&&c(t)}}}function lt(o){let t,e,r,s;const l=[it,ot,at],i=[];function m(a,$){return a[1].fetching?0:a[1].error?1:2}return t=m(o),e=i[t]=l[t](o),{c(){e.c(),r=N()},l(a){e.l(a),r=N()},m(a,$){i[t].m(a,$),d(a,r,$),s=!0},p(a,$){let u=t;t=m(a),t===u?i[t].p(a,$):(Q(),g(i[u],1,1,()=>{i[u]=null}),C(),e=i[t],e?e.p(a,$):(e=i[t]=l[t](a),e.c()),p(e,1),e.m(r.parentNode,r))},i(a){s||(p(e),s=!0)},o(a){g(e),s=!1},d(a){i[t].d(a),a&&c(r)}}}function ft(o){let t,e;return t=new Z({props:{$$slots:{default:[lt]},$$scope:{ctx:o}}}),{c(){v(t.$$.fragment)},l(r){S(t.$$.fragment,r)},m(r,s){V(t,r,s),e=!0},p(r,s){const l={};s&1034&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){e||(p(t.$$.fragment,r),e=!0)},o(r){g(t.$$.fragment,r),e=!1},d(r){x(t,r)}}}function $t(o){let t,e;return{c(){t=w("span"),e=E(o[2])},l(r){t=P(r,"SPAN",{});var s=_(t);e=b(s,o[2]),s.forEach(c)},m(r,s){d(r,t,s),L(t,e)},p(r,s){s&4&&T(e,r[2])},d(r){r&&c(t)}}}function ct(o){let t,e,r,s,l,i,m,a,$,u;t=new nt({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}}),i=new q({props:{$$slots:{default:[ft]},$$scope:{ctx:o}}});function I(n){o[7](n)}let M={$$slots:{default:[$t]},$$scope:{ctx:o}};return o[0]!==void 0&&(M.running=o[0]),a=new rt({props:M}),z.push(()=>G(a,"running",I)),{c(){v(t.$$.fragment),e=D(),r=w("h1"),s=E("Edit SMLVersion"),l=D(),v(i.$$.fragment),m=D(),v(a.$$.fragment),this.h()},l(n){const f=H("svelte-7e9nlv",document.head);S(t.$$.fragment,f),f.forEach(c),e=j(n),r=P(n,"H1",{class:!0});var h=_(r);s=b(h,"Edit SMLVersion"),h.forEach(c),l=j(n),S(i.$$.fragment,n),m=j(n),S(a.$$.fragment,n),this.h()},h(){J(r,"class","text-4xl my-4 font-bold")},m(n,f){V(t,document.head,null),d(n,e,f),d(n,r,f),L(r,s),d(n,l,f),V(i,n,f),d(n,m,f),V(a,n,f),u=!0},p(n,[f]){const h={};f&1034&&(h.$$scope={dirty:f,ctx:n}),i.$set(h);const O={};f&1028&&(O.$$scope={dirty:f,ctx:n}),!$&&f&1&&($=!0,O.running=n[0],K(()=>$=!1)),a.$set(O)},i(n){u||(p(t.$$.fragment,n),p(i.$$.fragment,n),p(a.$$.fragment,n),u=!0)},o(n){g(t.$$.fragment,n),g(i.$$.fragment,n),g(a.$$.fragment,n),u=!1},d(n){x(t),n&&c(e),n&&c(r),n&&c(l),x(i,n),n&&c(m),x(a,n)}}}function ut(o,t,e){let r,s,{data:l}=t;const{smlVersionId:i}=l,m=R();let a="",$=!1;const u=X({query:W,client:m,variables:{smlVersionID:i}});Y(o,u,n=>e(1,s=n));const I=n=>{m.mutation(tt,{smlVersionID:i,smlVersion:n}).toPromise().then(f=>{f.error?(console.error(f.error.message),e(2,a="Error editing SMLVersion: "+f.error.message),e(0,$=!0)):B(F+"/admin/sml-versions")})};function M(n){$=n,e(0,$)}return o.$$set=n=>{"data"in n&&e(6,l=n.data)},o.$$.update=()=>{o.$$.dirty&1&&($||e(2,a="")),o.$$.dirty&2&&e(3,r=s.data?{...s.data.getSMLVersion,logo:void 0}:void 0)},[$,s,a,r,u,I,l,M]}class St extends A{constructor(t){super(),U(this,t,ut,ct,k,{data:6})}}export{St as component,vt as universal};
//# sourceMappingURL=5.507d5714.js.map
