import{S as A,i as U,s as k,bh as q,p as z,P as F,U as v,R as D,u as w,I as E,a_ as G,X as S,d as c,V as j,v as P,w as _,J as b,Y as H,_ as V,a as d,Z as L,a4 as J,b as p,t as g,a5 as x,aD as K,aF as R,a9 as X,bi as Y,aG as Z,aN as B,e as N,g as Q,c as C,K as T,L as y}from"../chunks/vendor.b9433985.js";import{h as W,U as tt}from"../chunks/graphql.eeb20993.js";import{T as et}from"../chunks/Toast.3ad0b1e6.js";import{S as rt}from"../chunks/SMLVersionForm.25441d8c.js";import{M as st}from"../chunks/MetaDescriptors.a1e3c9f2.js";const nt=async({params:i})=>({...i}),vt=Object.freeze(Object.defineProperty({__proto__:null,load:nt},Symbol.toStringTag,{value:"Module"}));function at(i){let t,r;return t=new rt({props:{onSubmit:i[5],initialValues:i[3],submitText:"Save"}}),{c(){v(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){V(t,e,n),r=!0},p(e,n){const l={};n&8&&(l.initialValues=e[3]),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){g(t.$$.fragment,e),r=!1},d(e){x(t,e)}}}function it(i){let t,r,e=i[1].error.message+"",n;return{c(){t=w("p"),r=E("Oh no... "),n=E(e)},l(l){t=P(l,"P",{});var o=_(t);r=b(o,"Oh no... "),n=b(o,e),o.forEach(c)},m(l,o){d(l,t,o),L(t,r),L(t,n)},p(l,o){o&2&&e!==(e=l[1].error.message+"")&&T(n,e)},i:y,o:y,d(l){l&&c(t)}}}function ot(i){let t,r;return{c(){t=w("p"),r=E("Loading...")},l(e){t=P(e,"P",{});var n=_(t);r=b(n,"Loading..."),n.forEach(c)},m(e,n){d(e,t,n),L(t,r)},p:y,i:y,o:y,d(e){e&&c(t)}}}function lt(i){let t,r,e,n;const l=[ot,it,at],o=[];function m(a,$){return a[1].fetching?0:a[1].error?1:2}return t=m(i),r=o[t]=l[t](i),{c(){r.c(),e=N()},l(a){r.l(a),e=N()},m(a,$){o[t].m(a,$),d(a,e,$),n=!0},p(a,$){let u=t;t=m(a),t===u?o[t].p(a,$):(Q(),g(o[u],1,1,()=>{o[u]=null}),C(),r=o[t],r?r.p(a,$):(r=o[t]=l[t](a),r.c()),p(r,1),r.m(e.parentNode,e))},i(a){n||(p(r),n=!0)},o(a){g(r),n=!1},d(a){o[t].d(a),a&&c(e)}}}function ft(i){let t,r;return t=new Y({props:{$$slots:{default:[lt]},$$scope:{ctx:i}}}),{c(){v(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){V(t,e,n),r=!0},p(e,n){const l={};n&1034&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){r||(p(t.$$.fragment,e),r=!0)},o(e){g(t.$$.fragment,e),r=!1},d(e){x(t,e)}}}function $t(i){let t,r;return{c(){t=w("span"),r=E(i[2])},l(e){t=P(e,"SPAN",{});var n=_(t);r=b(n,i[2]),n.forEach(c)},m(e,n){d(e,t,n),L(t,r)},p(e,n){n&4&&T(r,e[2])},d(e){e&&c(t)}}}function ct(i){let t,r,e,n,l,o,m,a,$,u;t=new st({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}}),o=new q({props:{$$slots:{default:[ft]},$$scope:{ctx:i}}});function I(s){i[7](s)}let M={$$slots:{default:[$t]},$$scope:{ctx:i}};return i[0]!==void 0&&(M.running=i[0]),a=new et({props:M}),z.push(()=>F(a,"running",I)),{c(){v(t.$$.fragment),r=D(),e=w("h1"),n=E("Edit SMLVersion"),l=D(),v(o.$$.fragment),m=D(),v(a.$$.fragment),this.h()},l(s){const f=G("svelte-7e9nlv",document.head);S(t.$$.fragment,f),f.forEach(c),r=j(s),e=P(s,"H1",{class:!0});var h=_(e);n=b(h,"Edit SMLVersion"),h.forEach(c),l=j(s),S(o.$$.fragment,s),m=j(s),S(a.$$.fragment,s),this.h()},h(){H(e,"class","text-4xl my-4 font-bold")},m(s,f){V(t,document.head,null),d(s,r,f),d(s,e,f),L(e,n),d(s,l,f),V(o,s,f),d(s,m,f),V(a,s,f),u=!0},p(s,[f]){const h={};f&1034&&(h.$$scope={dirty:f,ctx:s}),o.$set(h);const O={};f&1028&&(O.$$scope={dirty:f,ctx:s}),!$&&f&1&&($=!0,O.running=s[0],J(()=>$=!1)),a.$set(O)},i(s){u||(p(t.$$.fragment,s),p(o.$$.fragment,s),p(a.$$.fragment,s),u=!0)},o(s){g(t.$$.fragment,s),g(o.$$.fragment,s),g(a.$$.fragment,s),u=!1},d(s){x(t),s&&c(r),s&&c(e),s&&c(l),x(o,s),s&&c(m),x(a,s)}}}function ut(i,t,r){let e,n,l,{data:o}=t;const m=K();let a="",$=!1;const u=R({query:W,client:m,variables:{smlVersionID:e}});X(i,u,s=>r(1,l=s));const I=s=>{m.mutation(tt,{smlVersionID:e,smlVersion:s}).toPromise().then(f=>{f.error?(console.error(f.error.message),r(2,a="Error editing SMLVersion: "+f.error.message),r(0,$=!0)):Z(B+"/admin/sml-versions")})};function M(s){$=s,r(0,$)}return i.$$set=s=>{"data"in s&&r(6,o=s.data)},i.$$.update=()=>{i.$$.dirty&64&&({smlVersionId:e}=o),i.$$.dirty&1&&($||r(2,a="")),i.$$.dirty&2&&r(3,n=l.data?{...l.data.getSMLVersion,logo:void 0}:void 0)},[$,l,a,n,u,I,o,M]}class St extends A{constructor(t){super(),U(this,t,ut,ct,k,{data:6})}}export{St as component,vt as universal};
//# sourceMappingURL=5.dc92d2ef.js.map
