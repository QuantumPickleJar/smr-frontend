import{S as W,i as ee,s as te,bh as re,U as x,R as D,e as M,a_ as ne,X as v,d as u,V,_ as w,a as g,b as p,t as d,c as j,a5 as y,aD as $e,aE as se,u as k,v as A,w as L,Y as C,Z as R,g as q,L as fe,ar as oe,bi as H,I as P,J as _,K as B,aR as ae,aJ as N,aN as S}from"../chunks/vendor.34a7aa6b.js";import{o as le,p as ie,q as ce}from"../chunks/graphql.eeb20993.js";import{P as Q}from"../chunks/PageControls.e40a7fd5.js";import{c as X}from"../chunks/api.087e22ff.js";import"../chunks/user.9877949f.js";import{M as me}from"../chunks/MetaDescriptors.47598ef8.js";import{D as ue,H as pe,B as de,R as T,C as I}from"../chunks/forms.d427e079.js";import{p as Y}from"../chunks/formatting.6003925c.js";function Z(o,e,r){const t=o.slice();return t[8]=e[r],t}function z(o){let e,r,t,n;return t=new Q({props:{totalPages:Math.ceil(o[2]/E),currentPage:K}}),{c(){e=k("div"),r=k("div"),x(t.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var a=L(e);r=A(a,"DIV",{});var i=L(r);v(t.$$.fragment,i),i.forEach(u),a.forEach(u),this.h()},h(){C(e,"class","mb-5 ml-auto flex justify-end")},m(s,a){g(s,e,a),R(e,r),w(t,r,null),n=!0},p(s,a){const i={};a&4&&(i.totalPages=Math.ceil(s[2]/E)),t.$set(i)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){d(t.$$.fragment,s),n=!1},d(s){s&&u(e),y(t)}}}function ge(o){let e,r;return e=new ue({props:{class:"max-w-full",$$slots:{default:[ke]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const s={};n&2049&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function he(o){let e,r;return e=new H({props:{$$slots:{default:[Ae]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const s={};n&2049&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function xe(o){let e,r;return e=new H({props:{$$slots:{default:[Le]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const s={};n&2048&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function ve(o){let e;return{c(){e=P("Mod")},l(r){e=_(r,"Mod")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function we(o){let e;return{c(){e=P("Version")},l(r){e=_(r,"Version")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function ye(o){let e;return{c(){e=P("Release Date")},l(r){e=_(r,"Release Date")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function De(o){let e,r,t,n,s,a,i,f;return e=new I({props:{$$slots:{default:[ve]},$$scope:{ctx:o}}}),t=new I({props:{$$slots:{default:[we]},$$scope:{ctx:o}}}),s=new I({props:{$$slots:{default:[ye]},$$scope:{ctx:o}}}),i=new I({}),{c(){x(e.$$.fragment),r=D(),x(t.$$.fragment),n=D(),x(s.$$.fragment),a=D(),x(i.$$.fragment)},l(l){v(e.$$.fragment,l),r=V(l),v(t.$$.fragment,l),n=V(l),v(s.$$.fragment,l),a=V(l),v(i.$$.fragment,l)},m(l,$){w(e,l,$),g(l,r,$),w(t,l,$),g(l,n,$),w(s,l,$),g(l,a,$),w(i,l,$),f=!0},p(l,$){const c={};$&2048&&(c.$$scope={dirty:$,ctx:l}),e.$set(c);const h={};$&2048&&(h.$$scope={dirty:$,ctx:l}),t.$set(h);const m={};$&2048&&(m.$$scope={dirty:$,ctx:l}),s.$set(m)},i(l){f||(p(e.$$.fragment,l),p(t.$$.fragment,l),p(s.$$.fragment,l),p(i.$$.fragment,l),f=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),d(s.$$.fragment,l),d(i.$$.fragment,l),f=!1},d(l){y(e,l),l&&u(r),y(t,l),l&&u(n),y(s,l),l&&u(a),y(i,l)}}}function Ve(o){let e,r;return e=new T({props:{$$slots:{default:[De]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const s={};n&2048&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function Pe(o){let e=o[8].mod.name+"",r;return{c(){r=P(e)},l(t){r=_(t,e)},m(t,n){g(t,r,n)},p(t,n){n&1&&e!==(e=t[8].mod.name+"")&&B(r,e)},d(t){t&&u(r)}}}function _e(o){let e=o[8].version+"",r;return{c(){r=P(e)},l(t){r=_(t,e)},m(t,n){g(t,r,n)},p(t,n){n&1&&e!==(e=t[8].version+"")&&B(r,e)},d(t){t&&u(r)}}}function Ie(o){let e=Y(o[8].created_at)+"",r;return{c(){r=P(e)},l(t){r=_(t,e)},m(t,n){g(t,r,n)},p(t,n){n&1&&e!==(e=Y(t[8].created_at)+"")&&B(r,e)},d(t){t&&u(r)}}}function Me(o){let e;return{c(){e=P("Approve")},l(r){e=_(r,"Approve")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ee(o){let e;return{c(){e=P("Deny")},l(r){e=_(r,"Deny")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ue(o){let e;return{c(){e=P("Download")},l(r){e=_(r,"Download")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function be(o){let e;return{c(){e=P("View")},l(r){e=_(r,"View")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ne(o){let e,r,t,n,s,a,i,f,l;function $(){return o[5](o[8])}r=new N({props:{variant:"outlined",$$slots:{default:[Me]},$$scope:{ctx:o}}}),r.$on("click",$);function c(){return o[6](o[8])}return n=new N({props:{variant:"outlined",$$slots:{default:[Ee]},$$scope:{ctx:o}}}),n.$on("click",c),a=new N({props:{variant:"outlined",href:X+"/mod/"+o[8].mod_id+"/versions/"+o[8].id+"/download",$$slots:{default:[Ue]},$$scope:{ctx:o}}}),f=new N({props:{variant:"outlined",href:S+"/mod/"+o[8].mod_id+"/version/"+o[8].id,$$slots:{default:[be]},$$scope:{ctx:o}}}),{c(){e=k("div"),x(r.$$.fragment),t=D(),x(n.$$.fragment),s=D(),x(a.$$.fragment),i=D(),x(f.$$.fragment),this.h()},l(h){e=A(h,"DIV",{class:!0});var m=L(e);v(r.$$.fragment,m),t=V(m),v(n.$$.fragment,m),s=V(m),v(a.$$.fragment,m),i=V(m),v(f.$$.fragment,m),m.forEach(u),this.h()},h(){C(e,"class","grid grid-flow-col gap-4")},m(h,m){g(h,e,m),w(r,e,null),R(e,t),w(n,e,null),R(e,s),w(a,e,null),R(e,i),w(f,e,null),l=!0},p(h,m){o=h;const U={};m&2048&&(U.$$scope={dirty:m,ctx:o}),r.$set(U);const b={};m&2048&&(b.$$scope={dirty:m,ctx:o}),n.$set(b);const J={};m&1&&(J.href=X+"/mod/"+o[8].mod_id+"/versions/"+o[8].id+"/download"),m&2048&&(J.$$scope={dirty:m,ctx:o}),a.$set(J);const O={};m&1&&(O.href=S+"/mod/"+o[8].mod_id+"/version/"+o[8].id),m&2048&&(O.$$scope={dirty:m,ctx:o}),f.$set(O)},i(h){l||(p(r.$$.fragment,h),p(n.$$.fragment,h),p(a.$$.fragment,h),p(f.$$.fragment,h),l=!0)},o(h){d(r.$$.fragment,h),d(n.$$.fragment,h),d(a.$$.fragment,h),d(f.$$.fragment,h),l=!1},d(h){h&&u(e),y(r),y(n),y(a),y(f)}}}function Re(o){let e,r,t,n,s,a,i,f,l;return e=new I({props:{$$slots:{default:[Pe]},$$scope:{ctx:o}}}),t=new I({props:{$$slots:{default:[_e]},$$scope:{ctx:o}}}),s=new I({props:{$$slots:{default:[Ie]},$$scope:{ctx:o}}}),i=new I({props:{$$slots:{default:[Ne]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment),r=D(),x(t.$$.fragment),n=D(),x(s.$$.fragment),a=D(),x(i.$$.fragment),f=D()},l($){v(e.$$.fragment,$),r=V($),v(t.$$.fragment,$),n=V($),v(s.$$.fragment,$),a=V($),v(i.$$.fragment,$),f=V($)},m($,c){w(e,$,c),g($,r,c),w(t,$,c),g($,n,c),w(s,$,c),g($,a,c),w(i,$,c),g($,f,c),l=!0},p($,c){const h={};c&2049&&(h.$$scope={dirty:c,ctx:$}),e.$set(h);const m={};c&2049&&(m.$$scope={dirty:c,ctx:$}),t.$set(m);const U={};c&2049&&(U.$$scope={dirty:c,ctx:$}),s.$set(U);const b={};c&2049&&(b.$$scope={dirty:c,ctx:$}),i.$set(b)},i($){l||(p(e.$$.fragment,$),p(t.$$.fragment,$),p(s.$$.fragment,$),p(i.$$.fragment,$),l=!0)},o($){d(e.$$.fragment,$),d(t.$$.fragment,$),d(s.$$.fragment,$),d(i.$$.fragment,$),l=!1},d($){y(e,$),$&&u(r),y(t,$),$&&u(n),y(s,$),$&&u(a),y(i,$),$&&u(f)}}}function F(o){let e,r;return e=new T({props:{$$slots:{default:[Re]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const s={};n&2049&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function je(o){let e,r,t=o[0].data.getUnapprovedVersions.versions,n=[];for(let a=0;a<t.length;a+=1)n[a]=F(Z(o,t,a));const s=a=>d(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=M()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=M()},m(a,i){for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(a,i);g(a,e,i),r=!0},p(a,i){if(i&25){t=a[0].data.getUnapprovedVersions.versions;let f;for(f=0;f<t.length;f+=1){const l=Z(a,t,f);n[f]?(n[f].p(l,i),p(n[f],1)):(n[f]=F(l),n[f].c(),p(n[f],1),n[f].m(e.parentNode,e))}for(q(),f=t.length;f<n.length;f+=1)s(f);j()}},i(a){if(!r){for(let i=0;i<t.length;i+=1)p(n[i]);r=!0}},o(a){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)d(n[i]);r=!1},d(a){ae(n,a),a&&u(e)}}}function ke(o){let e,r,t,n;return e=new pe({props:{$$slots:{default:[Ve]},$$scope:{ctx:o}}}),t=new de({props:{$$slots:{default:[je]},$$scope:{ctx:o}}}),{c(){x(e.$$.fragment),r=D(),x(t.$$.fragment)},l(s){v(e.$$.fragment,s),r=V(s),v(t.$$.fragment,s)},m(s,a){w(e,s,a),g(s,r,a),w(t,s,a),n=!0},p(s,a){const i={};a&2048&&(i.$$scope={dirty:a,ctx:s}),e.$set(i);const f={};a&2049&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){n||(p(e.$$.fragment,s),p(t.$$.fragment,s),n=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),n=!1},d(s){y(e,s),s&&u(r),y(t,s)}}}function Ae(o){let e,r=o[0].error.message+"",t;return{c(){e=P("Oh no... "),t=P(r)},l(n){e=_(n,"Oh no... "),t=_(n,r)},m(n,s){g(n,e,s),g(n,t,s)},p(n,s){s&1&&r!==(r=n[0].error.message+"")&&B(t,r)},d(n){n&&u(e),n&&u(t)}}}function Le(o){let e;return{c(){e=P("Loading...")},l(r){e=_(r,"Loading...")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function qe(o){let e,r,t,n;const s=[xe,he,ge],a=[];function i(f,l){return f[0].fetching?0:f[0].error?1:2}return e=i(o),r=a[e]=s[e](o),{c(){r.c(),t=M()},l(f){r.l(f),t=M()},m(f,l){a[e].m(f,l),g(f,t,l),n=!0},p(f,l){let $=e;e=i(f),e===$?a[e].p(f,l):(q(),d(a[$],1,1,()=>{a[$]=null}),j(),r=a[e],r?r.p(f,l):(r=a[e]=s[e](f),r.c()),p(r,1),r.m(t.parentNode,t))},i(f){n||(p(r),n=!0)},o(f){d(r),n=!1},d(f){a[e].d(f),f&&u(t)}}}function G(o){let e,r,t;return r=new Q({props:{totalPages:Math.ceil(o[2]/E),currentPage:K}}),{c(){e=k("div"),x(r.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var s=L(e);v(r.$$.fragment,s),s.forEach(u),this.h()},h(){C(e,"class","mt-5 ml-auto flex justify-end")},m(n,s){g(n,e,s),w(r,e,null),t=!0},p(n,s){const a={};s&4&&(a.totalPages=Math.ceil(n[2]/E)),r.$set(a)},i(n){t||(p(r.$$.fragment,n),t=!0)},o(n){d(r.$$.fragment,n),t=!1},d(n){n&&u(e),y(r)}}}function Be(o){let e,r,t,n,s,a,i;e=new me({props:{description:"Unapproved mod versions",title:"Admin: Unapproved Versions"}});let f=o[2]&&z(o);n=new re({props:{$$slots:{default:[qe]},$$scope:{ctx:o}}});let l=o[2]&&G(o);return{c(){x(e.$$.fragment),r=D(),f&&f.c(),t=D(),x(n.$$.fragment),s=D(),l&&l.c(),a=M()},l($){const c=ne("svelte-c87g9p",document.head);v(e.$$.fragment,c),c.forEach(u),r=V($),f&&f.l($),t=V($),v(n.$$.fragment,$),s=V($),l&&l.l($),a=M()},m($,c){w(e,document.head,null),g($,r,c),f&&f.m($,c),g($,t,c),w(n,$,c),g($,s,c),l&&l.m($,c),g($,a,c),i=!0},p($,[c]){$[2]?f?(f.p($,c),c&4&&p(f,1)):(f=z($),f.c(),p(f,1),f.m(t.parentNode,t)):f&&(q(),d(f,1,1,()=>{f=null}),j());const h={};c&2049&&(h.$$scope={dirty:c,ctx:$}),n.$set(h),$[2]?l?(l.p($,c),c&4&&p(l,1)):(l=G($),l.c(),p(l,1),l.m(a.parentNode,a)):l&&(q(),d(l,1,1,()=>{l=null}),j())},i($){i||(p(e.$$.fragment,$),p(f),p(n.$$.fragment,$),p(l),i=!0)},o($){d(e.$$.fragment,$),d(f),d(n.$$.fragment,$),d(l),i=!1},d($){y(e),$&&u(r),f&&f.d($),$&&u(t),y(n,$),$&&u(s),l&&l.d($),$&&u(a)}}}const E=20,K=1;function Je(o,e,r){let t,n,s,a=fe,i=()=>(a(),a=oe(t,m=>r(0,s=m)),t);o.$$.on_destroy.push(()=>a());const f=$e(),l=m=>{f.mutation(ie,{versionId:m}).toPromise().then(()=>{t.pause(),t.resume()})},$=m=>{f.mutation(ce,{versionId:m}).toPromise().then(()=>{t.pause(),t.resume()})},c=m=>l(m.id),h=m=>$(m.id);return o.$$.update=()=>{o.$$.dirty&1&&r(2,n=s?.data?.getUnapprovedVersions?.count)},i(r(1,t=se({query:le,client:f,variables:{filter:{offset:(K-1)*E,limit:E}}}))),[s,t,n,l,$,c,h]}class Fe extends W{constructor(e){super(),ee(this,e,Je,Be,te,{})}}export{Fe as component};
//# sourceMappingURL=9.55bd7e08.js.map
