import{G as tn,S as bt,i as Vt,s as xt,d as z,a7 as St,v as yt,e as m,b as S,g,h as V,k as I,j as p,N as k,m as v,n as q,Q as i,r as Y,p as st,t as oe,q as rt,a8 as nn,J as Ee,L as ke,O as Se,R as Ie,u as j,a9 as on,aa as sn,ab as It,a1 as at,W as D,M as fe,X as N,Y as K,x as rn,a2 as Dt,F as Nt,_ as Pt,ar as Rt,$ as nt,H as _e,aj as Tt,a0 as an,f as Fe,K as cn,Z as it,a6 as ln,U as Ct,l as fn,ad as un,V as dn}from"../chunks/vendor.339d1c7d.js";import{t as pn,s as jt,H as At}from"../chunks/graphql.deb800f0.js";import{l as hn}from"../chunks/gql.ff9241aa.js";import{m as ct}from"../chunks/markdown.f44df55f.js";import{A as Mt}from"../chunks/AnnouncementRow.a4d3e4ad.js";import{p as lt,a as ft,b as ut,c as dt}from"../chunks/formatting.a9f13d93.js";import{M as Ut}from"../chunks/MetaDescriptors.d5a902ca.js";import{A as Qe}from"../chunks/api.853e29e3.js";import{u as ot}from"../chunks/user.a647684e.js";import{i as _t}from"../chunks/launcher.c2edc083.js";import{V as qt,a as zt}from"../chunks/VersionDependenciesGrid.903f0eee.js";import{P as Gt}from"../chunks/Page404.07ef7689.js";const mn=async({params:t,parent:e})=>({...t,...await hn({version:tn({query:pn,client:(await e()).client,variables:{version:t.versionId}})})}),Rn=Object.freeze(Object.defineProperty({__proto__:null,load:mn},Symbol.toStringTag,{value:"Module"})),Ne="src/lib/components/versions/VersionDescription.svelte";function pt(t){let e,r,n;r=new Mt({props:{importance:jt.Warning,message:"This version has not yet been approved by the virus scanner and is hidden until this process is complete. If this message isn't gone in the next few minutes, ask for manual approval on the Discord."},$$inline:!0});const s={c:function(){e=m("div"),Ee(r.$$.fragment),this.h()},l:function(l){e=g(l,"DIV",{class:!0});var c=V(e);ke(r.$$.fragment,c),c.forEach(p),this.h()},h:function(){k(e,"class","p-4"),v(e,Ne,11,4,276)},m:function(l,c){q(l,e,c),Se(r,e,null),n=!0},i:function(l){n||(Y(r.$$.fragment,l),n=!0)},o:function(l){oe(r.$$.fragment,l),n=!1},d:function(l){l&&p(e),Ie(r)}};return z("SvelteRegisterBlock",{block:s,id:pt.name,type:"if",source:"(9:2) {#if !approved}",ctx:t}),s}function Lt(t){const e={c:j,l:j,m:j,p:j,d:j};return z("SvelteRegisterBlock",{block:e,id:Lt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { AnnouncementImportance }',ctx:t}),e}function Ht(t){let e,r,n=t[2]+"";const s={c:function(){e=m("p"),r=new on(!1),this.h()},l:function(l){e=g(l,"P",{});var c=V(e);r=sn(c,!1),c.forEach(p),this.h()},h:function(){r.a=null,v(e,Ne,22,10,805)},m:function(l,c){q(l,e,c),r.m(n,e)},p:function(l,c){c&1&&n!==(n=l[2]+"")&&r.p(n)},d:function(l){l&&p(e)}};return z("SvelteRegisterBlock",{block:s,id:Ht.name,type:"then",source:"(19:59)            <!-- eslint-disable -->           <p>{@html changelogRendered}",ctx:t}),s}function Ft(t){const e={c:j,l:j,m:j,p:j,d:j};return z("SvelteRegisterBlock",{block:e,id:Ft.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { AnnouncementImportance }',ctx:t}),e}function ht(t){let e,r,n,s,o,l,c,a=!t[1]&&pt(t),f={ctx:t,current:null,token:null,hasCatch:!1,pending:Ft,then:Ht,catch:Lt,value:2};St(l=ct(t[0]),f);const d={c:function(){e=m("div"),a&&a.c(),r=S(),n=m("div"),s=m("section"),o=m("div"),f.block.c(),this.h()},l:function(w){e=g(w,"DIV",{});var u=V(e);a&&a.l(u),r=I(u),n=g(u,"DIV",{class:!0});var $=V(n);s=g($,"SECTION",{});var B=V(s);o=g(B,"DIV",{class:!0});var R=V(o);f.block.l(R),R.forEach(p),B.forEach(p),$.forEach(p),u.forEach(p),this.h()},h:function(){k(o,"class","markdown-content break-words"),v(o,Ne,19,6,658),v(s,Ne,18,4,642),k(n,"class","h-fit card p-4"),v(n,Ne,17,2,609),v(e,Ne,9,0,248)},m:function(w,u){q(w,e,u),a&&a.m(e,null),i(e,r),i(e,n),i(n,s),i(s,o),f.block.m(o,f.anchor=null),f.mount=()=>o,f.anchor=null,c=!0},p:function(w,[u]){t=w,t[1]?a&&(st(),oe(a,1,1,()=>{a=null}),rt()):a?u&2&&Y(a,1):(a=pt(t),a.c(),Y(a,1),a.m(e,r)),f.ctx=t,u&1&&l!==(l=ct(t[0]))&&St(l,f)||nn(f,t,u)},i:function(w){c||(Y(a),c=!0)},o:function(w){oe(a),c=!1},d:function(w){w&&p(e),a&&a.d(),f.block.d(),f.token=null,f=null}};return z("SvelteRegisterBlock",{block:d,id:ht.name,type:"component",source:"",ctx:t}),d}function gn(t,e,r){let{$$slots:n={},$$scope:s}=e;yt("VersionDescription",n,[]);let{changelog:o}=e,{approved:l}=e;t.$$.on_mount.push(function(){o===void 0&&!("changelog"in e||t.$$.bound[t.$$.props.changelog])&&console.warn("<VersionDescription> was created without expected prop 'changelog'"),l===void 0&&!("approved"in e||t.$$.bound[t.$$.props.approved])&&console.warn("<VersionDescription> was created without expected prop 'approved'")});const c=["changelog","approved"];return Object.keys(e).forEach(a=>{!~c.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<VersionDescription> was created with unknown prop '${a}'`)}),t.$$set=a=>{"changelog"in a&&r(0,o=a.changelog),"approved"in a&&r(1,l=a.approved)},t.$capture_state=()=>({AnnouncementImportance:jt,markdown:ct,AnnouncementRow:Mt,changelog:o,approved:l}),t.$inject_state=a=>{"changelog"in a&&r(0,o=a.changelog),"approved"in a&&r(1,l=a.approved)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o,l]}class Qt extends bt{constructor(e){super(e),Vt(this,e,gn,ht,xt,{changelog:0,approved:1}),z("SvelteRegisterComponent",{component:this,tagName:"VersionDescription",options:e,id:ht.name})}get changelog(){throw new Error("<VersionDescription>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set changelog(e){throw new Error("<VersionDescription>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get approved(){throw new Error("<VersionDescription>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set approved(e){throw new Error("<VersionDescription>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const T="src/lib/components/versions/VersionInfo.svelte";function mt(t){let e,r,n,s,o="Info",l,c,a,f=t[2]("entry.created-at")+"",d,h,w,u=lt(t[0].created_at)+"",$,B,R,x,C,E=t[2]("downloads")+"",_,b,ce,ue=ft(t[0].downloads)+"",Z,$e,we,G,H,be,F=t[2]("version")+"",ee,Ve,se,de=t[0].sml_version+"",te,ae,xe,ie,A,me=t[2]("stability")+"",pe,W,De,X=t[0].stability+"",y,O,re,J,M,ne=t[2]("size")+"",he,ge,le,Pe=ut(t[0].size)+"",Be,Oe,Je,ve,ye,Re=t[2]("hash")+"",Te,Ke,We,Ce=t[0].hash+"",je;const Et={c:function(){e=m("div"),r=m("section"),n=m("div"),s=m("h3"),s.textContent=o,l=S(),c=m("span"),a=m("strong"),d=D(f),h=D(":"),w=S(),$=D(u),B=m("br"),R=S(),x=m("span"),C=m("strong"),_=D(E),b=D(":"),ce=S(),Z=D(ue),$e=m("br"),we=S(),G=m("span"),H=m("strong"),be=D("SML "),ee=D(F),Ve=D(":"),se=S(),te=D(de),ae=m("br"),xe=S(),ie=m("span"),A=m("strong"),pe=D(me),W=D(":"),De=S(),y=D(X),O=m("br"),re=S(),J=m("span"),M=m("strong"),he=D(ne),ge=D(":"),le=S(),Be=D(Pe),Oe=m("br"),Je=S(),ve=m("span"),ye=m("strong"),Te=D(Re),Ke=D(":"),We=S(),je=D(Ce),this.h()},l:function(L){e=g(L,"DIV",{class:!0});var Q=V(e);r=g(Q,"SECTION",{});var kt=V(r);n=g(kt,"DIV",{class:!0});var U=V(n);s=g(U,"H3",{class:!0,"data-svelte-h":!0}),fe(s)!=="svelte-1cfi42f"&&(s.textContent=o),l=I(U),c=g(U,"SPAN",{});var Me=V(c);a=g(Me,"STRONG",{});var Xe=V(a);d=N(Xe,f),h=N(Xe,":"),Xe.forEach(p),w=I(Me),$=N(Me,u),Me.forEach(p),B=g(U,"BR",{}),R=I(U),x=g(U,"SPAN",{});var Ue=V(x);C=g(Ue,"STRONG",{});var Ye=V(C);_=N(Ye,E),b=N(Ye,":"),Ye.forEach(p),ce=I(Ue),Z=N(Ue,ue),Ue.forEach(p),$e=g(U,"BR",{}),we=I(U),G=g(U,"SPAN",{});var qe=V(G);H=g(qe,"STRONG",{});var ze=V(H);be=N(ze,"SML "),ee=N(ze,F),Ve=N(ze,":"),ze.forEach(p),se=I(qe),te=N(qe,de),qe.forEach(p),ae=g(U,"BR",{}),xe=I(U),ie=g(U,"SPAN",{});var Ge=V(ie);A=g(Ge,"STRONG",{});var Ze=V(A);pe=N(Ze,me),W=N(Ze,":"),Ze.forEach(p),De=I(Ge),y=N(Ge,X),Ge.forEach(p),O=g(U,"BR",{}),re=I(U),J=g(U,"SPAN",{});var Le=V(J);M=g(Le,"STRONG",{});var et=V(M);he=N(et,ne),ge=N(et,":"),et.forEach(p),le=I(Le),Be=N(Le,Pe),Le.forEach(p),Oe=g(U,"BR",{}),Je=I(U),ve=g(U,"SPAN",{});var He=V(ve);ye=g(He,"STRONG",{});var tt=V(ye);Te=N(tt,Re),Ke=N(tt,":"),tt.forEach(p),We=I(He),je=N(He,Ce),He.forEach(p),U.forEach(p),kt.forEach(p),Q.forEach(p),this.h()},h:function(){k(s,"class","text-2xl my-4 font-bold"),v(s,T,13,6,291),v(a,T,14,12,349),v(c,T,14,6,343),v(B,T,14,94,431),v(C,T,15,12,450),v(x,T,15,6,444),v($e,T,15,88,526),v(H,T,16,12,545),v(G,T,16,6,539),v(ae,T,16,78,611),v(A,T,17,12,630),v(ie,T,17,6,624),v(O,T,17,74,692),v(M,T,18,12,711),v(J,T,18,6,705),v(Oe,T,18,77,776),v(ye,T,19,12,795),v(ve,T,19,6,789),k(n,"class","text-lg break-words"),v(n,T,12,4,251),v(r,T,11,2,237),k(e,"class","card p-4"),v(e,T,10,0,212)},m:function(L,Q){q(L,e,Q),i(e,r),i(r,n),i(n,s),i(n,l),i(n,c),i(c,a),i(a,d),i(a,h),i(c,w),i(c,$),i(n,B),i(n,R),i(n,x),i(x,C),i(C,_),i(C,b),i(x,ce),i(x,Z),i(n,$e),i(n,we),i(n,G),i(G,H),i(H,be),i(H,ee),i(H,Ve),i(G,se),i(G,te),i(n,ae),i(n,xe),i(n,ie),i(ie,A),i(A,pe),i(A,W),i(ie,De),i(ie,y),i(n,O),i(n,re),i(n,J),i(J,M),i(M,he),i(M,ge),i(J,le),i(J,Be),i(n,Oe),i(n,Je),i(n,ve),i(ve,ye),i(ye,Te),i(ye,Ke),i(ve,We),i(ve,je)},p:function(L,[Q]){Q&4&&f!==(f=L[2]("entry.created-at")+"")&&K(d,f),Q&1&&u!==(u=lt(L[0].created_at)+"")&&K($,u),Q&4&&E!==(E=L[2]("downloads")+"")&&K(_,E),Q&1&&ue!==(ue=ft(L[0].downloads)+"")&&K(Z,ue),Q&4&&F!==(F=L[2]("version")+"")&&K(ee,F),Q&1&&de!==(de=L[0].sml_version+"")&&K(te,de),Q&4&&me!==(me=L[2]("stability")+"")&&K(pe,me),Q&1&&X!==(X=L[0].stability+"")&&K(y,X),Q&4&&ne!==(ne=L[2]("size")+"")&&K(he,ne),Q&1&&Pe!==(Pe=ut(L[0].size)+"")&&K(Be,Pe),Q&4&&Re!==(Re=L[2]("hash")+"")&&K(Te,Re),Q&1&&Ce!==(Ce=L[0].hash+"")&&K(je,Ce)},i:j,o:j,d:function(L){L&&p(e)}};return z("SvelteRegisterBlock",{block:Et,id:mt.name,type:"component",source:"",ctx:t}),Et}function vn(t,e,r){let n,s=j,o=()=>(s(),s=rn(f,h=>r(2,n=h)),f);t.$$.on_destroy.push(()=>s());let{$$slots:l={},$$scope:c}=e;yt("VersionInfo",l,[]);let{version:a}=e;const{t:f}=It();at(f,"t"),o(),t.$$.on_mount.push(function(){a===void 0&&!("version"in e||t.$$.bound[t.$$.props.version])&&console.warn("<VersionInfo> was created without expected prop 'version'")});const d=["version"];return Object.keys(e).forEach(h=>{!~d.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<VersionInfo> was created with unknown prop '${h}'`)}),t.$$set=h=>{"version"in h&&r(0,a=h.version)},t.$capture_state=()=>({prettyBytes:ut,prettyDate:lt,prettyNumber:ft,getTranslate:It,version:a,t:f,$t:n}),t.$inject_state=h=>{"version"in h&&r(0,a=h.version)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[a,f,n]}class Jt extends bt{constructor(e){super(e),Vt(this,e,vn,mt,xt,{version:0,t:1}),z("SvelteRegisterComponent",{component:this,tagName:"VersionInfo",options:e,id:mt.name})}get version(){throw new Error("<VersionInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set version(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[1]}set t(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:Bt}=an,P="src/routes/mod/[modId]/version/[versionId]/+page.svelte";function Ot(t,e,r){const n=t.slice();return n[15]=e[r],n}function gt(t){let e,r;e=new Ut({props:{description:"Information for mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version,title:"Mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version},$$inline:!0});const n={c:function(){Ee(e.$$.fragment)},l:function(o){ke(e.$$.fragment,o)},m:function(o,l){Se(e,o,l),r=!0},p:function(o,l){const c={};l&1&&(c.description="Information for mod version "+o[0].data.getVersion.mod.name+" "+o[0].data.getVersion.version),l&1&&(c.title="Mod version "+o[0].data.getVersion.mod.name+" "+o[0].data.getVersion.version),e.$set(c)},i:function(o){r||(Y(e.$$.fragment,o),r=!0)},o:function(o){oe(e.$$.fragment,o),r=!1},d:function(o){Ie(e,o)}};return z("SvelteRegisterBlock",{block:n,id:gt.name,type:"if",source:"(60:2) {#if !$version.fetching && !$version.error && $version.data.getVersion}",ctx:t}),n}function Kt(t){let e,r;e=new Gt({$$inline:!0});const n={c:function(){Ee(e.$$.fragment)},l:function(o){ke(e.$$.fragment,o)},m:function(o,l){Se(e,o,l),r=!0},p:j,i:function(o){r||(Y(e.$$.fragment,o),r=!0)},o:function(o){oe(e.$$.fragment,o),r=!1},d:function(o){Ie(e,o)}};return z("SvelteRegisterBlock",{block:n,id:Kt.name,type:"else",source:"(144:0) {:else}",ctx:t}),n}function Wt(t){let e,r,n,s=t[0].data.getVersion.mod.name+"",o,l,c=t[0].data.getVersion.version+"",a,f,d,h,w,u,$,B="Install",R,x,C="download",E,_,b,ce="Mod",ue,Z,$e="extension",we,G,H,be,F,ee,Ve,se,de,te,ae,xe,ie,A=t[1]&&vt(t);function me(X,y){return X[0].data.getVersion.targets.length!=0?en:Zt}let pe=me(t),W=pe(t);H=new Qt({props:{changelog:t[0].data.getVersion.changelog,approved:t[0].data.getVersion.approved},$$inline:!0}),ee=new Jt({props:{version:t[0].data.getVersion},$$inline:!0}),se=new qt({props:{targets:t[0].data.getVersion.targets},$$inline:!0}),te=new zt({props:{dependencies:t[0].data.getVersion.dependencies},$$inline:!0});const De={c:function(){e=m("div"),r=m("div"),n=m("h1"),o=D(s),l=D(`
        Version `),a=D(c),f=S(),d=m("div"),A&&A.c(),h=S(),W.c(),w=S(),u=m("button"),$=m("span"),$.textContent=B,R=S(),x=m("span"),x.textContent=C,E=S(),_=m("a"),b=m("span"),b.textContent=ce,ue=S(),Z=m("span"),Z.textContent=$e,we=S(),G=m("div"),Ee(H.$$.fragment),be=S(),F=m("div"),Ee(ee.$$.fragment),Ve=S(),Ee(se.$$.fragment),de=S(),Ee(te.$$.fragment),this.h()},l:function(y){e=g(y,"DIV",{class:!0});var O=V(e);r=g(O,"DIV",{class:!0});var re=V(r);n=g(re,"H1",{class:!0});var J=V(n);o=N(J,s),l=N(J,`
        Version `),a=N(J,c),J.forEach(p),f=I(re),d=g(re,"DIV",{class:!0});var M=V(d);A&&A.l(M),h=I(M),W.l(M),w=I(M),u=g(M,"BUTTON",{class:!0});var ne=V(u);$=g(ne,"SPAN",{"data-svelte-h":!0}),fe($)!=="svelte-1bbhnfr"&&($.textContent=B),R=I(ne),x=g(ne,"SPAN",{class:!0,"data-svelte-h":!0}),fe(x)!=="svelte-rqt9z7"&&(x.textContent=C),ne.forEach(p),E=I(M),_=g(M,"A",{class:!0,href:!0});var he=V(_);b=g(he,"SPAN",{"data-svelte-h":!0}),fe(b)!=="svelte-y2sqc2"&&(b.textContent=ce),ue=I(he),Z=g(he,"SPAN",{class:!0,"data-svelte-h":!0}),fe(Z)!=="svelte-y4psqu"&&(Z.textContent=$e),he.forEach(p),M.forEach(p),re.forEach(p),we=I(O),G=g(O,"DIV",{class:!0});var ge=V(G);ke(H.$$.fragment,ge),be=I(ge),F=g(ge,"DIV",{class:!0});var le=V(F);ke(ee.$$.fragment,le),Ve=I(le),ke(se.$$.fragment,le),de=I(le),ke(te.$$.fragment,le),le.forEach(p),ge.forEach(p),O.forEach(p),this.h()},h:function(){k(n,"class","text-4xl font-bold"),v(n,P,82,6,2821),v($,P,133,10,4878),k(x,"class","material-icons"),v(x,P,134,10,4909),k(u,"class","btn variant-ghost-primary"),v(u,P,130,8,4733),v(b,P,138,10,5059),k(Z,"class","material-icons"),v(Z,P,139,10,5086),k(_,"class","btn variant-ghost-primary"),k(_,"href",_e+"/mod/"+t[2]),v(_,P,137,8,4981),k(d,"class","grid grid-flow-col gap-4"),v(d,P,87,6,2967),k(r,"class","flex flex-wrap h-auto justify-between items-center"),v(r,P,81,4,2750),k(F,"class","grid grid-cols-1 auto-rows-min gap-8"),v(F,P,145,6,5352),k(G,"class","grid grid-auto-max auto-cols-fr gap-4"),v(G,P,143,4,5173),k(e,"class","grid gap-6 xlx:grid-flow-row"),v(e,P,80,2,2703)},m:function(y,O){q(y,e,O),i(e,r),i(r,n),i(n,o),i(n,l),i(n,a),i(r,f),i(r,d),A&&A.m(d,null),i(d,h),W.m(d,null),i(d,w),i(d,u),i(u,$),i(u,R),i(u,x),i(d,E),i(d,_),i(_,b),i(_,ue),i(_,Z),i(e,we),i(e,G),Se(H,G,null),i(G,be),i(G,F),Se(ee,F,null),i(F,Ve),Se(se,F,null),i(F,de),Se(te,F,null),ae=!0,xe||(ie=it(u,"click",t[11],!1,!1,!1,!1),xe=!0)},p:function(y,O){(!ae||O&1)&&s!==(s=y[0].data.getVersion.mod.name+"")&&K(o,s),(!ae||O&1)&&c!==(c=y[0].data.getVersion.version+"")&&K(a,c),y[1]?A?A.p(y,O):(A=vt(y),A.c(),A.m(d,h)):A&&(A.d(1),A=null),pe===(pe=me(y))&&W?W.p(y,O):(W.d(1),W=pe(y),W&&(W.c(),W.m(d,w)));const re={};O&1&&(re.changelog=y[0].data.getVersion.changelog),O&1&&(re.approved=y[0].data.getVersion.approved),H.$set(re);const J={};O&1&&(J.version=y[0].data.getVersion),ee.$set(J);const M={};O&1&&(M.targets=y[0].data.getVersion.targets),se.$set(M);const ne={};O&1&&(ne.dependencies=y[0].data.getVersion.dependencies),te.$set(ne)},i:function(y){ae||(Y(H.$$.fragment,y),Y(ee.$$.fragment,y),Y(se.$$.fragment,y),Y(te.$$.fragment,y),ae=!0)},o:function(y){oe(H.$$.fragment,y),oe(ee.$$.fragment,y),oe(se.$$.fragment,y),oe(te.$$.fragment,y),ae=!1},d:function(y){y&&p(e),A&&A.d(),W.d(),Ie(H),Ie(ee),Ie(se),Ie(te),xe=!1,ie()}};return z("SvelteRegisterBlock",{block:De,id:Wt.name,type:"if",source:"(71:35) ",ctx:t}),De}function Xt(t){let e,r,n=t[0].error.message+"",s;const o={c:function(){e=m("p"),r=D("Oh no... "),s=D(n),this.h()},l:function(c){e=g(c,"P",{});var a=V(e);r=N(a,"Oh no... "),s=N(a,n),a.forEach(p),this.h()},h:function(){v(e,P,78,2,2624)},m:function(c,a){q(c,e,a),i(e,r),i(e,s)},p:function(c,a){a&1&&n!==(n=c[0].error.message+"")&&K(s,n)},i:j,o:j,d:function(c){c&&p(e)}};return z("SvelteRegisterBlock",{block:o,id:Xt.name,type:"if",source:"(69:25) ",ctx:t}),o}function Yt(t){let e,r="Loading...";const n={c:function(){e=m("p"),e.textContent=r,this.h()},l:function(o){e=g(o,"P",{"data-svelte-h":!0}),fe(e)!=="svelte-qdsr2u"&&(e.textContent=r),this.h()},h:function(){v(e,P,76,2,2578)},m:function(o,l){q(o,e,l)},p:j,i:j,o:j,d:function(o){o&&p(e)}};return z("SvelteRegisterBlock",{block:n,id:Yt.name,type:"if",source:"(67:0) {#if $version.fetching}",ctx:t}),n}function vt(t){let e,r="Edit",n,s,o="Delete",l,c;const a={c:function(){e=m("button"),e.textContent=r,n=S(),s=m("button"),s.textContent=o,this.h()},l:function(d){e=g(d,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-53n07s"&&(e.textContent=r),n=I(d),s=g(d,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(s)!=="svelte-tfawqf"&&(s.textContent=o),this.h()},h:function(){k(e,"class","btn variant-ghost-primary"),v(e,P,89,10,3042),k(s,"class","btn variant-ghost-primary"),v(s,P,94,10,3238)},m:function(d,h){q(d,e,h),q(d,n,h),q(d,s,h),l||(c=[it(e,"click",t[9],!1,!1,!1,!1),it(s,"click",t[10],!1,!1,!1,!1)],l=!0)},p:j,d:function(d){d&&(p(e),p(n),p(s)),l=!1,ln(c)}};return z("SvelteRegisterBlock",{block:a,id:vt.name,type:"if",source:"(80:8) {#if canUserEdit}",ctx:t}),a}function Zt(t){let e,r,n,s,o;const l={c:function(){e=m("a"),r=D("View"),n=S(),s=m("a"),o=D("Download"),this.h()},l:function(a){e=g(a,"A",{class:!0,href:!0});var f=V(e);r=N(f,"View"),f.forEach(p),n=I(a),s=g(a,"A",{class:!0,href:!0});var d=V(s);o=N(d,"Download"),d.forEach(p),this.h()},h:function(){k(e,"class","btn variant-ghost-primary"),k(e,"href",_e+"/mod/"+t[2]+"/version/"+t[3]),v(e,P,125,10,4450),k(s,"class","btn variant-ghost-primary"),k(s,"href",Qe+"/mod/"+t[2]+"/versions/"+t[3]+"/download"),v(s,P,126,10,4562)},m:function(a,f){q(a,e,f),i(e,r),q(a,n,f),q(a,s,f),i(s,o)},p:j,d:function(a){a&&(p(e),p(n),p(s))}};return z("SvelteRegisterBlock",{block:l,id:Zt.name,type:"else",source:"(116:8) {:else}",ctx:t}),l}function en(t){let e,r,n="Download",s,o,l="arrow_drop_down",c,a,f,d,h,w,u=Ct(t[0].data.getVersion.targets),$=[];for(let R=0;R<u.length;R+=1)$[R]=$t(Ot(t,u,R));const B={c:function(){e=m("button"),r=m("span"),r.textContent=n,s=S(),o=m("span"),o.textContent=l,c=S(),a=m("div"),f=m("nav"),d=m("ul");for(let x=0;x<$.length;x+=1)$[x].c();this.h()},l:function(x){e=g(x,"BUTTON",{class:!0});var C=V(e);r=g(C,"SPAN",{"data-svelte-h":!0}),fe(r)!=="svelte-q9mf3e"&&(r.textContent=n),s=I(C),o=g(C,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),fe(o)!=="svelte-dpxqae"&&(o.textContent=l),C.forEach(p),c=I(x),a=g(x,"DIV",{class:!0,"data-popup":!0});var E=V(a);f=g(E,"NAV",{class:!0});var _=V(f);d=g(_,"UL",{});var b=V(d);for(let ce=0;ce<$.length;ce+=1)$[ce].l(b);b.forEach(p),_.forEach(p),E.forEach(p),this.h()},h:function(){v(r,P,105,12,3681),k(o,"class","material-icons"),fn(o,"margin","0"),v(o,P,106,12,3715),k(e,"class","btn variant-ghost-primary"),v(e,P,97,10,3428),v(d,P,111,14,3938),k(f,"class","list-nav"),v(f,P,110,12,3901),k(a,"class","card w-72 shadow-xl z-10"),k(a,"data-popup","versionArchDropdown"),v(a,P,109,10,3817)},m:function(x,C){q(x,e,C),i(e,r),i(e,s),i(e,o),q(x,c,C),q(x,a,C),i(a,f),i(f,d);for(let E=0;E<$.length;E+=1)$[E]&&$[E].m(d,null);h||(w=un(Tt.call(null,e,{event:"focus-click",target:"versionArchDropdown",placement:"bottom",closeQuery:"a"})),h=!0)},p:function(x,C){if(C&13){u=Ct(x[0].data.getVersion.targets);let E;for(E=0;E<u.length;E+=1){const _=Ot(x,u,E);$[E]?$[E].p(_,C):($[E]=$t(_),$[E].c(),$[E].m(d,null))}for(;E<$.length;E+=1)$[E].d(1);$.length=u.length}},d:function(x){x&&(p(e),p(c),p(a)),dn($,x),h=!1,w()}};return z("SvelteRegisterBlock",{block:B,id:en.name,type:"if",source:"(88:8) {#if $version.data.getVersion.targets.length != 0}",ctx:t}),B}function $t(t){let e,r,n,s,o=dt(t[15].targetName)+"",l,c,a;const f={c:function(){e=m("li"),r=m("a"),n=m("span"),s=D("Download "),l=D(o),a=S(),this.h()},l:function(h){e=g(h,"LI",{});var w=V(e);r=g(w,"A",{class:!0,href:!0});var u=V(r);n=g(u,"SPAN",{});var $=V(n);s=N($,"Download "),l=N($,o),$.forEach(p),u.forEach(p),a=I(w),w.forEach(p),this.h()},h:function(){v(n,P,117,22,4239),k(r,"class","w-full"),k(r,"href",c=Qe+"/mod/"+t[2]+"/versions/"+t[3]+"/"+t[15].targetName+"/download"),v(r,P,114,20,4053),v(e,P,113,18,4028)},m:function(h,w){q(h,e,w),i(e,r),i(r,n),i(n,s),i(n,l),i(e,a)},p:function(h,w){w&1&&o!==(o=dt(h[15].targetName)+"")&&K(l,o),w&1&&c!==(c=Qe+"/mod/"+h[2]+"/versions/"+h[3]+"/"+h[15].targetName+"/download")&&k(r,"href",c)},d:function(h){h&&p(e)}};return z("SvelteRegisterBlock",{block:f,id:$t.name,type:"each",source:"(104:16) {#each $version.data.getVersion.targets as target}",ctx:t}),f}function wt(t){let e,r,n,s,o,l,c=!t[0].fetching&&!t[0].error&&t[0].data.getVersion&&gt(t);const a=[Yt,Xt,Wt,Kt],f=[];function d(w,u){return w[0].fetching?0:w[0].error?1:w[0].data.getVersion?2:3}n=d(t),s=f[n]=a[n](t);const h={c:function(){c&&c.c(),e=Fe(),r=S(),s.c(),o=Fe()},l:function(u){const $=cn("svelte-7zfw29",document.head);c&&c.l($),e=Fe(),$.forEach(p),r=I(u),s.l(u),o=Fe()},m:function(u,$){c&&c.m(document.head,null),i(document.head,e),q(u,r,$),f[n].m(u,$),q(u,o,$),l=!0},p:function(u,[$]){!u[0].fetching&&!u[0].error&&u[0].data.getVersion?c?(c.p(u,$),$&1&&Y(c,1)):(c=gt(u),c.c(),Y(c,1),c.m(e.parentNode,e)):c&&(st(),oe(c,1,1,()=>{c=null}),rt());let B=n;n=d(u),n===B?f[n].p(u,$):(st(),oe(f[B],1,1,()=>{f[B]=null}),rt(),s=f[n],s?s.p(u,$):(s=f[n]=a[n](u),s.c()),Y(s,1),s.m(o.parentNode,o))},i:function(u){l||(Y(c),Y(s),l=!0)},o:function(u){oe(c),oe(s),l=!1},d:function(u){u&&(p(r),p(o)),c&&c.d(u),p(e),f[n].d(u)}};return z("SvelteRegisterBlock",{block:h,id:wt.name,type:"component",source:"",ctx:t}),h}function $n(t,e,r){let n,s,o;at(ot,"user"),Dt(t,ot,b=>r(8,s=b));let{$$slots:l={},$$scope:c}=e;yt("Page",l,[]);let{data:a}=e;const{modId:f,versionId:d,version:h}=a;at(h,"version"),Dt(t,h,b=>r(0,o=b));const w=Nt(),u=Pt(),$=()=>{w.mutation(At,{versionId:d}).toPromise().then(b=>{b.error?(console.error(b.error.message),u.trigger({message:"Error deleting version: "+b.error.message,background:"variant-filled-error",autohide:!1})):(u.trigger({message:"Version deleted",background:"variant-filled-success",timeout:5e3}),nt(_e+"/mod/"+f))})},B={type:"confirm",title:"Delete Version?",body:"Are you sure you wish to delete this version?",response:b=>{b&&$()}},R=Rt();t.$$.on_mount.push(function(){a===void 0&&!("data"in e||t.$$.bound[t.$$.props.data])&&Bt.warn("<Page> was created without expected prop 'data'")});const x=["data"];Object.keys(e).forEach(b=>{!~x.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&Bt.warn(`<Page> was created with unknown prop '${b}'`)});const C=()=>nt(_e+"/mod/"+f+"/version/"+d+"/edit"),E=()=>R.trigger(B),_=()=>_t(o.data.getVersion.mod.mod_reference);return t.$$set=b=>{"data"in b&&r(7,a=b.data)},t.$capture_state=()=>({DeleteVersionDocument:At,VersionDescription:Qt,VersionInfo:Jt,MetaDescriptors:Ut,API_REST:Qe,goto:nt,user:ot,base:_e,installMod:_t,prettyTarget:dt,VersionTargetSupportGrid:qt,VersionDependenciesGrid:zt,getContextClient:Nt,getModalStore:Rt,getToastStore:Pt,popup:Tt,Page404:Gt,data:a,modId:f,versionId:d,version:h,client:w,toastStore:u,deleteVersionFn:$,deleteModal:B,modalStore:R,canUserEdit:n,$user:s,$version:o}),t.$inject_state=b=>{"data"in b&&r(7,a=b.data),"canUserEdit"in b&&r(1,n=b.canUserEdit)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&257&&r(1,n=s?.roles?.deleteContent||o?.data?.getVersion.mod?.authors?.findIndex(b=>b.user_id==s?.id)>=0)},[o,n,f,d,h,B,R,a,s,C,E,_]}class Cn extends bt{constructor(e){super(e),Vt(this,e,$n,wt,xt,{data:7}),z("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:wt.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Cn as component,Rn as universal};
//# sourceMappingURL=18.dec4ea4d.js.map
