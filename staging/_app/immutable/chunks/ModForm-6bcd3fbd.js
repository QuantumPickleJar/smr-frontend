import{S as ke,i as Ie,s as Ve,b as zt,j as q,q as W,f as c,aC as Te,al as De,aD as He,an as Pe,e as w,aa as L,c as b,d as _,ab as M,a7 as v,a5 as f,a as I,g as V,ac as F,u as et,ad as rt,bd as ue,aP as $e,aH as le,Z as P,_ as S,$ as A,J as Re,ae as lt,be as We,m as g,k as Ut,t as y,l as Lt,a1 as N,aQ as Se,aM as ze,b2 as Ae}from"./vendor-93f46a94.js";import{o as qt,s as tt,a as Wt,b as Ce,l as Oe,d as me,e as Ze,T as xt,V as wt,c as je,v as Be,r as Ye,f as Fe}from"./forms-5fcb6172.js";import{t as Je}from"./forms-2903de53.js";import{m as de}from"./markdown-6a2ff7f0.js";import{t as Qe,C as pe}from"./graphql-8819e72c.js";import{a as ge}from"./paths-1c47712a.js";import{M as Xe}from"./ModCompatibilityEdit-e972ffff.js";const he=qt({name:tt().min(3).max(32),mod_reference:tt().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:tt().min(16).max(128),full_description:Wt(tt()),logo:Wt(Ce().refine(s=>"name"in s&&"size"in s&&"type"in s)),source_url:tt().url().optional().or(Oe("")),authors:Wt(qt({role:tt(),user_id:tt()}).array()),compatibility:Wt(qt({EA:qt({state:tt(),note:me()}),EXP:qt({state:tt(),note:me()})})),hidden:Ze()});function Ge(s){let t,e;return{c(){t=w("p"),e=L("Unknown User ID"),this.h()},l(r){t=b(r,"P",{class:!0});var l=_(t);e=M(l,"Unknown User ID"),l.forEach(c),this.h()},h(){v(t,"class","mr-2 whitespace-nowrap")},m(r,l){q(r,t,l),f(t,e)},p:W,d(r){r&&c(t)}}}function Ke(s){let t,e,r,l,a,i,x=s[0].data.getUser.username+"",d;return{c(){t=w("div"),e=w("div"),l=I(),a=w("div"),i=w("span"),d=L(x),this.h()},l($){t=b($,"DIV",{class:!0});var o=_(t);e=b(o,"DIV",{class:!0,style:!0}),_(e).forEach(c),l=V(o),a=b(o,"DIV",{class:!0});var E=_(a);i=b(E,"SPAN",{class:!0});var u=_(i);d=M(u,x),u.forEach(c),E.forEach(c),o.forEach(c),this.h()},h(){v(e,"class","rounded-full bg-cover w-7 h-7"),v(e,"style",r=`background-image: url("${s[0].data.getUser.avatar||ge+"/images/no_image.webp"}")`),v(i,"class","text-yellow-500"),v(a,"class","grid grid-flow-row"),v(t,"class","grid grid-flow-col auto-cols-max gap-x-2 mr-2")},m($,o){q($,t,o),f(t,e),f(t,l),f(t,a),f(a,i),f(i,d)},p($,o){o&1&&r!==(r=`background-image: url("${$[0].data.getUser.avatar||ge+"/images/no_image.webp"}")`)&&v(e,"style",r),o&1&&x!==(x=$[0].data.getUser.username+"")&&F(d,x)},d($){$&&c(t)}}}function tr(s){let t,e,r=s[0].error.message+"",l;return{c(){t=w("p"),e=L("Oh no... "),l=L(r),this.h()},l(a){t=b(a,"P",{class:!0});var i=_(t);e=M(i,"Oh no... "),l=M(i,r),i.forEach(c),this.h()},h(){v(t,"class","mr-2")},m(a,i){q(a,t,i),f(t,e),f(t,l)},p(a,i){i&1&&r!==(r=a[0].error.message+"")&&F(l,r)},d(a){a&&c(t)}}}function er(s){let t,e;return{c(){t=w("p"),e=L("Loading..."),this.h()},l(r){t=b(r,"P",{class:!0});var l=_(t);e=M(l,"Loading..."),l.forEach(c),this.h()},h(){v(t,"class","mr-2")},m(r,l){q(r,t,l),f(t,e)},p:W,d(r){r&&c(t)}}}function rr(s){let t;function e(a,i){return a[0].fetching?er:a[0].error?tr:a[0].data.getUser?Ke:Ge}let r=e(s),l=r(s);return{c(){l.c(),t=zt()},l(a){l.l(a),t=zt()},m(a,i){l.m(a,i),q(a,t,i)},p(a,[i]){r===(r=e(a))&&l?l.p(a,i):(l.d(1),l=r(a),l&&(l.c(),l.m(t.parentNode,t)))},i:W,o:W,d(a){l.d(a),a&&c(t)}}}function lr(s,t,e){let r,{id:l}=t;const a=Te(Qe,{user:l});return De(s,a,i=>e(0,r=i)),He(a),s.$$set=i=>{"id"in i&&e(2,l=i.id)},s.$$.update=()=>{s.$$.dirty&5&&(Pe(a,r.variables.user=l,r),r.reexecute())},[r,a,l]}class sr extends ke{constructor(t){super(),Ie(this,t,lr,rr,Ve,{id:2})}}function ve(s,t,e){const r=s.slice();return r[22]=t[e],r[23]=t,r[24]=e,r}function ar(s){let t,e=(s[25]||"")+"",r;return{c(){t=w("span"),r=L(e),this.h()},l(l){t=b(l,"SPAN",{class:!0});var a=_(t);r=M(a,e),a.forEach(c),this.h()},h(){v(t,"class","validation-message")},m(l,a){q(l,t,a),f(t,r)},p(l,a){a&33554432&&e!==(e=(l[25]||"")+"")&&F(r,e)},d(l){l&&c(t)}}}function we(s){let t;return{c(){t=L(`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},l(e){t=M(e,`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},m(e,r){q(e,t,r)},d(e){e&&c(t)}}}function ir(s){let t,e=!s[1]&&we();return{c(){e&&e.c(),t=zt()},l(r){e&&e.l(r),t=zt()},m(r,l){e&&e.m(r,l),q(r,t,l)},p(r,l){r[1]?e&&(e.d(1),e=null):e||(e=we(),e.c(),e.m(t.parentNode,t))},d(r){e&&e.d(r),r&&c(t)}}}function nr(s){let t,e;return t=new Fe({props:{persistent:!s[1],slot:"helper",$$slots:{default:[ir]},$$scope:{ctx:s}}}),{c(){P(t.$$.fragment)},l(r){S(t.$$.fragment,r)},m(r,l){A(t,r,l),e=!0},p(r,l){const a={};l&2&&(a.persistent=!r[1]),l&134217730&&(a.$$scope={dirty:l,ctx:r}),t.$set(a)},i(r){e||(g(t.$$.fragment,r),e=!0)},o(r){y(t.$$.fragment,r),e=!1},d(r){N(t,r)}}}function or(s){let t,e=(s[25]||"")+"",r;return{c(){t=w("span"),r=L(e),this.h()},l(l){t=b(l,"SPAN",{class:!0});var a=_(t);r=M(a,e),a.forEach(c),this.h()},h(){v(t,"class","validation-message")},m(l,a){q(l,t,a),f(t,r)},p(l,a){a&33554432&&e!==(e=(l[25]||"")+"")&&F(r,e)},d(l){l&&c(t)}}}function fr(s){let t,e=(s[25]||"")+"",r;return{c(){t=w("span"),r=L(e),this.h()},l(l){t=b(l,"SPAN",{class:!0});var a=_(t);r=M(a,e),a.forEach(c),this.h()},h(){v(t,"class","validation-message")},m(l,a){q(l,t,a),f(t,r)},p(l,a){a&33554432&&e!==(e=(l[25]||"")+"")&&F(r,e)},d(l){l&&c(t)}}}function cr(s){let t,e=(s[25]||"")+"",r;return{c(){t=w("span"),r=L(e),this.h()},l(l){t=b(l,"SPAN",{class:!0});var a=_(t);r=M(a,e),a.forEach(c),this.h()},h(){v(t,"class","validation-message")},m(l,a){q(l,t,a),f(t,r)},p(l,a){a&33554432&&e!==(e=(l[25]||"")+"")&&F(r,e)},d(l){l&&c(t)}}}function ur(s){return{c:W,l:W,m:W,p:W,d:W}}function $r(s){let t,e=s[26]+"";return{c(){t=w("div"),this.h()},l(r){t=b(r,"DIV",{class:!0});var l=_(t);l.forEach(c),this.h()},h(){v(t,"class","markdown-content right svelte-k92wki")},m(r,l){q(r,t,l),t.innerHTML=e},p(r,l){l&16&&e!==(e=r[26]+"")&&(t.innerHTML=e)},d(r){r&&c(t)}}}function mr(s){return{c:W,l:W,m:W,p:W,d:W}}function dr(s){let t,e=(s[25]||"")+"",r;return{c(){t=w("span"),r=L(e),this.h()},l(l){t=b(l,"SPAN",{class:!0});var a=_(t);r=M(a,e),a.forEach(c),this.h()},h(){v(t,"class","validation-message")},m(l,a){q(l,t,a),f(t,r)},p(l,a){a&33554432&&e!==(e=(l[25]||"")+"")&&F(r,e)},d(l){l&&c(t)}}}function pr(s){let t,e=(s[25]||"")+"",r;return{c(){t=w("span"),r=L(e),this.h()},l(l){t=b(l,"SPAN",{class:!0});var a=_(t);r=M(a,e),a.forEach(c),this.h()},h(){v(t,"class","validation-message")},m(l,a){q(l,t,a),f(t,r)},p(l,a){a&33554432&&e!==(e=(l[25]||"")+"")&&F(r,e)},d(l){l&&c(t)}}}function gr(s){let t,e,r;function l(i){s[16](i)}let a={};return s[2].hidden!==void 0&&(a.checked=s[2].hidden),t=new Se({props:a}),et.push(()=>rt(t,"checked",l)),{c(){P(t.$$.fragment)},l(i){S(t.$$.fragment,i)},m(i,x){A(t,i,x),r=!0},p(i,x){const d={};!e&&x&4&&(e=!0,d.checked=i[2].hidden,lt(()=>e=!1)),t.$set(d)},i(i){r||(g(t.$$.fragment,i),r=!0)},o(i){y(t.$$.fragment,i),r=!1},d(i){N(t,i)}}}function hr(s){let t,e;return{c(){t=w("span"),e=L("Hidden"),this.h()},l(r){t=b(r,"SPAN",{slot:!0});var l=_(t);e=M(l,"Hidden"),l.forEach(c),this.h()},h(){v(t,"slot","label")},m(r,l){q(r,t,l),f(t,e)},p:W,d(r){r&&c(t)}}}function vr(s){let t,e=(s[25]||"")+"",r;return{c(){t=w("span"),r=L(e),this.h()},l(l){t=b(l,"SPAN",{class:!0});var a=_(t);r=M(a,e),a.forEach(c),this.h()},h(){v(t,"class","validation-message")},m(l,a){q(l,t,a),f(t,r)},p(l,a){a&33554432&&e!==(e=(l[25]||"")+"")&&F(r,e)},d(l){l&&c(t)}}}function wr(s){let t,e,r,l,a,i;function x($){s[17]($)}let d={};return s[3]!==void 0&&(d.checked=s[3]),t=new Se({props:d}),et.push(()=>rt(t,"checked",x)),t.$on("SMUISwitch:change",s[18]),{c(){P(t.$$.fragment),r=I(),l=w("span"),a=L("Edit compatibility information")},l($){S(t.$$.fragment,$),r=V($),l=b($,"SPAN",{});var o=_(l);a=M(o,"Edit compatibility information"),o.forEach(c)},m($,o){A(t,$,o),q($,r,o),q($,l,o),f(l,a),i=!0},p($,o){const E={};!e&&o&8&&(e=!0,E.checked=$[3],lt(()=>e=!1)),t.$set(E)},i($){i||(g(t.$$.fragment,$),i=!0)},o($){y(t.$$.fragment,$),i=!1},d($){N(t,$),$&&c(r),$&&c(l)}}}function be(s){let t,e,r;function l(i){s[19](i)}let a={};return s[2].compatibility!==void 0&&(a.compatibilityInfo=s[2].compatibility),t=new Xe({props:a}),et.push(()=>rt(t,"compatibilityInfo",l)),{c(){P(t.$$.fragment)},l(i){S(t.$$.fragment,i)},m(i,x){A(t,i,x),r=!0},p(i,x){const d={};!e&&x&4&&(e=!0,d.compatibilityInfo=i[2].compatibility,lt(()=>e=!1)),t.$set(d)},i(i){r||(g(t.$$.fragment,i),r=!0)},o(i){y(t.$$.fragment,i),r=!1},d(i){N(t,i)}}}function xe(s){let t,e,r,l,a,i,x,d;i=new le({props:{type:"button",$$slots:{default:[xr]},$$scope:{ctx:s}}}),i.$on("click",s[7]);let $=s[2].authors,o=[];for(let u=0;u<$.length;u+=1)o[u]=Ee(ve(s,$,u));const E=u=>y(o[u],1,1,()=>{o[u]=null});return{c(){t=w("div"),e=w("div"),r=w("h4"),l=L("Authors"),a=I(),P(i.$$.fragment),x=I();for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){t=b(u,"DIV",{class:!0});var m=_(t);e=b(m,"DIV",{class:!0});var U=_(e);r=b(U,"H4",{class:!0});var k=_(r);l=M(k,"Authors"),k.forEach(c),a=V(U),S(i.$$.fragment,U),U.forEach(c),x=V(m);for(let R=0;R<o.length;R+=1)o[R].l(m);m.forEach(c),this.h()},h(){v(r,"class","mr-4"),v(e,"class","flex items-baseline"),v(t,"class","grid grid-flow-row gap-2")},m(u,m){q(u,t,m),f(t,e),f(e,r),f(r,l),f(e,a),A(i,e,null),f(t,x);for(let U=0;U<o.length;U+=1)o[U].m(t,null);d=!0},p(u,m){const U={};if(m&134217728&&(U.$$scope={dirty:m,ctx:u}),i.$set(U),m&260){$=u[2].authors;let k;for(k=0;k<$.length;k+=1){const R=ve(u,$,k);o[k]?(o[k].p(R,m),g(o[k],1)):(o[k]=Ee(R),o[k].c(),g(o[k],1),o[k].m(t,null))}for(Ut(),k=$.length;k<o.length;k+=1)E(k);Lt()}},i(u){if(!d){g(i.$$.fragment,u);for(let m=0;m<$.length;m+=1)g(o[m]);d=!0}},o(u){y(i.$$.fragment,u),o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)y(o[m]);d=!1},d(u){u&&c(t),N(i),ze(o,u)}}}function br(s){let t;return{c(){t=L("Add")},l(e){t=M(e,"Add")},m(e,r){q(e,t,r)},d(e){e&&c(t)}}}function xr(s){let t,e;return t=new Ae({props:{$$slots:{default:[br]},$$scope:{ctx:s}}}),{c(){P(t.$$.fragment)},l(r){S(t.$$.fragment,r)},m(r,l){A(t,r,l),e=!0},p(r,l){const a={};l&134217728&&(a.$$scope={dirty:l,ctx:r}),t.$set(a)},i(r){e||(g(t.$$.fragment,r),e=!0)},o(r){y(t.$$.fragment,r),e=!1},d(r){N(t,r)}}}function _e(s){let t,e;return t=new sr({props:{id:s[2].authors[s[24]].user_id}}),{c(){P(t.$$.fragment)},l(r){S(t.$$.fragment,r)},m(r,l){A(t,r,l),e=!0},p(r,l){const a={};l&4&&(a.id=r[2].authors[r[24]].user_id),t.$set(a)},i(r){e||(g(t.$$.fragment,r),e=!0)},o(r){y(t.$$.fragment,r),e=!1},d(r){N(t,r)}}}function ye(s){let t,e;function r(){return s[21](s[24])}return t=new le({props:{type:"button",variant:"raised",$$slots:{default:[yr]},$$scope:{ctx:s}}}),t.$on("click",r),{c(){P(t.$$.fragment)},l(l){S(t.$$.fragment,l)},m(l,a){A(t,l,a),e=!0},p(l,a){s=l;const i={};a&134217728&&(i.$$scope={dirty:a,ctx:s}),t.$set(i)},i(l){e||(g(t.$$.fragment,l),e=!0)},o(l){y(t.$$.fragment,l),e=!1},d(l){N(t,l)}}}function _r(s){let t;return{c(){t=L("Remove")},l(e){t=M(e,"Remove")},m(e,r){q(e,t,r)},d(e){e&&c(t)}}}function yr(s){let t,e;return t=new Ae({props:{$$slots:{default:[_r]},$$scope:{ctx:s}}}),{c(){P(t.$$.fragment)},l(r){S(t.$$.fragment,r)},m(r,l){A(t,r,l),e=!0},p(r,l){const a={};l&134217728&&(a.$$scope={dirty:l,ctx:r}),t.$set(a)},i(r){e||(g(t.$$.fragment,r),e=!0)},o(r){y(t.$$.fragment,r),e=!1},d(r){N(t,r)}}}function Ee(s){let t,e,r,l,a,i,x,d=s[2].authors[s[24]].user_id&&_e(s);function $(u){s[20](u,s[24])}let o={label:"User ID",class:"mr-4 w-full",disabled:s[22].role==="creator"};s[2].authors[s[24]].user_id!==void 0&&(o.value=s[2].authors[s[24]].user_id),r=new xt({props:o}),et.push(()=>rt(r,"value",$));let E=s[22].role!=="creator"&&ye(s);return{c(){t=w("div"),d&&d.c(),e=I(),P(r.$$.fragment),a=I(),E&&E.c(),i=I(),this.h()},l(u){t=b(u,"DIV",{class:!0});var m=_(t);d&&d.l(m),e=V(m),S(r.$$.fragment,m),a=V(m),E&&E.l(m),i=V(m),m.forEach(c),this.h()},h(){v(t,"class","flex items-baseline")},m(u,m){q(u,t,m),d&&d.m(t,null),f(t,e),A(r,t,null),f(t,a),E&&E.m(t,null),f(t,i),x=!0},p(u,m){s=u,s[2].authors[s[24]].user_id?d?(d.p(s,m),m&4&&g(d,1)):(d=_e(s),d.c(),g(d,1),d.m(t,e)):d&&(Ut(),y(d,1,1,()=>{d=null}),Lt());const U={};m&4&&(U.disabled=s[22].role==="creator"),!l&&m&4&&(l=!0,U.value=s[2].authors[s[24]].user_id,lt(()=>l=!1)),r.$set(U),s[22].role!=="creator"?E?(E.p(s,m),m&4&&g(E,1)):(E=ye(s),E.c(),g(E,1),E.m(t,i)):E&&(Ut(),y(E,1,1,()=>{E=null}),Lt())},i(u){x||(g(d),g(r.$$.fragment,u),g(E),x=!0)},o(u){y(d),y(r.$$.fragment,u),y(E),x=!1},d(u){u&&c(t),d&&d.d(),N(r),E&&E.d()}}}function Er(s){let t;return{c(){t=L(s[0])},l(e){t=M(e,s[0])},m(e,r){q(e,t,r)},p(e,r){r&1&&F(t,e[0])},d(e){e&&c(t)}}}function kr(s){let t,e,r,l,a,i,x,d,$,o,E,u,m,U,k,R,_t,yt,Z,Et,j,B,C,kt,p,O,Ct,J,It,Ot,Zt,Mt,jt,Y,bt,Bt,Yt,Q,Ft,st,Jt,at,X,Qt,Xt,it,Gt,nt,ot,Kt,ft,te,Vt,ct,ee,Tt,Ht,Dt,ut,Rt,re,se;function Ne(n){s[11](n)}let ae={label:"Name",required:!0};s[2].name!==void 0&&(ae.value=s[2].name),l=new xt({props:ae}),et.push(()=>rt(l,"value",Ne)),x=new wt({props:{for:"name",$$slots:{default:[ar,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});function qe(n){s[12](n)}let ie={label:"Mod Reference",required:!0,disabled:s[1],$$slots:{helper:[nr]},$$scope:{ctx:s}};s[2].mod_reference!==void 0&&(ie.value=s[2].mod_reference),o=new xt({props:ie}),et.push(()=>rt(o,"value",qe)),m=new wt({props:{for:"mod_reference",$$slots:{default:[or,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});function Ue(n){s[13](n)}let ne={label:"Short Description",required:!0};s[2].short_description!==void 0&&(ne.value=s[2].short_description),R=new xt({props:ne}),et.push(()=>rt(R,"value",Ue)),Z=new wt({props:{for:"short_description",$$slots:{default:[fr,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});function Le(n){s[14](n)}let oe={textarea:!0,class:"vertical-textarea",label:"Full Description",required:!0,input$rows:10};s[2].full_description!==void 0&&(oe.value=s[2].full_description),C=new xt({props:oe}),et.push(()=>rt(C,"value",Le)),O=new wt({props:{for:"full_description",$$slots:{default:[cr,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});let z={ctx:s,current:null,token:null,hasCatch:!1,pending:mr,then:$r,catch:ur,value:26};ue(Mt=de(s[4]),z),st=new wt({props:{for:"logo",$$slots:{default:[dr,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}});function Me(n){s[15](n)}let fe={label:"Source URL"};s[2].source_url!==void 0&&(fe.value=s[2].source_url),X=new xt({props:fe}),et.push(()=>rt(X,"value",Me)),it=new wt({props:{for:"source_url",$$slots:{default:[pr,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}}),ot=new $e({props:{$$slots:{label:[hr],default:[gr]},$$scope:{ctx:s}}}),ft=new wt({props:{for:"hidden",$$slots:{default:[vr,({messages:n})=>({25:n}),({messages:n})=>n?33554432:0]},$$scope:{ctx:s}}}),ct=new $e({props:{align:"start",$$slots:{default:[wr]},$$scope:{ctx:s}}});let T=s[3]&&be(s),H=s[1]&&xe(s);return ut=new le({props:{variant:"outlined",type:"submit",$$slots:{default:[Er]},$$scope:{ctx:s}}}),{c(){t=w("form"),e=w("div"),r=w("div"),P(l.$$.fragment),i=I(),P(x.$$.fragment),d=I(),$=w("div"),P(o.$$.fragment),u=I(),P(m.$$.fragment),U=I(),k=w("div"),P(R.$$.fragment),yt=I(),P(Z.$$.fragment),Et=I(),j=w("div"),B=w("div"),P(C.$$.fragment),p=I(),P(O.$$.fragment),Ct=I(),J=w("div"),It=w("span"),Ot=L("Preview:"),Zt=I(),z.block.c(),jt=I(),Y=w("div"),bt=w("label"),Bt=L("Logo:"),Yt=I(),Q=w("input"),Ft=I(),P(st.$$.fragment),Jt=I(),at=w("div"),P(X.$$.fragment),Xt=I(),P(it.$$.fragment),Gt=I(),nt=w("div"),P(ot.$$.fragment),Kt=I(),P(ft.$$.fragment),te=I(),Vt=w("div"),P(ct.$$.fragment),ee=I(),T&&T.c(),Tt=I(),H&&H.c(),Ht=I(),Dt=w("div"),P(ut.$$.fragment),this.h()},l(n){t=b(n,"FORM",{});var h=_(t);e=b(h,"DIV",{class:!0});var D=_(e);r=b(D,"DIV",{class:!0});var $t=_(r);S(l.$$.fragment,$t),i=V($t),S(x.$$.fragment,$t),$t.forEach(c),d=V(D),$=b(D,"DIV",{class:!0});var G=_($);S(o.$$.fragment,G),u=V(G),S(m.$$.fragment,G),G.forEach(c),U=V(D),k=b(D,"DIV",{class:!0});var mt=_(k);S(R.$$.fragment,mt),yt=V(mt),S(Z.$$.fragment,mt),mt.forEach(c),Et=V(D),j=b(D,"DIV",{class:!0});var dt=_(j);B=b(dt,"DIV",{class:!0});var pt=_(B);S(C.$$.fragment,pt),p=V(pt),S(O.$$.fragment,pt),pt.forEach(c),Ct=V(dt),J=b(dt,"DIV",{class:!0});var gt=_(J);It=b(gt,"SPAN",{});var Pt=_(It);Ot=M(Pt,"Preview:"),Pt.forEach(c),Zt=V(gt),z.block.l(gt),gt.forEach(c),dt.forEach(c),jt=V(D),Y=b(D,"DIV",{class:!0});var K=_(Y);bt=b(K,"LABEL",{for:!0});var St=_(bt);Bt=M(St,"Logo:"),St.forEach(c),Yt=V(K),Q=b(K,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Ft=V(K),S(st.$$.fragment,K),K.forEach(c),Jt=V(D),at=b(D,"DIV",{class:!0});var ht=_(at);S(X.$$.fragment,ht),Xt=V(ht),S(it.$$.fragment,ht),ht.forEach(c),Gt=V(D),nt=b(D,"DIV",{class:!0});var vt=_(nt);S(ot.$$.fragment,vt),Kt=V(vt),S(ft.$$.fragment,vt),vt.forEach(c),te=V(D),Vt=b(D,"DIV",{});var At=_(Vt);S(ct.$$.fragment,At),At.forEach(c),ee=V(D),T&&T.l(D),Tt=V(D),H&&H.l(D),Ht=V(D),Dt=b(D,"DIV",{});var Nt=_(Dt);S(ut.$$.fragment,Nt),Nt.forEach(c),D.forEach(c),h.forEach(c),this.h()},h(){v(r,"class","grid grid-flow-row gap-2"),v($,"class","grid grid-flow-row gap-2"),v(k,"class","grid grid-flow-row gap-2"),v(B,"class","grid grid-flow-row gap-2 auto-rows-max"),v(J,"class","grid grid-flow-row gap-2 auto-rows-max"),v(j,"class","grid gap-6 split svelte-k92wki"),v(bt,"for","logo"),v(Q,"id","logo"),v(Q,"class","base-input"),v(Q,"name","logo"),v(Q,"type","file"),v(Q,"accept","image/png,image/jpeg,image/gif"),v(Q,"placeholder","Logo"),v(Y,"class","grid grid-flow-row gap-2"),v(at,"class","grid grid-flow-row gap-2"),v(nt,"class","grid grid-flow-row gap-2"),v(e,"class","grid grid-flow-row gap-6")},m(n,h){q(n,t,h),f(t,e),f(e,r),A(l,r,null),f(r,i),A(x,r,null),f(e,d),f(e,$),A(o,$,null),f($,u),A(m,$,null),f(e,U),f(e,k),A(R,k,null),f(k,yt),A(Z,k,null),f(e,Et),f(e,j),f(j,B),A(C,B,null),f(B,p),A(O,B,null),f(j,Ct),f(j,J),f(J,It),f(It,Ot),f(J,Zt),z.block.m(J,z.anchor=null),z.mount=()=>J,z.anchor=null,f(e,jt),f(e,Y),f(Y,bt),f(bt,Bt),f(Y,Yt),f(Y,Q),f(Y,Ft),A(st,Y,null),f(e,Jt),f(e,at),A(X,at,null),f(at,Xt),A(it,at,null),f(e,Gt),f(e,nt),A(ot,nt,null),f(nt,Kt),A(ft,nt,null),f(e,te),f(e,Vt),A(ct,Vt,null),f(e,ee),T&&T.m(e,null),f(e,Tt),H&&H.m(e,null),f(e,Ht),f(e,Dt),A(ut,Dt,null),Rt=!0,re||(se=Re(s[5].call(null,t)),re=!0)},p(n,[h]){s=n;const D={};!a&&h&4&&(a=!0,D.value=s[2].name,lt(()=>a=!1)),l.$set(D);const $t={};h&167772160&&($t.$$scope={dirty:h,ctx:s}),x.$set($t);const G={};h&2&&(G.disabled=s[1]),h&134217730&&(G.$$scope={dirty:h,ctx:s}),!E&&h&4&&(E=!0,G.value=s[2].mod_reference,lt(()=>E=!1)),o.$set(G);const mt={};h&167772160&&(mt.$$scope={dirty:h,ctx:s}),m.$set(mt);const dt={};!_t&&h&4&&(_t=!0,dt.value=s[2].short_description,lt(()=>_t=!1)),R.$set(dt);const pt={};h&167772160&&(pt.$$scope={dirty:h,ctx:s}),Z.$set(pt);const gt={};!kt&&h&4&&(kt=!0,gt.value=s[2].full_description,lt(()=>kt=!1)),C.$set(gt);const Pt={};h&167772160&&(Pt.$$scope={dirty:h,ctx:s}),O.$set(Pt),z.ctx=s,h&16&&Mt!==(Mt=de(s[4]))&&ue(Mt,z)||We(z,s,h);const K={};h&167772160&&(K.$$scope={dirty:h,ctx:s}),st.$set(K);const St={};!Qt&&h&4&&(Qt=!0,St.value=s[2].source_url,lt(()=>Qt=!1)),X.$set(St);const ht={};h&167772160&&(ht.$$scope={dirty:h,ctx:s}),it.$set(ht);const vt={};h&134217732&&(vt.$$scope={dirty:h,ctx:s}),ot.$set(vt);const At={};h&167772160&&(At.$$scope={dirty:h,ctx:s}),ft.$set(At);const Nt={};h&134217740&&(Nt.$$scope={dirty:h,ctx:s}),ct.$set(Nt),s[3]?T?(T.p(s,h),h&8&&g(T,1)):(T=be(s),T.c(),g(T,1),T.m(e,Tt)):T&&(Ut(),y(T,1,1,()=>{T=null}),Lt()),s[1]?H?(H.p(s,h),h&2&&g(H,1)):(H=xe(s),H.c(),g(H,1),H.m(e,Ht)):H&&(Ut(),y(H,1,1,()=>{H=null}),Lt());const ce={};h&134217729&&(ce.$$scope={dirty:h,ctx:s}),ut.$set(ce)},i(n){Rt||(g(l.$$.fragment,n),g(x.$$.fragment,n),g(o.$$.fragment,n),g(m.$$.fragment,n),g(R.$$.fragment,n),g(Z.$$.fragment,n),g(C.$$.fragment,n),g(O.$$.fragment,n),g(st.$$.fragment,n),g(X.$$.fragment,n),g(it.$$.fragment,n),g(ot.$$.fragment,n),g(ft.$$.fragment,n),g(ct.$$.fragment,n),g(T),g(H),g(ut.$$.fragment,n),Rt=!0)},o(n){y(l.$$.fragment,n),y(x.$$.fragment,n),y(o.$$.fragment,n),y(m.$$.fragment,n),y(R.$$.fragment,n),y(Z.$$.fragment,n),y(C.$$.fragment,n),y(O.$$.fragment,n),y(st.$$.fragment,n),y(X.$$.fragment,n),y(it.$$.fragment,n),y(ot.$$.fragment,n),y(ft.$$.fragment,n),y(ct.$$.fragment,n),y(T),y(H),y(ut.$$.fragment,n),Rt=!1},d(n){n&&c(t),N(l),N(x),N(o),N(m),N(R),N(Z),N(C),N(O),z.block.d(),z.token=null,z=null,N(st),N(X),N(it),N(ot),N(ft),N(ct),T&&T.d(),H&&H.d(),N(ut),re=!1,se()}}}function Ir(s,t,e){let r,l,{onSubmit:a}=t,{initialValues:i={full_description:"",mod_reference:"",name:"",short_description:"",source_url:"",hidden:!1,compatibility:{EA:{state:pe.Works,note:""},EXP:{state:pe.Works,note:""}}}}=t,{submitText:x="Create"}=t,{editing:d=!1}=t;const{form:$,data:o}=je({initialValues:i,extend:[Be({schema:he}),Ye],onSubmit:p=>a(Je(p,he))});De(s,o,p=>e(2,l=p));const E=()=>{l.authors.push({role:"editor",user_id:"",key:""}),o.set(l)},u=p=>{l.authors.splice(p,1),o.set(l)};let m=!1;function U(p){s.$$.not_equal(l.name,p)&&(l.name=p,o.set(l))}function k(p){s.$$.not_equal(l.mod_reference,p)&&(l.mod_reference=p,o.set(l))}function R(p){s.$$.not_equal(l.short_description,p)&&(l.short_description=p,o.set(l))}function _t(p){s.$$.not_equal(l.full_description,p)&&(l.full_description=p,o.set(l))}function yt(p){s.$$.not_equal(l.source_url,p)&&(l.source_url=p,o.set(l))}function Z(p){s.$$.not_equal(l.hidden,p)&&(l.hidden=p,o.set(l))}function Et(p){m=p,e(3,m)}const j=()=>Pe(o,l.compatibility=null,l);function B(p){s.$$.not_equal(l.compatibility,p)&&(l.compatibility=p,o.set(l))}function C(p,O){s.$$.not_equal(l.authors[O].user_id,p)&&(l.authors[O].user_id=p,o.set(l))}const kt=p=>u(p);return s.$$set=p=>{"onSubmit"in p&&e(9,a=p.onSubmit),"initialValues"in p&&e(10,i=p.initialValues),"submitText"in p&&e(0,x=p.submitText),"editing"in p&&e(1,d=p.editing)},s.$$.update=()=>{s.$$.dirty&4&&e(4,r=l.full_description||"")},[x,d,l,m,r,$,o,E,u,a,i,U,k,R,_t,yt,Z,Et,j,B,C,kt]}class Ur extends ke{constructor(t){super(),Ie(this,t,Ir,kr,Ve,{onSubmit:9,initialValues:10,submitText:0,editing:1})}}export{Ur as M};
//# sourceMappingURL=ModForm-6bcd3fbd.js.map
