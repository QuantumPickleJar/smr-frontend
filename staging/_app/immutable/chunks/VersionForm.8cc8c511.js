import{S as ft,i as ut,s as mt,d as j,r as xe,T as ke,bp as Ve,aP as Le,v as dt,X as Re,Y as Ee,Z as Pe,a$ as le,x as v,a8 as K,a6 as A,L as B,y as w,z as V,ab as Q,a9 as T,q as h,N,ac as I,C as y,l as R,ad as p,ae as Z,D as pt,ai as Be,p as W,m as ht,t as Y,n as gt,bq as $t,aj as X,O as U,k as Ne,b0 as _e,P as H}from"./vendor.9ead54bc.js";import{o as bt,d as vt,e as wt,Z as Fe,s as Ae,S as qe,V as ce,T as Ce,c as Te,v as je,r as Me,O as se}from"./forms.e9c713a3.js";import{J as yt}from"./jszip.b5b11905.js";import{v as St}from"./uplugin.b2ae1381.js";import{t as Oe}from"./forms.045dabb8.js";import{m as re}from"./markdown.f8bcc383.js";import{V as De}from"./graphql.cb6ec208.js";import{b as ae}from"./formatting.6f84ef8f.js";const xt=async(n,e,t)=>e.async("string").then(async o=>{const i=await St(o);if(i.length!=0)return{message:`invalid ${t}.uplugin`,extended:i};const l=JSON.parse(o);let c=!1;for(const s of l.Plugins)if(s.Name==="SML"){c=!0;break}return c?{uplugin:l,objects:Object.keys(n.files).filter(s=>s.endsWith(".so")||s.endsWith(".dll")||s.endsWith(".pak"))}:{message:"mod must depend on SML"}}).catch(o=>({message:`invalid ${t}.uplugin: ${o}`})),kt=async(n,e)=>new yt().loadAsync(n).then(o=>{const i=o.file("WindowsNoEditor/"+e+".uplugin");return i?xt(o,i,e):{message:"WindowsNoEditor/"+e+".uplugin missing from mod"}}).catch(o=>({message:"invalid zip/smod file: "+o})),Ie=(n,e)=>bt({file:vt(wt().superRefine(async(t,o)=>{if(!("name"in t&&"size"in t&&"type"in t)){o.addIssue({message:"Unknown file error",code:Fe.custom});return}const i=await kt(t,n);if("message"in i){o.addIssue({message:i.message,code:Fe.custom});return}e.set(i)})),changelog:Ae(),stability:Ae()});const S="src/lib/components/versions/VersionForm.svelte";function ze(n,e,t){const o=n.slice();return o[17]=e[t],o}function Ge(n,e,t){const o=n.slice();return o[20]=e[t],o}function We(n){let e;const t={c:function(){e=B("Alpha")},l:function(i){e=N(i,"Alpha")},m:function(i,l){R(i,e,l)},d:function(i){i&&h(e)}};return j("SvelteRegisterBlock",{block:t,id:We.name,type:"slot",source:'(40:8) <Option value=\\"alpha\\">',ctx:n}),t}function He(n){let e;const t={c:function(){e=B("Beta")},l:function(i){e=N(i,"Beta")},m:function(i,l){R(i,e,l)},d:function(i){i&&h(e)}};return j("SvelteRegisterBlock",{block:t,id:He.name,type:"slot",source:'(41:8) <Option value=\\"beta\\">',ctx:n}),t}function Ue(n){let e;const t={c:function(){e=B("Release")},l:function(i){e=N(i,"Release")},m:function(i,l){R(i,e,l)},d:function(i){i&&h(e)}};return j("SvelteRegisterBlock",{block:t,id:Ue.name,type:"slot",source:'(42:8) <Option value=\\"release\\">',ctx:n}),t}function Ye(n){let e,t,o,i,l,c;e=new se({props:{value:"alpha",$$slots:{default:[We]},$$scope:{ctx:n}},$$inline:!0}),o=new se({props:{value:"beta",$$slots:{default:[He]},$$scope:{ctx:n}},$$inline:!0}),l=new se({props:{value:"release",$$slots:{default:[Ue]},$$scope:{ctx:n}},$$inline:!0});const s={c:function(){K(e.$$.fragment),t=A(),K(o.$$.fragment),i=A(),K(l.$$.fragment)},l:function(r){Q(e.$$.fragment,r),t=T(r),Q(o.$$.fragment,r),i=T(r),Q(l.$$.fragment,r)},m:function(r,a){Z(e,r,a),R(r,t,a),Z(o,r,a),R(r,i,a),Z(l,r,a),c=!0},p:function(r,a){const d={};a&8388608&&(d.$$scope={dirty:a,ctx:r}),e.$set(d);const f={};a&8388608&&(f.$$scope={dirty:a,ctx:r}),o.$set(f);const u={};a&8388608&&(u.$$scope={dirty:a,ctx:r}),l.$set(u)},i:function(r){c||(W(e.$$.fragment,r),W(o.$$.fragment,r),W(l.$$.fragment,r),c=!0)},o:function(r){Y(e.$$.fragment,r),Y(o.$$.fragment,r),Y(l.$$.fragment,r),c=!1},d:function(r){X(e,r),r&&h(t),X(o,r),r&&h(i),X(l,r)}};return j("SvelteRegisterBlock",{block:s,id:Ye.name,type:"slot",source:'(39:6) <Select bind:value={$data.stability} label=\\"Stability\\">',ctx:n}),s}function Je(n){let e,t=(n[16]||"")+"",o;const i={c:function(){e=v("span"),o=B(t),this.h()},l:function(c){e=w(c,"SPAN",{class:!0});var s=V(e);o=N(s,t),s.forEach(h),this.h()},h:function(){I(e,"class","validation-message"),y(e,S,44,8,1724)},m:function(c,s){R(c,e,s),p(e,o)},p:function(c,s){s&65536&&t!==(t=(c[16]||"")+"")&&U(o,t)},d:function(c){c&&h(e)}};return j("SvelteRegisterBlock",{block:i,id:Je.name,type:"slot",source:'(44:6) <ValidationMessage for=\\"stability\\" let:messages={message}>',ctx:n}),i}function fe(n){let e,t,o,i,l,c,s,m,r,a,d;s=new ce({props:{for:"file",$$slots:{default:[Ke,({messages:x})=>({16:x}),({messages:x})=>x?65536:0]},$$scope:{ctx:n}},$$inline:!0});let f=n[2].file&&ue(n),u=n[5]&&me(n);const k={c:function(){e=v("div"),t=v("label"),o=B("File:"),i=A(),l=v("input"),c=A(),K(s.$$.fragment),m=A(),f&&f.c(),r=A(),u&&u.c(),a=Ne(),this.h()},l:function($){e=w($,"DIV",{class:!0});var b=V(e);t=w(b,"LABEL",{for:!0});var E=V(t);o=N(E,"File:"),E.forEach(h),i=T(b),l=w(b,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),c=T(b),Q(s.$$.fragment,b),b.forEach(h),m=T($),f&&f.l($),r=T($),u&&u.l($),a=Ne(),this.h()},h:function(){I(t,"for","file"),y(t,S,50,8,1891),I(l,"id","file"),I(l,"class","base-input"),I(l,"name","file"),I(l,"type","file"),I(l,"accept",".zip,.smod"),I(l,"placeholder","File"),y(l,S,51,8,1931),I(e,"class","grid grid-flow-row gap-2"),y(e,S,49,6,1844)},m:function($,b){R($,e,b),p(e,t),p(t,o),p(e,i),p(e,l),p(e,c),Z(s,e,null),R($,m,b),f&&f.m($,b),R($,r,b),u&&u.m($,b),R($,a,b),d=!0},p:function($,b){const E={};b&8454144&&(E.$$scope={dirty:b,ctx:$}),s.$set(E),$[2].file?f?f.p($,b):(f=ue($),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null),$[5]?u?u.p($,b):(u=me($),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null)},i:function($){d||(W(s.$$.fragment,$),d=!0)},o:function($){Y(s.$$.fragment,$),d=!1},d:function($){$&&h(e),X(s),$&&h(m),f&&f.d($),$&&h(r),u&&u.d($),$&&h(a)}};return j("SvelteRegisterBlock",{block:k,id:fe.name,type:"if",source:"(49:4) {#if !editing}",ctx:n}),k}function Ke(n){let e,t=(n[16]||"")+"",o;const i={c:function(){e=v("span"),o=B(t),this.h()},l:function(c){e=w(c,"SPAN",{class:!0});var s=V(e);o=N(s,t),s.forEach(h),this.h()},h:function(){I(e,"class","validation-message"),y(e,S,53,10,2105)},m:function(c,s){R(c,e,s),p(e,o)},p:function(c,s){s&65536&&t!==(t=(c[16]||"")+"")&&U(o,t)},d:function(c){c&&h(e)}};return j("SvelteRegisterBlock",{block:i,id:Ke.name,type:"slot",source:'(53:8) <ValidationMessage for=\\"file\\" let:messages={message}>',ctx:n}),i}function ue(n){let e,t,o,i,l,c=(n[2].file.type||"Unknown")+"",s,m,r,a,d,f,u,k=ae(n[2].file.size)+"",x;const $={c:function(){e=v("div"),t=v("span"),o=v("strong"),i=B("File Type:"),l=A(),s=B(c),m=v("br"),r=A(),a=v("span"),d=v("strong"),f=B("File Size:"),u=A(),x=B(k),this.h()},l:function(E){e=w(E,"DIV",{});var P=V(e);t=w(P,"SPAN",{});var L=V(t);o=w(L,"STRONG",{});var g=V(o);i=N(g,"File Type:"),g.forEach(h),l=T(L),s=N(L,c),L.forEach(h),m=w(P,"BR",{}),r=T(P),a=w(P,"SPAN",{});var F=V(a);d=w(F,"STRONG",{});var M=V(d);f=N(M,"File Size:"),M.forEach(h),u=T(F),x=N(F,k),F.forEach(h),P.forEach(h),this.h()},h:function(){y(o,S,59,16,2257),y(t,S,59,10,2251),y(m,S,59,81,2322),y(d,S,60,16,2345),y(a,S,60,10,2339),y(e,S,58,8,2235)},m:function(E,P){R(E,e,P),p(e,t),p(t,o),p(o,i),p(t,l),p(t,s),p(e,m),p(e,r),p(e,a),p(a,d),p(d,f),p(a,u),p(a,x)},p:function(E,P){P&4&&c!==(c=(E[2].file.type||"Unknown")+"")&&U(s,c),P&4&&k!==(k=ae(E[2].file.size)+"")&&U(x,k)},d:function(E){E&&h(e)}};return j("SvelteRegisterBlock",{block:$,id:ue.name,type:"if",source:"(58:6) {#if $data.file}",ctx:n}),$}function me(n){let e,t,o,i,l,c,s=n[5].uplugin.Version+"",m,r,a,d,f;function u(g,F){return g[5].uplugin.SemVersion!==void 0?Ze:Qe}let k=u(n),x=k(n),$=n[5].uplugin.Plugins!==void 0&&de(n);function b(g,F){return g[5].objects&&g[5].objects.length>0?nt:tt}let E=b(n),P=E(n);const L={c:function(){e=v("div"),t=v("p"),o=v("span"),i=v("strong"),l=B("Version:"),c=A(),m=B(s),r=v("br"),a=A(),x.c(),d=A(),$&&$.c(),f=A(),P.c(),this.h()},l:function(F){e=w(F,"DIV",{});var M=V(e);t=w(M,"P",{class:!0});var _=V(t);o=w(_,"SPAN",{});var J=V(o);i=w(J,"STRONG",{});var ie=V(i);l=N(ie,"Version:"),ie.forEach(h),c=T(J),m=N(J,s),r=w(J,"BR",{}),J.forEach(h),a=T(_),x.l(_),_.forEach(h),d=T(M),$&&$.l(M),f=T(M),P.l(M),M.forEach(h),this.h()},h:function(){y(i,S,67,18,2519),y(r,S,67,70,2571),y(o,S,67,12,2513),I(t,"class","mb-4"),y(t,S,66,10,2484),y(e,S,65,8,2468)},m:function(F,M){R(F,e,M),p(e,t),p(t,o),p(o,i),p(i,l),p(o,c),p(o,m),p(o,r),p(t,a),x.m(t,null),p(e,d),$&&$.m(e,null),p(e,f),P.m(e,null)},p:function(F,M){M&32&&s!==(s=F[5].uplugin.Version+"")&&U(m,s),k===(k=u(F))&&x?x.p(F,M):(x.d(1),x=k(F),x&&(x.c(),x.m(t,null))),F[5].uplugin.Plugins!==void 0?$?$.p(F,M):($=de(F),$.c(),$.m(e,f)):$&&($.d(1),$=null),E===(E=b(F))&&P?P.p(F,M):(P.d(1),P=E(F),P&&(P.c(),P.m(e,null)))},d:function(F){F&&h(e),x.d(),$&&$.d(),P.d()}};return j("SvelteRegisterBlock",{block:L,id:me.name,type:"if",source:"(65:6) {#if $modMeta}",ctx:n}),L}function Qe(n){let e,t,o=n[5].uplugin.Version+"",i,l;const c={c:function(){e=v("span"),t=B("Mod is missing SemVersion field! Are you sure you want to continue? Your version will be set to "),i=B(o),l=B(".0.0"),this.h()},l:function(m){e=w(m,"SPAN",{class:!0});var r=V(e);t=N(r,"Mod is missing SemVersion field! Are you sure you want to continue? Your version will be set to "),i=N(r,o),l=N(r,".0.0"),r.forEach(h),this.h()},h:function(){I(e,"class","text-yellow-600"),y(e,S,72,14,2772)},m:function(m,r){R(m,e,r),p(e,t),p(e,i),p(e,l)},p:function(m,r){r&32&&o!==(o=m[5].uplugin.Version+"")&&U(i,o)},d:function(m){m&&h(e)}};return j("SvelteRegisterBlock",{block:c,id:Qe.name,type:"else",source:"(72:12) {:else}",ctx:n}),c}function Ze(n){let e,t,o,i,l=n[5].uplugin.SemVersion+"",c,s;const m={c:function(){e=v("span"),t=v("strong"),o=B("SemVersion:"),i=A(),c=B(l),s=v("br"),this.h()},l:function(a){e=w(a,"SPAN",{});var d=V(e);t=w(d,"STRONG",{});var f=V(t);o=N(f,"SemVersion:"),f.forEach(h),i=T(d),c=N(d,l),s=w(d,"BR",{}),d.forEach(h),this.h()},h:function(){y(t,S,70,20,2666),y(s,S,70,78,2724),y(e,S,70,14,2660)},m:function(a,d){R(a,e,d),p(e,t),p(t,o),p(e,i),p(e,c),p(e,s)},p:function(a,d){d&32&&l!==(l=a[5].uplugin.SemVersion+"")&&U(c,l)},d:function(a){a&&h(e)}};return j("SvelteRegisterBlock",{block:m,id:Ze.name,type:"if",source:"(70:12) {#if $modMeta.uplugin.SemVersion !== undefined}",ctx:n}),m}function de(n){let e,t,o,i,l,c=n[5].uplugin.Plugins;le(c);let s=[];for(let r=0;r<c.length;r+=1)s[r]=pe(Ge(n,c,r));const m={c:function(){e=v("p"),t=v("strong"),o=B("Dependencies:"),i=v("br"),l=A();for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l:function(a){e=w(a,"P",{});var d=V(e);t=w(d,"STRONG",{});var f=V(t);o=N(f,"Dependencies:"),f.forEach(h),i=w(d,"BR",{}),l=T(d);for(let u=0;u<s.length;u+=1)s[u].l(d);d.forEach(h),this.h()},h:function(){y(t,S,81,14,3106),y(i,S,81,44,3136),y(e,S,80,12,3088)},m:function(a,d){R(a,e,d),p(e,t),p(t,o),p(e,i),p(e,l);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p:function(a,d){if(d&32){c=a[5].uplugin.Plugins,le(c);let f;for(f=0;f<c.length;f+=1){const u=Ge(a,c,f);s[f]?s[f].p(u,d):(s[f]=pe(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=c.length}},d:function(a){a&&h(e),_e(s,a)}};return j("SvelteRegisterBlock",{block:m,id:de.name,type:"if",source:"(80:10) {#if $modMeta.uplugin.Plugins !== undefined}",ctx:n}),m}function Xe(n){let e,t;const o={c:function(){e=v("span"),t=B("*"),this.h()},l:function(l){e=w(l,"SPAN",{});var c=V(e);t=N(c,"*"),c.forEach(h),this.h()},h:function(){y(e,S,87,18,3398)},m:function(l,c){R(l,e,c),p(e,t)},p:H,d:function(l){l&&h(e)}};return j("SvelteRegisterBlock",{block:o,id:Xe.name,type:"else",source:"(87:16) {:else}",ctx:n}),o}function et(n){let e,t=n[20].SemVersion+"",o;const i={c:function(){e=v("span"),o=B(t),this.h()},l:function(c){e=w(c,"SPAN",{});var s=V(e);o=N(s,t),s.forEach(h),this.h()},h:function(){y(e,S,85,18,3319)},m:function(c,s){R(c,e,s),p(e,o)},p:function(c,s){s&32&&t!==(t=c[20].SemVersion+"")&&U(o,t)},d:function(c){c&&h(e)}};return j("SvelteRegisterBlock",{block:i,id:et.name,type:"if",source:"(85:16) {#if dependency.SemVersion}",ctx:n}),i}function pe(n){let e,t=n[20].Name+"",o,i,l,c,s;function m(f,u){return f[20].SemVersion?et:Xe}let r=m(n),a=r(n);const d={c:function(){e=v("strong"),o=B(t),i=B(":"),l=A(),a.c(),c=A(),s=v("br"),this.h()},l:function(u){e=w(u,"STRONG",{});var k=V(e);o=N(k,t),i=N(k,":"),k.forEach(h),l=T(u),a.l(u),c=T(u),s=w(u,"BR",{}),this.h()},h:function(){y(e,S,83,16,3220),y(s,S,89,16,3451)},m:function(u,k){R(u,e,k),p(e,o),p(e,i),R(u,l,k),a.m(u,k),R(u,c,k),R(u,s,k)},p:function(u,k){k&32&&t!==(t=u[20].Name+"")&&U(o,t),r===(r=m(u))&&a?a.p(u,k):(a.d(1),a=r(u),a&&(a.c(),a.m(c.parentNode,c)))},d:function(u){u&&h(e),u&&h(l),a.d(u),u&&h(c),u&&h(s)}};return j("SvelteRegisterBlock",{block:d,id:pe.name,type:"each",source:"(83:14) {#each $modMeta.uplugin.Plugins as dependency}",ctx:n}),d}function tt(n){let e,t,o;const i={c:function(){e=v("p"),t=v("span"),o=B("Mod contains no objects (.dll, .pak)! Are you sure you want to continue?"),this.h()},l:function(c){e=w(c,"P",{});var s=V(e);t=w(s,"SPAN",{class:!0});var m=V(t);o=N(m,"Mod contains no objects (.dll, .pak)! Are you sure you want to continue?"),m.forEach(h),s.forEach(h),this.h()},h:function(){I(t,"class","text-yellow-600"),y(t,S,104,14,3837),y(e,S,103,12,3819)},m:function(c,s){R(c,e,s),p(e,t),p(t,o)},p:H,d:function(c){c&&h(e)}};return j("SvelteRegisterBlock",{block:i,id:tt.name,type:"else",source:"(103:10) {:else}",ctx:n}),i}function nt(n){let e,t,o,i,l,c=n[5].objects;le(c);let s=[];for(let r=0;r<c.length;r+=1)s[r]=he(ze(n,c,r));const m={c:function(){e=v("p"),t=v("strong"),o=B("Objects:"),i=v("br"),l=A();for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l:function(a){e=w(a,"P",{});var d=V(e);t=w(d,"STRONG",{});var f=V(t);o=N(f,"Objects:"),f.forEach(h),i=w(d,"BR",{}),l=T(d);for(let u=0;u<s.length;u+=1)s[u].l(d);d.forEach(h),this.h()},h:function(){y(t,S,96,14,3608),y(i,S,96,39,3633),y(e,S,95,12,3590)},m:function(a,d){R(a,e,d),p(e,t),p(t,o),p(e,i),p(e,l);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p:function(a,d){if(d&32){c=a[5].objects,le(c);let f;for(f=0;f<c.length;f+=1){const u=ze(a,c,f);s[f]?s[f].p(u,d):(s[f]=he(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=c.length}},d:function(a){a&&h(e),_e(s,a)}};return j("SvelteRegisterBlock",{block:m,id:nt.name,type:"if",source:"(95:10) {#if $modMeta.objects && $modMeta.objects.length > 0}",ctx:n}),m}function he(n){let e,t=n[17]+"",o,i,l;const c={c:function(){e=v("span"),o=B(t),i=A(),l=v("br"),this.h()},l:function(m){e=w(m,"SPAN",{});var r=V(e);o=N(r,t),r.forEach(h),i=T(m),l=w(m,"BR",{}),this.h()},h:function(){y(e,S,98,16,3705),y(l,S,99,16,3743)},m:function(m,r){R(m,e,r),p(e,o),R(m,i,r),R(m,l,r)},p:function(m,r){r&32&&t!==(t=m[17]+"")&&U(o,t)},d:function(m){m&&h(e),m&&h(i),m&&h(l)}};return j("SvelteRegisterBlock",{block:c,id:he.name,type:"each",source:"(98:14) {#each $modMeta.objects as object}",ctx:n}),c}function ot(n){let e,t=(n[16]||"")+"",o;const i={c:function(){e=v("span"),o=B(t),this.h()},l:function(c){e=w(c,"SPAN",{class:!0});var s=V(e);o=N(s,t),s.forEach(h),this.h()},h:function(){I(e,"class","validation-message"),y(e,S,123,10,4410)},m:function(c,s){R(c,e,s),p(e,o)},p:function(c,s){s&65536&&t!==(t=(c[16]||"")+"")&&U(o,t)},d:function(c){c&&h(e)}};return j("SvelteRegisterBlock",{block:i,id:ot.name,type:"slot",source:'(123:8) <ValidationMessage for=\\"changelog\\" let:messages={message}>',ctx:n}),i}function it(n){const e={c:H,l:H,m:H,p:H,d:H};return j("SvelteRegisterBlock",{block:e,id:it.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function st(n){let e,t=n[15]+"";const o={c:function(){e=v("div"),this.h()},l:function(l){e=w(l,"DIV",{class:!0});var c=V(e);c.forEach(h),this.h()},h:function(){I(e,"class","markdown-content right s-Aj89xH93RQKp"),y(e,S,129,10,4663)},m:function(l,c){R(l,e,c),e.innerHTML=t},p:function(l,c){c&16&&t!==(t=l[15]+"")&&(e.innerHTML=t)},d:function(l){l&&h(e)}};return j("SvelteRegisterBlock",{block:o,id:st.name,type:"then",source:'(129:55)            <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:n}),o}function lt(n){const e={c:H,l:H,m:H,p:H,d:H};return j("SvelteRegisterBlock",{block:e,id:lt.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function ct(n){let e;const t={c:function(){e=B(n[0])},l:function(i){e=N(i,n[0])},m:function(i,l){R(i,e,l)},p:function(i,l){l&1&&U(e,i[0])},d:function(i){i&&h(e)}};return j("SvelteRegisterBlock",{block:t,id:ct.name,type:"slot",source:'(136:6) <Button variant=\\"outlined\\" type=\\"submit\\" {disabled}>',ctx:n}),t}function ge(n){let e,t,o,i,l,c,s,m,r,a,d,f,u,k,x,$,b,E,P,L,g,F,M,_,J,ie,$e;function rt(z){n[12](z)}let be={label:"Stability",$$slots:{default:[Ye]},$$scope:{ctx:n}};n[2].stability!==void 0&&(be.value=n[2].stability),i=new qe({props:be,$$inline:!0}),xe.push(()=>ke(i,"value",rt)),s=new ce({props:{for:"stability",$$slots:{default:[Je,({messages:z})=>({16:z}),({messages:z})=>z?65536:0]},$$scope:{ctx:n}},$$inline:!0});let O=!n[1]&&fe(n);function at(z){n[13](z)}let ve={textarea:!0,class:"vertical-textarea",label:"Changelog",required:!0,input$rows:10};n[2].changelog!==void 0&&(ve.value=n[2].changelog),f=new Ce({props:ve,$$inline:!0}),xe.push(()=>ke(f,"value",at)),x=new ce({props:{for:"changelog",$$slots:{default:[ot,({messages:z})=>({16:z}),({messages:z})=>z?65536:0]},$$scope:{ctx:n}},$$inline:!0});let q={ctx:n,current:null,token:null,hasCatch:!1,pending:lt,then:st,catch:it,value:15};Ve(g=re(n[4]),q),_=new Le({props:{variant:"outlined",type:"submit",disabled:n[3],$$slots:{default:[ct]},$$scope:{ctx:n}},$$inline:!0});const we={c:function(){e=v("form"),t=v("div"),o=v("div"),K(i.$$.fragment),c=A(),K(s.$$.fragment),m=A(),O&&O.c(),r=A(),a=v("div"),d=v("div"),K(f.$$.fragment),k=A(),K(x.$$.fragment),$=A(),b=v("div"),E=v("span"),P=B("Preview:"),L=A(),q.block.c(),F=A(),M=v("div"),K(_.$$.fragment),this.h()},l:function(G){e=w(G,"FORM",{});var D=V(e);t=w(D,"DIV",{class:!0});var C=V(t);o=w(C,"DIV",{class:!0});var te=V(o);Q(i.$$.fragment,te),c=T(te),Q(s.$$.fragment,te),te.forEach(h),m=T(C),O&&O.l(C),r=T(C),a=w(C,"DIV",{class:!0});var ne=V(a);d=w(ne,"DIV",{class:!0});var oe=V(d);Q(f.$$.fragment,oe),k=T(oe),Q(x.$$.fragment,oe),oe.forEach(h),$=T(ne),b=w(ne,"DIV",{class:!0});var ee=V(b);E=w(ee,"SPAN",{});var ye=V(E);P=N(ye,"Preview:"),ye.forEach(h),L=T(ee),q.block.l(ee),ee.forEach(h),ne.forEach(h),F=T(C),M=w(C,"DIV",{});var Se=V(M);Q(_.$$.fragment,Se),Se.forEach(h),C.forEach(h),D.forEach(h),this.h()},h:function(){I(o,"class","grid grid-flow-row gap-2"),y(o,S,37,4,1397),I(d,"class","grid grid-flow-row gap-2 auto-rows-max"),y(d,S,114,6,4091),y(E,S,127,8,4575),I(b,"class","grid grid-flow-row gap-2 auto-rows-max"),y(b,S,126,6,4514),I(a,"class","grid gap-6 split s-Aj89xH93RQKp"),y(a,S,113,4,4054),y(M,S,134,4,4775),I(t,"class","grid grid-flow-row gap-6"),y(t,S,36,2,1354),y(e,S,35,0,1336)},m:function(G,D){R(G,e,D),p(e,t),p(t,o),Z(i,o,null),p(o,c),Z(s,o,null),p(t,m),O&&O.m(t,null),p(t,r),p(t,a),p(a,d),Z(f,d,null),p(d,k),Z(x,d,null),p(a,$),p(a,b),p(b,E),p(E,P),p(b,L),q.block.m(b,q.anchor=null),q.mount=()=>b,q.anchor=null,p(t,F),p(t,M),Z(_,M,null),J=!0,ie||($e=pt(n[7].call(null,e)),ie=!0)},p:function(G,[D]){n=G;const C={};D&8388608&&(C.$$scope={dirty:D,ctx:n}),!l&&D&4&&(l=!0,C.value=n[2].stability,Be(()=>l=!1)),i.$set(C);const te={};D&8454144&&(te.$$scope={dirty:D,ctx:n}),s.$set(te),n[1]?O&&(ht(),Y(O,1,1,()=>{O=null}),gt()):O?(O.p(n,D),D&2&&W(O,1)):(O=fe(n),O.c(),W(O,1),O.m(t,r));const ne={};!u&&D&4&&(u=!0,ne.value=n[2].changelog,Be(()=>u=!1)),f.$set(ne);const oe={};D&8454144&&(oe.$$scope={dirty:D,ctx:n}),x.$set(oe),q.ctx=n,D&16&&g!==(g=re(n[4]))&&Ve(g,q)||$t(q,n,D);const ee={};D&8&&(ee.disabled=n[3]),D&8388609&&(ee.$$scope={dirty:D,ctx:n}),_.$set(ee)},i:function(G){J||(W(i.$$.fragment,G),W(s.$$.fragment,G),W(O),W(f.$$.fragment,G),W(x.$$.fragment,G),W(_.$$.fragment,G),J=!0)},o:function(G){Y(i.$$.fragment,G),Y(s.$$.fragment,G),Y(O),Y(f.$$.fragment,G),Y(x.$$.fragment,G),Y(_.$$.fragment,G),J=!1},d:function(G){G&&h(e),X(i),X(s),O&&O.d(),X(f),X(x),q.block.d(),q.token=null,q=null,X(_),ie=!1,$e()}};return j("SvelteRegisterBlock",{block:we,id:ge.name,type:"component",source:"",ctx:n}),we}function Vt(n,e,t){let o,i,l,{$$slots:c={},$$scope:s}=e;dt("VersionForm",c,[]);let{modReference:m}=e,{onSubmit:r}=e,{initialValues:a={arch:[{ModVersionID:"",platform:"",asset:"",hash:"",size:0}],changelog:"",stability:De.Alpha}}=e,{submitText:d="Create"}=e,{editing:f=!1}=e;const u=Re();Ee(u,"modMeta"),Pe(n,u,g=>t(5,l=g));let k=!1;const x=Ie(m,u),{form:$,data:b}=Te({initialValues:a,extend:[je({schema:x}),Me],onSubmit:g=>{t(3,k=!0),r(Oe(g,x)).then(()=>t(3,k=!1))}});Ee(b,"data"),Pe(n,b,g=>t(2,i=g)),n.$$.on_mount.push(function(){m===void 0&&!("modReference"in e||n.$$.bound[n.$$.props.modReference])&&console.warn("<VersionForm> was created without expected prop 'modReference'"),r===void 0&&!("onSubmit"in e||n.$$.bound[n.$$.props.onSubmit])&&console.warn("<VersionForm> was created without expected prop 'onSubmit'")});const E=["modReference","onSubmit","initialValues","submitText","editing"];Object.keys(e).forEach(g=>{!~E.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<VersionForm> was created with unknown prop '${g}'`)});function P(g){n.$$.not_equal(i.stability,g)&&(i.stability=g,b.set(i))}function L(g){n.$$.not_equal(i.changelog,g)&&(i.changelog=g,b.set(i))}return n.$$set=g=>{"modReference"in g&&t(9,m=g.modReference),"onSubmit"in g&&t(10,r=g.onSubmit),"initialValues"in g&&t(11,a=g.initialValues),"submitText"in g&&t(0,d=g.submitText),"editing"in g&&t(1,f=g.editing)},n.$capture_state=()=>({createForm:Te,validator:je,reporter:Me,ValidationMessage:ce,constructVersionSchema:Ie,trimNonSchema:Oe,markdown:re,writable:Re,Textfield:Ce,Button:Le,VersionStabilities:De,Select:qe,Option:se,prettyBytes:ae,modReference:m,onSubmit:r,initialValues:a,submitText:d,editing:f,modMeta:u,disabled:k,versionSchema:x,form:$,data:b,preview:o,$data:i,$modMeta:l}),n.$inject_state=g=>{"modReference"in g&&t(9,m=g.modReference),"onSubmit"in g&&t(10,r=g.onSubmit),"initialValues"in g&&t(11,a=g.initialValues),"submitText"in g&&t(0,d=g.submitText),"editing"in g&&t(1,f=g.editing),"disabled"in g&&t(3,k=g.disabled),"preview"in g&&t(4,o=g.preview)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&4&&t(4,o=i.changelog||"")},[d,f,i,k,o,l,u,$,b,m,r,a,P,L]}class jt extends ft{constructor(e){super(e),ut(this,e,Vt,ge,mt,{modReference:9,onSubmit:10,initialValues:11,submitText:0,editing:1}),j("SvelteRegisterComponent",{component:this,tagName:"VersionForm",options:e,id:ge.name})}get modReference(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set modReference(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{jt as V};
//# sourceMappingURL=VersionForm.8cc8c511.js.map
