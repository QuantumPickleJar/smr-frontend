import{S as bt,i as vt,s as yt,d as M,r as Fe,T as Ae,bp as je,aP as Ue,v as wt,X as Te,Y as Me,Z as Oe,a$ as fe,x as b,a8 as U,a6 as A,L as R,y as v,z as k,ab as Y,a9 as j,q as p,N as E,ac as O,C as y,l as P,ad as m,ae as J,D as St,ai as De,p as H,m as xt,t as Q,n as kt,bq as Vt,aj as Z,O as K,k as Ie,b0 as Ye,P as W}from"./vendor.01de29c8.js";import{o as Rt,d as Et,e as Pt,Z as ze,s as Ce,S as Je,V as ue,T as Ze,c as Ge,v as Le,r as _e,O as ae}from"./forms.56cd8fa4.js";import{J as Bt}from"./jszip.f6d14a33.js";import{v as Nt}from"./uplugin.5039968d.js";import{t as qe}from"./forms.aeea6be2.js";import{m as he}from"./markdown.4a2c1fc6.js";import{V as He}from"./graphql.cb6ec208.js";import{b as ge}from"./formatting.6f84ef8f.js";const Ft=async(n,e,t)=>e.async("string").then(async o=>{const i=await Nt(o);if(i.length!=0)return{message:`invalid ${t}.uplugin`,extended:i};const l=JSON.parse(o);let c=!1;for(const s of l.Plugins)if(s.Name==="SML"){c=!0;break}return c?{uplugin:l,objects:Object.keys(n.files).filter(s=>s.endsWith(".so")||s.endsWith(".dll")||s.endsWith(".pak"))}:{message:"mod must depend on SML"}}).catch(o=>({message:`invalid ${t}.uplugin: ${o}`})),At=async(n,e)=>new Bt().loadAsync(n).then(o=>{const i=o.file("WindowsNoEditor/"+e+".uplugin");return i?Ft(o,i,e):{message:"WindowsNoEditor/"+e+".uplugin missing from mod"}}).catch(o=>({message:"invalid zip/smod file: "+o})),We=(n,e)=>Rt({file:Et(Pt().superRefine(async(t,o)=>{if(!("name"in t&&"size"in t&&"type"in t)){o.addIssue({message:"Unknown file error",code:ze.custom});return}const i=await At(t,n);if("message"in i){o.addIssue({message:i.message,code:ze.custom});return}e.set(i)})),changelog:Ce(),stability:Ce()});const w="src/lib/components/versions/VersionForm.svelte";function Ke(n,e,t){const o=n.slice();return o[17]=e[t],o}function Qe(n,e,t){const o=n.slice();return o[20]=e[t],o}function Xe(n){let e;const t={c:function(){e=R("Alpha")},l:function(i){e=E(i,"Alpha")},m:function(i,l){P(i,e,l)},d:function(i){i&&p(e)}};return M("SvelteRegisterBlock",{block:t,id:Xe.name,type:"slot",source:'(40:8) <Option value=\\"alpha\\">',ctx:n}),t}function et(n){let e;const t={c:function(){e=R("Beta")},l:function(i){e=E(i,"Beta")},m:function(i,l){P(i,e,l)},d:function(i){i&&p(e)}};return M("SvelteRegisterBlock",{block:t,id:et.name,type:"slot",source:'(41:8) <Option value=\\"beta\\">',ctx:n}),t}function tt(n){let e;const t={c:function(){e=R("Release")},l:function(i){e=E(i,"Release")},m:function(i,l){P(i,e,l)},d:function(i){i&&p(e)}};return M("SvelteRegisterBlock",{block:t,id:tt.name,type:"slot",source:'(42:8) <Option value=\\"release\\">',ctx:n}),t}function nt(n){let e,t,o,i,l,c;e=new ae({props:{value:"alpha",$$slots:{default:[Xe]},$$scope:{ctx:n}},$$inline:!0}),o=new ae({props:{value:"beta",$$slots:{default:[et]},$$scope:{ctx:n}},$$inline:!0}),l=new ae({props:{value:"release",$$slots:{default:[tt]},$$scope:{ctx:n}},$$inline:!0});const s={c:function(){U(e.$$.fragment),t=A(),U(o.$$.fragment),i=A(),U(l.$$.fragment)},l:function(r){Y(e.$$.fragment,r),t=j(r),Y(o.$$.fragment,r),i=j(r),Y(l.$$.fragment,r)},m:function(r,a){J(e,r,a),P(r,t,a),J(o,r,a),P(r,i,a),J(l,r,a),c=!0},p:function(r,a){const h={};a&8388608&&(h.$$scope={dirty:a,ctx:r}),e.$set(h);const f={};a&8388608&&(f.$$scope={dirty:a,ctx:r}),o.$set(f);const u={};a&8388608&&(u.$$scope={dirty:a,ctx:r}),l.$set(u)},i:function(r){c||(H(e.$$.fragment,r),H(o.$$.fragment,r),H(l.$$.fragment,r),c=!0)},o:function(r){Q(e.$$.fragment,r),Q(o.$$.fragment,r),Q(l.$$.fragment,r),c=!1},d:function(r){Z(e,r),r&&p(t),Z(o,r),r&&p(i),Z(l,r)}};return M("SvelteRegisterBlock",{block:s,id:nt.name,type:"slot",source:'(39:6) <Select bind:value={$data.stability} label=\\"Stability\\">',ctx:n}),s}function ot(n){let e,t=(n[16]||"")+"",o;const i={c:function(){e=b("span"),o=R(t),this.h()},l:function(c){e=v(c,"SPAN",{class:!0});var s=k(e);o=E(s,t),s.forEach(p),this.h()},h:function(){O(e,"class","validation-message"),y(e,w,44,8,1724)},m:function(c,s){P(c,e,s),m(e,o)},p:function(c,s){s&65536&&t!==(t=(c[16]||"")+"")&&K(o,t)},d:function(c){c&&p(e)}};return M("SvelteRegisterBlock",{block:i,id:ot.name,type:"slot",source:'(44:6) <ValidationMessage for=\\"stability\\" let:messages={message}>',ctx:n}),i}function $e(n){let e,t,o,i,l,c,s,d,r,a,h;s=new ue({props:{for:"file",$$slots:{default:[it,({messages:x})=>({16:x}),({messages:x})=>x?65536:0]},$$scope:{ctx:n}},$$inline:!0});let f=n[2].file&&be(n),u=n[5]&&ve(n);const V={c:function(){e=b("div"),t=b("label"),o=R("File:"),i=A(),l=b("input"),c=A(),U(s.$$.fragment),d=A(),f&&f.c(),r=A(),u&&u.c(),a=Ie(),this.h()},l:function($){e=v($,"DIV",{class:!0});var S=k(e);t=v(S,"LABEL",{for:!0});var B=k(t);o=E(B,"File:"),B.forEach(p),i=j(S),l=v(S,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),c=j(S),Y(s.$$.fragment,S),S.forEach(p),d=j($),f&&f.l($),r=j($),u&&u.l($),a=Ie(),this.h()},h:function(){O(t,"for","file"),y(t,w,50,8,1891),O(l,"id","file"),O(l,"class","base-input"),O(l,"name","file"),O(l,"type","file"),O(l,"accept",".zip,.smod"),O(l,"placeholder","File"),y(l,w,51,8,1931),O(e,"class","grid grid-flow-row gap-2"),y(e,w,49,6,1844)},m:function($,S){P($,e,S),m(e,t),m(t,o),m(e,i),m(e,l),m(e,c),J(s,e,null),P($,d,S),f&&f.m($,S),P($,r,S),u&&u.m($,S),P($,a,S),h=!0},p:function($,S){const B={};S&8454144&&(B.$$scope={dirty:S,ctx:$}),s.$set(B),$[2].file?f?f.p($,S):(f=be($),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null),$[5]?u?u.p($,S):(u=ve($),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null)},i:function($){h||(H(s.$$.fragment,$),h=!0)},o:function($){Q(s.$$.fragment,$),h=!1},d:function($){$&&p(e),Z(s),$&&p(d),f&&f.d($),$&&p(r),u&&u.d($),$&&p(a)}};return M("SvelteRegisterBlock",{block:V,id:$e.name,type:"if",source:"(49:4) {#if !editing}",ctx:n}),V}function it(n){let e,t=(n[16]||"")+"",o;const i={c:function(){e=b("span"),o=R(t),this.h()},l:function(c){e=v(c,"SPAN",{class:!0});var s=k(e);o=E(s,t),s.forEach(p),this.h()},h:function(){O(e,"class","validation-message"),y(e,w,53,10,2105)},m:function(c,s){P(c,e,s),m(e,o)},p:function(c,s){s&65536&&t!==(t=(c[16]||"")+"")&&K(o,t)},d:function(c){c&&p(e)}};return M("SvelteRegisterBlock",{block:i,id:it.name,type:"slot",source:'(53:8) <ValidationMessage for=\\"file\\" let:messages={message}>',ctx:n}),i}function be(n){let e,t,o,i,l,c=(n[2].file.type||"Unknown")+"",s,d,r,a,h,f,u,V=ge(n[2].file.size)+"",x;const $={c:function(){e=b("div"),t=b("span"),o=b("strong"),i=R("File Type:"),l=A(),s=R(c),d=b("br"),r=A(),a=b("span"),h=b("strong"),f=R("File Size:"),u=A(),x=R(V),this.h()},l:function(B){e=v(B,"DIV",{});var N=k(e);t=v(N,"SPAN",{});var _=k(t);o=v(_,"STRONG",{});var g=k(o);i=E(g,"File Type:"),g.forEach(p),l=j(_),s=E(_,c),_.forEach(p),d=v(N,"BR",{}),r=j(N),a=v(N,"SPAN",{});var F=k(a);h=v(F,"STRONG",{});var T=k(h);f=E(T,"File Size:"),T.forEach(p),u=j(F),x=E(F,V),F.forEach(p),N.forEach(p),this.h()},h:function(){y(o,w,59,16,2257),y(t,w,59,10,2251),y(d,w,59,81,2322),y(h,w,60,16,2345),y(a,w,60,10,2339),y(e,w,58,8,2235)},m:function(B,N){P(B,e,N),m(e,t),m(t,o),m(o,i),m(t,l),m(t,s),m(e,d),m(e,r),m(e,a),m(a,h),m(h,f),m(a,u),m(a,x)},p:function(B,N){N&4&&c!==(c=(B[2].file.type||"Unknown")+"")&&K(s,c),N&4&&V!==(V=ge(B[2].file.size)+"")&&K(x,V)},d:function(B){B&&p(e)}};return M("SvelteRegisterBlock",{block:$,id:be.name,type:"if",source:"(58:6) {#if $data.file}",ctx:n}),$}function ve(n){let e,t,o,i,l,c,s=n[5].uplugin.Version+"",d,r,a,h,f;function u(g,F){return g[5].uplugin.SemVersion!==void 0?lt:st}let V=u(n),x=V(n),$=n[5].uplugin.Plugins!==void 0&&ye(n);function S(g,F){return g[5].objects&&g[5].objects.length>0?ft:at}let B=S(n),N=B(n);const _={c:function(){e=b("div"),t=b("p"),o=b("span"),i=b("strong"),l=R("Version:"),c=A(),d=R(s),r=b("br"),a=A(),x.c(),h=A(),$&&$.c(),f=A(),N.c(),this.h()},l:function(F){e=v(F,"DIV",{});var T=k(e);t=v(T,"P",{class:!0});var X=k(t);o=v(X,"SPAN",{});var G=k(o);i=v(G,"STRONG",{});var se=k(i);l=E(se,"Version:"),se.forEach(p),c=j(G),d=E(G,s),r=v(G,"BR",{}),G.forEach(p),a=j(X),x.l(X),X.forEach(p),h=j(T),$&&$.l(T),f=j(T),N.l(T),T.forEach(p),this.h()},h:function(){y(i,w,67,18,2519),y(r,w,67,70,2571),y(o,w,67,12,2513),O(t,"class","mb-4"),y(t,w,66,10,2484),y(e,w,65,8,2468)},m:function(F,T){P(F,e,T),m(e,t),m(t,o),m(o,i),m(i,l),m(o,c),m(o,d),m(o,r),m(t,a),x.m(t,null),m(e,h),$&&$.m(e,null),m(e,f),N.m(e,null)},p:function(F,T){T&32&&s!==(s=F[5].uplugin.Version+"")&&K(d,s),V===(V=u(F))&&x?x.p(F,T):(x.d(1),x=V(F),x&&(x.c(),x.m(t,null))),F[5].uplugin.Plugins!==void 0?$?$.p(F,T):($=ye(F),$.c(),$.m(e,f)):$&&($.d(1),$=null),B===(B=S(F))&&N?N.p(F,T):(N.d(1),N=B(F),N&&(N.c(),N.m(e,null)))},d:function(F){F&&p(e),x.d(),$&&$.d(),N.d()}};return M("SvelteRegisterBlock",{block:_,id:ve.name,type:"if",source:"(65:6) {#if $modMeta}",ctx:n}),_}function st(n){let e,t,o=n[5].uplugin.Version+"",i,l;const c={c:function(){e=b("span"),t=R("Mod is missing SemVersion field! Are you sure you want to continue? Your version will be set to "),i=R(o),l=R(".0.0"),this.h()},l:function(d){e=v(d,"SPAN",{class:!0});var r=k(e);t=E(r,"Mod is missing SemVersion field! Are you sure you want to continue? Your version will be set to "),i=E(r,o),l=E(r,".0.0"),r.forEach(p),this.h()},h:function(){O(e,"class","text-yellow-600"),y(e,w,72,14,2772)},m:function(d,r){P(d,e,r),m(e,t),m(e,i),m(e,l)},p:function(d,r){r&32&&o!==(o=d[5].uplugin.Version+"")&&K(i,o)},d:function(d){d&&p(e)}};return M("SvelteRegisterBlock",{block:c,id:st.name,type:"else",source:"(72:12) {:else}",ctx:n}),c}function lt(n){let e,t,o,i,l=n[5].uplugin.SemVersion+"",c,s;const d={c:function(){e=b("span"),t=b("strong"),o=R("SemVersion:"),i=A(),c=R(l),s=b("br"),this.h()},l:function(a){e=v(a,"SPAN",{});var h=k(e);t=v(h,"STRONG",{});var f=k(t);o=E(f,"SemVersion:"),f.forEach(p),i=j(h),c=E(h,l),s=v(h,"BR",{}),h.forEach(p),this.h()},h:function(){y(t,w,70,20,2666),y(s,w,70,78,2724),y(e,w,70,14,2660)},m:function(a,h){P(a,e,h),m(e,t),m(t,o),m(e,i),m(e,c),m(e,s)},p:function(a,h){h&32&&l!==(l=a[5].uplugin.SemVersion+"")&&K(c,l)},d:function(a){a&&p(e)}};return M("SvelteRegisterBlock",{block:d,id:lt.name,type:"if",source:"(70:12) {#if $modMeta.uplugin.SemVersion !== undefined}",ctx:n}),d}function ye(n){let e,t,o,i,l,c=n[5].uplugin.Plugins;fe(c);let s=[];for(let r=0;r<c.length;r+=1)s[r]=we(Qe(n,c,r));const d={c:function(){e=b("p"),t=b("strong"),o=R("Dependencies:"),i=b("br"),l=A();for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l:function(a){e=v(a,"P",{});var h=k(e);t=v(h,"STRONG",{});var f=k(t);o=E(f,"Dependencies:"),f.forEach(p),i=v(h,"BR",{}),l=j(h);for(let u=0;u<s.length;u+=1)s[u].l(h);h.forEach(p),this.h()},h:function(){y(t,w,81,14,3106),y(i,w,81,44,3136),y(e,w,80,12,3088)},m:function(a,h){P(a,e,h),m(e,t),m(t,o),m(e,i),m(e,l);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p:function(a,h){if(h&32){c=a[5].uplugin.Plugins,fe(c);let f;for(f=0;f<c.length;f+=1){const u=Qe(a,c,f);s[f]?s[f].p(u,h):(s[f]=we(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=c.length}},d:function(a){a&&p(e),Ye(s,a)}};return M("SvelteRegisterBlock",{block:d,id:ye.name,type:"if",source:"(80:10) {#if $modMeta.uplugin.Plugins !== undefined}",ctx:n}),d}function ct(n){let e,t;const o={c:function(){e=b("span"),t=R("*"),this.h()},l:function(l){e=v(l,"SPAN",{});var c=k(e);t=E(c,"*"),c.forEach(p),this.h()},h:function(){y(e,w,87,18,3398)},m:function(l,c){P(l,e,c),m(e,t)},p:W,d:function(l){l&&p(e)}};return M("SvelteRegisterBlock",{block:o,id:ct.name,type:"else",source:"(87:16) {:else}",ctx:n}),o}function rt(n){let e,t=n[20].SemVersion+"",o;const i={c:function(){e=b("span"),o=R(t),this.h()},l:function(c){e=v(c,"SPAN",{});var s=k(e);o=E(s,t),s.forEach(p),this.h()},h:function(){y(e,w,85,18,3319)},m:function(c,s){P(c,e,s),m(e,o)},p:function(c,s){s&32&&t!==(t=c[20].SemVersion+"")&&K(o,t)},d:function(c){c&&p(e)}};return M("SvelteRegisterBlock",{block:i,id:rt.name,type:"if",source:"(85:16) {#if dependency.SemVersion}",ctx:n}),i}function we(n){let e,t=n[20].Name+"",o,i,l,c,s;function d(f,u){return f[20].SemVersion?rt:ct}let r=d(n),a=r(n);const h={c:function(){e=b("strong"),o=R(t),i=R(":"),l=A(),a.c(),c=A(),s=b("br"),this.h()},l:function(u){e=v(u,"STRONG",{});var V=k(e);o=E(V,t),i=E(V,":"),V.forEach(p),l=j(u),a.l(u),c=j(u),s=v(u,"BR",{}),this.h()},h:function(){y(e,w,83,16,3220),y(s,w,89,16,3451)},m:function(u,V){P(u,e,V),m(e,o),m(e,i),P(u,l,V),a.m(u,V),P(u,c,V),P(u,s,V)},p:function(u,V){V&32&&t!==(t=u[20].Name+"")&&K(o,t),r===(r=d(u))&&a?a.p(u,V):(a.d(1),a=r(u),a&&(a.c(),a.m(c.parentNode,c)))},d:function(u){u&&p(e),u&&p(l),a.d(u),u&&p(c),u&&p(s)}};return M("SvelteRegisterBlock",{block:h,id:we.name,type:"each",source:"(83:14) {#each $modMeta.uplugin.Plugins as dependency}",ctx:n}),h}function at(n){let e,t,o;const i={c:function(){e=b("p"),t=b("span"),o=R("Mod contains no objects (.dll, .pak)! Are you sure you want to continue?"),this.h()},l:function(c){e=v(c,"P",{});var s=k(e);t=v(s,"SPAN",{class:!0});var d=k(t);o=E(d,"Mod contains no objects (.dll, .pak)! Are you sure you want to continue?"),d.forEach(p),s.forEach(p),this.h()},h:function(){O(t,"class","text-yellow-600"),y(t,w,104,14,3837),y(e,w,103,12,3819)},m:function(c,s){P(c,e,s),m(e,t),m(t,o)},p:W,d:function(c){c&&p(e)}};return M("SvelteRegisterBlock",{block:i,id:at.name,type:"else",source:"(103:10) {:else}",ctx:n}),i}function ft(n){let e,t,o,i,l,c=n[5].objects;fe(c);let s=[];for(let r=0;r<c.length;r+=1)s[r]=Se(Ke(n,c,r));const d={c:function(){e=b("p"),t=b("strong"),o=R("Objects:"),i=b("br"),l=A();for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l:function(a){e=v(a,"P",{});var h=k(e);t=v(h,"STRONG",{});var f=k(t);o=E(f,"Objects:"),f.forEach(p),i=v(h,"BR",{}),l=j(h);for(let u=0;u<s.length;u+=1)s[u].l(h);h.forEach(p),this.h()},h:function(){y(t,w,96,14,3608),y(i,w,96,39,3633),y(e,w,95,12,3590)},m:function(a,h){P(a,e,h),m(e,t),m(t,o),m(e,i),m(e,l);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p:function(a,h){if(h&32){c=a[5].objects,fe(c);let f;for(f=0;f<c.length;f+=1){const u=Ke(a,c,f);s[f]?s[f].p(u,h):(s[f]=Se(u),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=c.length}},d:function(a){a&&p(e),Ye(s,a)}};return M("SvelteRegisterBlock",{block:d,id:ft.name,type:"if",source:"(95:10) {#if $modMeta.objects && $modMeta.objects.length > 0}",ctx:n}),d}function Se(n){let e,t=n[17]+"",o,i,l;const c={c:function(){e=b("span"),o=R(t),i=A(),l=b("br"),this.h()},l:function(d){e=v(d,"SPAN",{});var r=k(e);o=E(r,t),r.forEach(p),i=j(d),l=v(d,"BR",{}),this.h()},h:function(){y(e,w,98,16,3705),y(l,w,99,16,3743)},m:function(d,r){P(d,e,r),m(e,o),P(d,i,r),P(d,l,r)},p:function(d,r){r&32&&t!==(t=d[17]+"")&&K(o,t)},d:function(d){d&&p(e),d&&p(i),d&&p(l)}};return M("SvelteRegisterBlock",{block:c,id:Se.name,type:"each",source:"(98:14) {#each $modMeta.objects as object}",ctx:n}),c}function ut(n){let e,t=(n[16]||"")+"",o;const i={c:function(){e=b("span"),o=R(t),this.h()},l:function(c){e=v(c,"SPAN",{class:!0});var s=k(e);o=E(s,t),s.forEach(p),this.h()},h:function(){O(e,"class","validation-message"),y(e,w,123,10,4410)},m:function(c,s){P(c,e,s),m(e,o)},p:function(c,s){s&65536&&t!==(t=(c[16]||"")+"")&&K(o,t)},d:function(c){c&&p(e)}};return M("SvelteRegisterBlock",{block:i,id:ut.name,type:"slot",source:'(123:8) <ValidationMessage for=\\"changelog\\" let:messages={message}>',ctx:n}),i}function mt(n){const e={c:W,l:W,m:W,p:W,d:W};return M("SvelteRegisterBlock",{block:e,id:mt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function dt(n){let e,t=n[15]+"";const o={c:function(){e=b("div"),this.h()},l:function(l){e=v(l,"DIV",{class:!0});var c=k(e);c.forEach(p),this.h()},h:function(){O(e,"class","markdown-content right s-Aj89xH93RQKp"),y(e,w,129,10,4663)},m:function(l,c){P(l,e,c),e.innerHTML=t},p:function(l,c){c&16&&t!==(t=l[15]+"")&&(e.innerHTML=t)},d:function(l){l&&p(e)}};return M("SvelteRegisterBlock",{block:o,id:dt.name,type:"then",source:'(129:55)            <div class=\\"markdown-content right\\">{@html previewRendered}',ctx:n}),o}function pt(n){const e={c:W,l:W,m:W,p:W,d:W};return M("SvelteRegisterBlock",{block:e,id:pt.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { createForm }',ctx:n}),e}function ht(n){let e;const t={c:function(){e=R(n[0])},l:function(i){e=E(i,n[0])},m:function(i,l){P(i,e,l)},p:function(i,l){l&1&&K(e,i[0])},d:function(i){i&&p(e)}};return M("SvelteRegisterBlock",{block:t,id:ht.name,type:"slot",source:'(140:6) <Button variant=\\"outlined\\" type=\\"submit\\" {disabled}>',ctx:n}),t}function xe(n){let e,t,o,i,l,c,s,d,r,a,h,f,u,V,x,$,S,B,N,_,g,F,T,X,G,se,me,de,le,ee,ce,pe,ke;function gt(z){n[12](z)}let Ve={label:"Stability",$$slots:{default:[nt]},$$scope:{ctx:n}};n[2].stability!==void 0&&(Ve.value=n[2].stability),i=new Je({props:Ve,$$inline:!0}),Fe.push(()=>Ae(i,"value",gt)),s=new ue({props:{for:"stability",$$slots:{default:[ot,({messages:z})=>({16:z}),({messages:z})=>z?65536:0]},$$scope:{ctx:n}},$$inline:!0});let D=!n[1]&&$e(n);function $t(z){n[13](z)}let Re={textarea:!0,class:"vertical-textarea",label:"Changelog",required:!0,input$rows:10};n[2].changelog!==void 0&&(Re.value=n[2].changelog),f=new Ze({props:Re,$$inline:!0}),Fe.push(()=>Ae(f,"value",$t)),x=new ue({props:{for:"changelog",$$slots:{default:[ut,({messages:z})=>({16:z}),({messages:z})=>z?65536:0]},$$scope:{ctx:n}},$$inline:!0});let q={ctx:n,current:null,token:null,hasCatch:!1,pending:pt,then:dt,catch:mt,value:15};je(g=he(n[4]),q),ee=new Ue({props:{variant:"outlined",type:"submit",disabled:n[3],$$slots:{default:[ht]},$$scope:{ctx:n}},$$inline:!0});const Ee={c:function(){e=b("form"),t=b("div"),o=b("div"),U(i.$$.fragment),c=A(),U(s.$$.fragment),d=A(),D&&D.c(),r=A(),a=b("div"),h=b("div"),U(f.$$.fragment),V=A(),U(x.$$.fragment),$=A(),S=b("div"),B=b("span"),N=R("Preview:"),_=A(),q.block.c(),F=A(),T=b("div"),X=R("By uploading this version you agree to the "),G=b("a"),se=R("Content Policy"),me=R("."),de=A(),le=b("div"),U(ee.$$.fragment),this.h()},l:function(C){e=v(C,"FORM",{});var I=k(e);t=v(I,"DIV",{class:!0});var L=k(t);o=v(L,"DIV",{class:!0});var ne=k(o);Y(i.$$.fragment,ne),c=j(ne),Y(s.$$.fragment,ne),ne.forEach(p),d=j(L),D&&D.l(L),r=j(L),a=v(L,"DIV",{class:!0});var oe=k(a);h=v(oe,"DIV",{class:!0});var ie=k(h);Y(f.$$.fragment,ie),V=j(ie),Y(x.$$.fragment,ie),ie.forEach(p),$=j(oe),S=v(oe,"DIV",{class:!0});var te=k(S);B=v(te,"SPAN",{});var Pe=k(B);N=E(Pe,"Preview:"),Pe.forEach(p),_=j(te),q.block.l(te),te.forEach(p),oe.forEach(p),F=j(L),T=v(L,"DIV",{class:!0});var re=k(T);X=E(re,"By uploading this version you agree to the "),G=v(re,"A",{href:!0,class:!0});var Be=k(G);se=E(Be,"Content Policy"),Be.forEach(p),me=E(re,"."),re.forEach(p),de=j(L),le=v(L,"DIV",{});var Ne=k(le);Y(ee.$$.fragment,Ne),Ne.forEach(p),L.forEach(p),I.forEach(p),this.h()},h:function(){O(o,"class","grid grid-flow-row gap-2"),y(o,w,37,4,1397),O(h,"class","grid grid-flow-row gap-2 auto-rows-max"),y(h,w,114,6,4091),y(B,w,127,8,4575),O(S,"class","grid grid-flow-row gap-2 auto-rows-max"),y(S,w,126,6,4514),O(a,"class","grid gap-6 split s-Aj89xH93RQKp"),y(a,w,113,4,4054),O(G,"href","/content-policy"),O(G,"class","s-Aj89xH93RQKp"),y(G,w,135,49,4849),O(T,"class","text-muted"),y(T,w,134,4,4775),y(le,w,138,4,4911),O(t,"class","grid grid-flow-row gap-6"),y(t,w,36,2,1354),y(e,w,35,0,1336)},m:function(C,I){P(C,e,I),m(e,t),m(t,o),J(i,o,null),m(o,c),J(s,o,null),m(t,d),D&&D.m(t,null),m(t,r),m(t,a),m(a,h),J(f,h,null),m(h,V),J(x,h,null),m(a,$),m(a,S),m(S,B),m(B,N),m(S,_),q.block.m(S,q.anchor=null),q.mount=()=>S,q.anchor=null,m(t,F),m(t,T),m(T,X),m(T,G),m(G,se),m(T,me),m(t,de),m(t,le),J(ee,le,null),ce=!0,pe||(ke=St(n[7].call(null,e)),pe=!0)},p:function(C,[I]){n=C;const L={};I&8388608&&(L.$$scope={dirty:I,ctx:n}),!l&&I&4&&(l=!0,L.value=n[2].stability,De(()=>l=!1)),i.$set(L);const ne={};I&8454144&&(ne.$$scope={dirty:I,ctx:n}),s.$set(ne),n[1]?D&&(xt(),Q(D,1,1,()=>{D=null}),kt()):D?(D.p(n,I),I&2&&H(D,1)):(D=$e(n),D.c(),H(D,1),D.m(t,r));const oe={};!u&&I&4&&(u=!0,oe.value=n[2].changelog,De(()=>u=!1)),f.$set(oe);const ie={};I&8454144&&(ie.$$scope={dirty:I,ctx:n}),x.$set(ie),q.ctx=n,I&16&&g!==(g=he(n[4]))&&je(g,q)||Vt(q,n,I);const te={};I&8&&(te.disabled=n[3]),I&8388609&&(te.$$scope={dirty:I,ctx:n}),ee.$set(te)},i:function(C){ce||(H(i.$$.fragment,C),H(s.$$.fragment,C),H(D),H(f.$$.fragment,C),H(x.$$.fragment,C),H(ee.$$.fragment,C),ce=!0)},o:function(C){Q(i.$$.fragment,C),Q(s.$$.fragment,C),Q(D),Q(f.$$.fragment,C),Q(x.$$.fragment,C),Q(ee.$$.fragment,C),ce=!1},d:function(C){C&&p(e),Z(i),Z(s),D&&D.d(),Z(f),Z(x),q.block.d(),q.token=null,q=null,Z(ee),pe=!1,ke()}};return M("SvelteRegisterBlock",{block:Ee,id:xe.name,type:"component",source:"",ctx:n}),Ee}function jt(n,e,t){let o,i,l,{$$slots:c={},$$scope:s}=e;wt("VersionForm",c,[]);let{modReference:d}=e,{onSubmit:r}=e,{initialValues:a={arch:[{ModVersionID:"",platform:"",asset:"",hash:"",size:0}],changelog:"",stability:He.Alpha}}=e,{submitText:h="Create"}=e,{editing:f=!1}=e;const u=Te();Me(u,"modMeta"),Oe(n,u,g=>t(5,l=g));let V=!1;const x=We(d,u),{form:$,data:S}=Ge({initialValues:a,extend:[Le({schema:x}),_e],onSubmit:g=>{t(3,V=!0),r(qe(g,x)).then(()=>t(3,V=!1))}});Me(S,"data"),Oe(n,S,g=>t(2,i=g)),n.$$.on_mount.push(function(){d===void 0&&!("modReference"in e||n.$$.bound[n.$$.props.modReference])&&console.warn("<VersionForm> was created without expected prop 'modReference'"),r===void 0&&!("onSubmit"in e||n.$$.bound[n.$$.props.onSubmit])&&console.warn("<VersionForm> was created without expected prop 'onSubmit'")});const B=["modReference","onSubmit","initialValues","submitText","editing"];Object.keys(e).forEach(g=>{!~B.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&console.warn(`<VersionForm> was created with unknown prop '${g}'`)});function N(g){n.$$.not_equal(i.stability,g)&&(i.stability=g,S.set(i))}function _(g){n.$$.not_equal(i.changelog,g)&&(i.changelog=g,S.set(i))}return n.$$set=g=>{"modReference"in g&&t(9,d=g.modReference),"onSubmit"in g&&t(10,r=g.onSubmit),"initialValues"in g&&t(11,a=g.initialValues),"submitText"in g&&t(0,h=g.submitText),"editing"in g&&t(1,f=g.editing)},n.$capture_state=()=>({createForm:Ge,validator:Le,reporter:_e,ValidationMessage:ue,constructVersionSchema:We,trimNonSchema:qe,markdown:he,writable:Te,Textfield:Ze,Button:Ue,VersionStabilities:He,Select:Je,Option:ae,prettyBytes:ge,modReference:d,onSubmit:r,initialValues:a,submitText:h,editing:f,modMeta:u,disabled:V,versionSchema:x,form:$,data:S,preview:o,$data:i,$modMeta:l}),n.$inject_state=g=>{"modReference"in g&&t(9,d=g.modReference),"onSubmit"in g&&t(10,r=g.onSubmit),"initialValues"in g&&t(11,a=g.initialValues),"submitText"in g&&t(0,h=g.submitText),"editing"in g&&t(1,f=g.editing),"disabled"in g&&t(3,V=g.disabled),"preview"in g&&t(4,o=g.preview)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&4&&t(4,o=i.changelog||"")},[h,f,i,V,o,l,u,$,S,d,r,a,N,_]}class Lt extends bt{constructor(e){super(e),vt(this,e,jt,xe,yt,{modReference:9,onSubmit:10,initialValues:11,submitText:0,editing:1}),M("SvelteRegisterComponent",{component:this,tagName:"VersionForm",options:e,id:xe.name})}get modReference(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set modReference(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onSubmit(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onSubmit(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initialValues(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initialValues(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitText(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitText(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editing(){throw new Error("<VersionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editing(e){throw new Error("<VersionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Lt as V};
//# sourceMappingURL=VersionForm.e164ad74.js.map
