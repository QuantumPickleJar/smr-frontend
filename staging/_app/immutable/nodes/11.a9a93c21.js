import{aK as ue,S as yt,i as Et,s as Gt,d as w,bh as tt,v as Dt,bi as et,a3 as N,a4 as M,a5 as H,p as b,t as S,a7 as L,x as y,ab as _,a1 as U,y as E,z as R,ac as O,q as $,a2 as F,a9 as C,C as G,l as I,a8 as m,ad as rt,aZ as Y,ag as ft,ah as $t,aJ as St,af as Rt,aM as dt,aH as Pt,aN as jt,aO as _t,aP as ct,Q as le,k as at,bb as fe,n as ut,r as Ot,aa as At,m as lt,N as j,ae as Vt,bj as Bt,bk as $e}from"../chunks/vendor.40f668a3.js";import{r as de,s as It}from"../chunks/graphql.cb6ec208.js";import{l as pe}from"../chunks/gql.ff9241aa.js";import{p as gt}from"../chunks/formatting.6f84ef8f.js";import{a as pt}from"../chunks/user.a7d46185.js";import{T as Tt}from"../chunks/Toast.3486415f.js";import{m as mt}from"../chunks/markdown.8dc09c23.js";import{M as Nt}from"../chunks/MetaDescriptors.e4c46266.js";const ge=async({params:i,parent:t})=>({...i,...await pe({guide:ue({query:de,client:(await t()).client,variables:{guide:i.guideId}})})}),Se=Object.freeze(Object.defineProperty({__proto__:null,load:ge},Symbol.toStringTag,{value:"Module"})),it="src/lib/components/guides/GuideInfo.svelte";function Mt(i){let t,c,r,o,e,s,n,a,l=gt(i[0].created_at)+"",f,g;const d={c:function(){t=y("div"),c=y("h3"),r=_("Info"),o=U(),e=y("span"),s=y("strong"),n=_("Created:"),a=U(),f=_(l),g=y("br"),this.h()},l:function(h){t=E(h,"DIV",{class:!0});var x=R(t);c=E(x,"H3",{class:!0});var P=R(c);r=O(P,"Info"),P.forEach($),o=F(x),e=E(x,"SPAN",{});var A=R(e);s=E(A,"STRONG",{});var V=R(s);n=O(V,"Created:"),V.forEach($),a=F(A),f=O(A,l),A.forEach($),g=E(x,"BR",{}),x.forEach($),this.h()},h:function(){C(c,"class","text-2xl my-4 font-bold"),G(c,it,8,6,194),G(s,it,9,12,252),G(e,it,9,6,246),G(g,it,9,75,315),C(t,"class","text-lg"),G(t,it,7,4,166)},m:function(h,x){I(h,t,x),m(t,c),m(c,r),m(t,o),m(t,e),m(e,s),m(s,n),m(e,a),m(e,f),m(t,g)},p:function(h,x){x&1&&l!==(l=gt(h[0].created_at)+"")&&rt(f,l)},d:function(h){h&&$(t)}};return w("SvelteRegisterBlock",{block:d,id:Mt.name,type:"slot",source:"(7:2) <Content>",ctx:i}),d}function Ht(i){let t,c;t=new et({props:{$$slots:{default:[Mt]},$$scope:{ctx:i}},$$inline:!0});const r={c:function(){N(t.$$.fragment)},l:function(e){M(t.$$.fragment,e)},m:function(e,s){H(t,e,s),c=!0},p:function(e,s){const n={};s&3&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i:function(e){c||(b(t.$$.fragment,e),c=!0)},o:function(e){S(t.$$.fragment,e),c=!1},d:function(e){L(t,e)}};return w("SvelteRegisterBlock",{block:r,id:Ht.name,type:"slot",source:"(6:0) <Card>",ctx:i}),r}function ht(i){let t,c;t=new tt({props:{$$slots:{default:[Ht]},$$scope:{ctx:i}},$$inline:!0});const r={c:function(){N(t.$$.fragment)},l:function(e){M(t.$$.fragment,e)},m:function(e,s){H(t,e,s),c=!0},p:function(e,[s]){const n={};s&3&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i:function(e){c||(b(t.$$.fragment,e),c=!0)},o:function(e){S(t.$$.fragment,e),c=!1},d:function(e){L(t,e)}};return w("SvelteRegisterBlock",{block:r,id:ht.name,type:"component",source:"",ctx:i}),r}function me(i,t,c){let{$$slots:r={},$$scope:o}=t;Dt("GuideInfo",r,[]);let{guide:e}=t;i.$$.on_mount.push(function(){e===void 0&&!("guide"in t||i.$$.bound[i.$$.props.guide])&&console.warn("<GuideInfo> was created without expected prop 'guide'")});const s=["guide"];return Object.keys(t).forEach(n=>{!~s.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&console.warn(`<GuideInfo> was created with unknown prop '${n}'`)}),i.$$set=n=>{"guide"in n&&c(0,e=n.guide)},i.$capture_state=()=>({Card:tt,Content:et,prettyDate:gt,guide:e}),i.$inject_state=n=>{"guide"in n&&c(0,e=n.guide)},t&&"$$inject"in t&&i.$inject_state(t.$$inject),[e]}class Lt extends yt{constructor(t){super(t),Et(this,t,me,ht,Gt,{guide:0}),w("SvelteRegisterComponent",{component:this,tagName:"GuideInfo",options:t,id:ht.name})}get guide(){throw new Error("<GuideInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set guide(t){throw new Error("<GuideInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const K="src/lib/components/guides/GuideAuthor.svelte";function Ut(i){let t,c,r,o,e,s,n,a,l,f,g,d=i[0].username+"",u,h,x,P,A;const V={c:function(){t=y("div"),c=y("h3"),r=_("Author"),o=U(),e=y("div"),s=y("div"),n=y("div"),l=U(),f=y("div"),g=y("a"),u=_(d),x=U(),P=y("div"),A=_("Writer"),this.h()},l:function(T){t=E(T,"DIV",{class:!0});var k=R(t);c=E(k,"H3",{class:!0});var D=R(c);r=O(D,"Author"),D.forEach($),o=F(k),e=E(k,"DIV",{class:!0});var X=R(e);s=E(X,"DIV",{class:!0});var v=R(s);n=E(v,"DIV",{class:!0,style:!0}),R(n).forEach($),l=F(v),f=E(v,"DIV",{class:!0});var Q=R(f);g=E(Q,"A",{href:!0,class:!0});var q=R(g);u=O(q,d),q.forEach($),x=F(Q),P=E(Q,"DIV",{});var p=R(P);A=O(p,"Writer"),p.forEach($),Q.forEach($),v.forEach($),X.forEach($),k.forEach($),this.h()},h:function(){C(c,"class","text-2xl my-4 font-bold"),G(c,K,8,6,197),C(n,"class","rounded-full bg-cover w-14 h-14"),C(n,"style",a=`background-image: url("${i[0].avatar}")`),G(n,K,12,10,374),C(g,"href",h=Y+"/user/"+i[0].id+"/"),C(g,"class","text-yellow-500 underline"),G(g,K,14,12,529),G(P,K,15,12,632),C(f,"class","grid grid-flow-row"),G(f,K,13,10,484),C(s,"class","grid grid-flow-col auto-cols-min gap-x-4"),G(s,K,11,8,309),C(e,"class","grid auto-rows-min text-lg gap-y-4"),G(e,K,10,6,252),C(t,"class","grid grid-flow-row gap-y-2"),G(t,K,7,4,150)},m:function(T,k){I(T,t,k),m(t,c),m(c,r),m(t,o),m(t,e),m(e,s),m(s,n),m(s,l),m(s,f),m(f,g),m(g,u),m(f,x),m(f,P),m(P,A)},p:function(T,k){k&1&&a!==(a=`background-image: url("${T[0].avatar}")`)&&C(n,"style",a),k&1&&d!==(d=T[0].username+"")&&rt(u,d),k&1&&h!==(h=Y+"/user/"+T[0].id+"/")&&C(g,"href",h)},d:function(T){T&&$(t)}};return w("SvelteRegisterBlock",{block:V,id:Ut.name,type:"slot",source:"(7:2) <Content>",ctx:i}),V}function Ft(i){let t,c;t=new et({props:{$$slots:{default:[Ut]},$$scope:{ctx:i}},$$inline:!0});const r={c:function(){N(t.$$.fragment)},l:function(e){M(t.$$.fragment,e)},m:function(e,s){H(t,e,s),c=!0},p:function(e,s){const n={};s&3&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i:function(e){c||(b(t.$$.fragment,e),c=!0)},o:function(e){S(t.$$.fragment,e),c=!1},d:function(e){L(t,e)}};return w("SvelteRegisterBlock",{block:r,id:Ft.name,type:"slot",source:"(6:0) <Card>",ctx:i}),r}function vt(i){let t,c;t=new tt({props:{$$slots:{default:[Ft]},$$scope:{ctx:i}},$$inline:!0});const r={c:function(){N(t.$$.fragment)},l:function(e){M(t.$$.fragment,e)},m:function(e,s){H(t,e,s),c=!0},p:function(e,[s]){const n={};s&3&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i:function(e){c||(b(t.$$.fragment,e),c=!0)},o:function(e){S(t.$$.fragment,e),c=!1},d:function(e){L(t,e)}};return w("SvelteRegisterBlock",{block:r,id:vt.name,type:"component",source:"",ctx:i}),r}function he(i,t,c){let{$$slots:r={},$$scope:o}=t;Dt("GuideAuthor",r,[]);let{author:e}=t;i.$$.on_mount.push(function(){e===void 0&&!("author"in t||i.$$.bound[i.$$.props.author])&&console.warn("<GuideAuthor> was created without expected prop 'author'")});const s=["author"];return Object.keys(t).forEach(n=>{!~s.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&console.warn(`<GuideAuthor> was created with unknown prop '${n}'`)}),i.$$set=n=>{"author"in n&&c(0,e=n.author)},i.$capture_state=()=>({base:Y,Card:tt,Content:et,author:e}),i.$inject_state=n=>{"author"in n&&c(0,e=n.author)},t&&"$$inject"in t&&i.$inject_state(t.$$inject),[e]}class Wt extends yt{constructor(t){super(t),Et(this,t,he,vt,Gt,{author:0}),w("SvelteRegisterComponent",{component:this,tagName:"GuideAuthor",options:t,id:vt.name})}get author(){throw new Error("<GuideAuthor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set author(t){throw new Error("<GuideAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:Ct}=le,W="src/routes/guide/[guideId]/+page.svelte";function xt(i){let t,c;t=new Nt({props:{description:i[1].data.getGuide.short_description,title:i[1].data.getGuide.name},$$inline:!0});const r={c:function(){N(t.$$.fragment)},l:function(e){M(t.$$.fragment,e)},m:function(e,s){H(t,e,s),c=!0},p:function(e,s){const n={};s&2&&(n.description=e[1].data.getGuide.short_description),s&2&&(n.title=e[1].data.getGuide.name),t.$set(n)},i:function(e){c||(b(t.$$.fragment,e),c=!0)},o:function(e){S(t.$$.fragment,e),c=!1},d:function(e){L(t,e)}};return w("SvelteRegisterBlock",{block:r,id:xt.name,type:"if",source:"(44:2) {#if !$guide.fetching && !$guide.error && $guide.data.getGuide}",ctx:i}),r}function qt(i){let t;const c={c:function(){t=_("404")},l:function(o){t=O(o,"404")},m:function(o,e){I(o,t,e)},p:j,i:j,o:j,d:function(o){o&&$(t)}};return w("SvelteRegisterBlock",{block:c,id:qt.name,type:"else",source:"(99:0) {:else}",ctx:i}),c}function zt(i){let t,c,r,o=i[1].data.getGuide.name+"",e,s,n,a,l,f,g,d,u,h,x,P,A,V,z,T,k=i[3]&&kt(i);f=new tt({props:{class:"h-fit",$$slots:{default:[ne]},$$scope:{ctx:i}},$$inline:!0}),u=new Lt({props:{guide:i[1].data.getGuide},$$inline:!0}),x=new Wt({props:{author:i[1].data.getGuide.user},$$inline:!0});let D=i[3]&&wt(i);function X(q){i[16](q)}let v={$$slots:{default:[ae]},$$scope:{ctx:i}};i[0]!==void 0&&(v.running=i[0]),V=new Tt({props:v,$$inline:!0}),Ot.push(()=>At(V,"running",X));const Q={c:function(){t=y("div"),c=y("div"),r=y("h1"),e=_(o),s=U(),n=y("div"),k&&k.c(),a=U(),l=y("div"),N(f.$$.fragment),g=U(),d=y("div"),N(u.$$.fragment),h=U(),N(x.$$.fragment),P=U(),D&&D.c(),A=U(),N(V.$$.fragment),this.h()},l:function(p){t=E(p,"DIV",{class:!0});var B=R(t);c=E(B,"DIV",{class:!0});var Z=R(c);r=E(Z,"H1",{class:!0});var nt=R(r);e=O(nt,o),nt.forEach($),s=F(Z),n=E(Z,"DIV",{});var ot=R(n);k&&k.l(ot),ot.forEach($),Z.forEach($),a=F(B),l=E(B,"DIV",{class:!0});var J=R(l);M(f.$$.fragment,J),g=F(J),d=E(J,"DIV",{class:!0});var st=R(d);M(u.$$.fragment,st),h=F(st),M(x.$$.fragment,st),st.forEach($),J.forEach($),B.forEach($),P=F(p),D&&D.l(p),A=F(p),M(V.$$.fragment,p),this.h()},h:function(){C(r,"class","text-4xl font-bold"),G(r,W,55,6,1990),G(n,W,57,6,2061),C(c,"class","flex flex-wrap h-auto justify-between items-center"),G(c,W,54,4,1919),C(d,"class","grid grid-cols-1 auto-rows-min gap-8"),G(d,W,74,6,2690),C(l,"class","grid grid-auto-max auto-cols-fr gap-4"),G(l,W,64,4,2343),C(t,"class","grid gap-6 xlx:grid-flow-row"),G(t,W,53,2,1872)},m:function(p,B){I(p,t,B),m(t,c),m(c,r),m(r,e),m(c,s),m(c,n),k&&k.m(n,null),m(t,a),m(t,l),H(f,l,null),m(l,g),m(l,d),H(u,d,null),m(d,h),H(x,d,null),I(p,P,B),D&&D.m(p,B),I(p,A,B),H(V,p,B),T=!0},p:function(p,B){(!T||B&2)&&o!==(o=p[1].data.getGuide.name+"")&&rt(e,o),p[3]?k?(k.p(p,B),B&8&&b(k,1)):(k=kt(p),k.c(),b(k,1),k.m(n,null)):k&&(lt(),S(k,1,1,()=>{k=null}),ut());const Z={};B&524290&&(Z.$$scope={dirty:B,ctx:p}),f.$set(Z);const nt={};B&2&&(nt.guide=p[1].data.getGuide),u.$set(nt);const ot={};B&2&&(ot.author=p[1].data.getGuide.user),x.$set(ot),p[3]?D?(D.p(p,B),B&8&&b(D,1)):(D=wt(p),D.c(),b(D,1),D.m(A.parentNode,A)):D&&(lt(),S(D,1,1,()=>{D=null}),ut());const J={};B&524292&&(J.$$scope={dirty:B,ctx:p}),!z&&B&1&&(z=!0,J.running=p[0],Vt(()=>z=!1)),V.$set(J)},i:function(p){T||(b(k),b(f.$$.fragment,p),b(u.$$.fragment,p),b(x.$$.fragment,p),b(D),b(V.$$.fragment,p),T=!0)},o:function(p){S(k),S(f.$$.fragment,p),S(u.$$.fragment,p),S(x.$$.fragment,p),S(D),S(V.$$.fragment,p),T=!1},d:function(p){p&&$(t),k&&k.d(),L(f),L(u),L(x),p&&$(P),D&&D.d(p),p&&$(A),L(V,p)}};return w("SvelteRegisterBlock",{block:Q,id:zt.name,type:"if",source:"(53:31) ",ctx:i}),Q}function Jt(i){let t,c,r=i[1].error.message+"",o;const e={c:function(){t=y("p"),c=_("Oh no... "),o=_(r),this.h()},l:function(n){t=E(n,"P",{});var a=R(t);c=O(a,"Oh no... "),o=O(a,r),a.forEach($),this.h()},h:function(){G(t,W,51,2,1799)},m:function(n,a){I(n,t,a),m(t,c),m(t,o)},p:function(n,a){a&2&&r!==(r=n[1].error.message+"")&&rt(o,r)},i:j,o:j,d:function(n){n&&$(t)}};return w("SvelteRegisterBlock",{block:e,id:Jt.name,type:"if",source:"(51:23) ",ctx:i}),e}function Kt(i){let t,c;const r={c:function(){t=y("p"),c=_("Loading..."),this.h()},l:function(e){t=E(e,"P",{});var s=R(t);c=O(s,"Loading..."),s.forEach($),this.h()},h:function(){G(t,W,49,2,1755)},m:function(e,s){I(e,t,s),m(t,c)},p:j,i:j,o:j,d:function(e){e&&$(t)}};return w("SvelteRegisterBlock",{block:r,id:Kt.name,type:"if",source:"(49:0) {#if $guide.fetching}",ctx:i}),r}function kt(i){let t,c,r,o;t=new ct({props:{variant:"outlined",$$slots:{default:[Qt]},$$scope:{ctx:i}},$$inline:!0}),t.$on("click",i[11]),r=new ct({props:{variant:"outlined",$$slots:{default:[Zt]},$$scope:{ctx:i}},$$inline:!0}),r.$on("click",i[12]);const e={c:function(){N(t.$$.fragment),c=U(),N(r.$$.fragment)},l:function(n){M(t.$$.fragment,n),c=F(n),M(r.$$.fragment,n)},m:function(n,a){H(t,n,a),I(n,c,a),H(r,n,a),o=!0},p:function(n,a){const l={};a&524288&&(l.$$scope={dirty:a,ctx:n}),t.$set(l);const f={};a&524288&&(f.$$scope={dirty:a,ctx:n}),r.$set(f)},i:function(n){o||(b(t.$$.fragment,n),b(r.$$.fragment,n),o=!0)},o:function(n){S(t.$$.fragment,n),S(r.$$.fragment,n),o=!1},d:function(n){L(t,n),n&&$(c),L(r,n)}};return w("SvelteRegisterBlock",{block:e,id:kt.name,type:"if",source:"(59:8) {#if canUserEdit}",ctx:i}),e}function Qt(i){let t;const c={c:function(){t=_("Edit")},l:function(o){t=O(o,"Edit")},m:function(o,e){I(o,t,e)},d:function(o){o&&$(t)}};return w("SvelteRegisterBlock",{block:c,id:Qt.name,type:"slot",source:`(60:10) <Button variant=\\"outlined\\" on:click={() => goto(base + '/guide/' + guideId + '/edit')}>`,ctx:i}),c}function Zt(i){let t;const c={c:function(){t=_("Delete")},l:function(o){t=O(o,"Delete")},m:function(o,e){I(o,t,e)},d:function(o){o&&$(t)}};return w("SvelteRegisterBlock",{block:c,id:Zt.name,type:"slot",source:'(61:10) <Button variant=\\"outlined\\" on:click={() => deleteDialogOpen.set(true)}>',ctx:i}),c}function Xt(i){const t={c:j,l:j,m:j,p:j,d:j};return w("SvelteRegisterBlock",{block:t,id:Xt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { DeleteGuideDocument }',ctx:i}),t}function Yt(i){let t,c=i[18]+"";const r={c:function(){t=y("p"),this.h()},l:function(e){t=E(e,"P",{});var s=R(t);s.forEach($),this.h()},h:function(){G(t,W,69,14,2584)},m:function(e,s){I(e,t,s),t.innerHTML=c},p:function(e,s){s&2&&c!==(c=e[18]+"")&&(t.innerHTML=c)},d:function(e){e&&$(t)}};return w("SvelteRegisterBlock",{block:r,id:Yt.name,type:"then",source:"(69:76)                <p>{@html guideRendered}",ctx:i}),r}function te(i){const t={c:j,l:j,m:j,p:j,d:j};return w("SvelteRegisterBlock",{block:t,id:te.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { DeleteGuideDocument }',ctx:i}),t}function ee(i){let t,c,r={ctx:i,current:null,token:null,hasCatch:!1,pending:te,then:Yt,catch:Xt,value:18};Bt(c=mt(i[1].data.getGuide.guide),r);const o={c:function(){t=y("div"),r.block.c(),this.h()},l:function(s){t=E(s,"DIV",{class:!0});var n=R(t);r.block.l(n),n.forEach($),this.h()},h:function(){C(t,"class","markdown-content break-words"),G(t,W,67,10,2450)},m:function(s,n){I(s,t,n),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null},p:function(s,n){i=s,r.ctx=i,n&2&&c!==(c=mt(i[1].data.getGuide.guide))&&Bt(c,r)||$e(r,i,n)},d:function(s){s&&$(t),r.block.d(),r.token=null,r=null}};return w("SvelteRegisterBlock",{block:o,id:ee.name,type:"slot",source:"(67:8) <Content>",ctx:i}),o}function ne(i){let t,c;t=new et({props:{$$slots:{default:[ee]},$$scope:{ctx:i}},$$inline:!0});const r={c:function(){N(t.$$.fragment)},l:function(e){M(t.$$.fragment,e)},m:function(e,s){H(t,e,s),c=!0},p:function(e,s){const n={};s&524290&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i:function(e){c||(b(t.$$.fragment,e),c=!0)},o:function(e){S(t.$$.fragment,e),c=!1},d:function(e){L(t,e)}};return w("SvelteRegisterBlock",{block:r,id:ne.name,type:"slot",source:'(66:6) <Card class=\\"h-fit\\">',ctx:i}),r}function wt(i){let t,c,r;function o(n){i[15](n)}let e={$$slots:{default:[se]},$$scope:{ctx:i}};i[4]!==void 0&&(e.open=i[4]),t=new Pt({props:e,$$inline:!0}),Ot.push(()=>At(t,"open",o));const s={c:function(){N(t.$$.fragment)},l:function(a){M(t.$$.fragment,a)},m:function(a,l){H(t,a,l),r=!0},p:function(a,l){const f={};l&524288&&(f.$$scope={dirty:l,ctx:a}),!c&&l&16&&(c=!0,f.open=a[4],Vt(()=>c=!1)),t.$set(f)},i:function(a){r||(b(t.$$.fragment,a),r=!0)},o:function(a){S(t.$$.fragment,a),r=!1},d:function(a){L(t,a)}};return w("SvelteRegisterBlock",{block:s,id:wt.name,type:"if",source:"(82:2) {#if canUserEdit}",ctx:i}),s}function oe(i){let t;const c={c:function(){t=_("Delete Guide?")},l:function(o){t=O(o,"Delete Guide?")},m:function(o,e){I(o,t,e)},d:function(o){o&&$(t)}};return w("SvelteRegisterBlock",{block:c,id:oe.name,type:"slot",source:"(84:6) <Title>",ctx:i}),c}function ie(i){let t;const c={c:function(){t=_("Cancel")},l:function(o){t=O(o,"Cancel")},m:function(o,e){I(o,t,e)},d:function(o){o&&$(t)}};return w("SvelteRegisterBlock",{block:c,id:ie.name,type:"slot",source:'(89:10) <Button variant=\\"outlined\\" on:click={() => deleteDialogOpen.set(false)}>',ctx:i}),c}function ce(i){let t;const c={c:function(){t=_("Delete")},l:function(o){t=O(o,"Delete")},m:function(o,e){I(o,t,e)},d:function(o){o&&$(t)}};return w("SvelteRegisterBlock",{block:c,id:ce.name,type:"slot",source:'(90:10) <Button variant=\\"outlined\\" on:click={() => deleteGuideFn()}>',ctx:i}),c}function re(i){let t,c,r,o,e,s,n,a;e=new ct({props:{variant:"outlined",$$slots:{default:[ie]},$$scope:{ctx:i}},$$inline:!0}),e.$on("click",i[13]),n=new ct({props:{variant:"outlined",$$slots:{default:[ce]},$$scope:{ctx:i}},$$inline:!0}),n.$on("click",i[14]);const l={c:function(){t=y("div"),c=y("span"),r=_("Are you sure you wish to delete this guide"),o=U(),N(e.$$.fragment),s=U(),N(n.$$.fragment),this.h()},l:function(g){t=E(g,"DIV",{class:!0});var d=R(t);c=E(d,"SPAN",{});var u=R(c);r=O(u,"Are you sure you wish to delete this guide"),u.forEach($),o=F(d),M(e.$$.fragment,d),s=F(d),M(n.$$.fragment,d),d.forEach($),this.h()},h:function(){G(c,W,86,10,3062),C(t,"class","grid grid-flow-row gap-4"),G(t,W,85,8,3013)},m:function(g,d){I(g,t,d),m(t,c),m(c,r),m(t,o),H(e,t,null),m(t,s),H(n,t,null),a=!0},p:function(g,d){const u={};d&524288&&(u.$$scope={dirty:d,ctx:g}),e.$set(u);const h={};d&524288&&(h.$$scope={dirty:d,ctx:g}),n.$set(h)},i:function(g){a||(b(e.$$.fragment,g),b(n.$$.fragment,g),a=!0)},o:function(g){S(e.$$.fragment,g),S(n.$$.fragment,g),a=!1},d:function(g){g&&$(t),L(e),L(n)}};return w("SvelteRegisterBlock",{block:l,id:re.name,type:"slot",source:"(85:6) <DialogContent>",ctx:i}),l}function se(i){let t,c,r,o;t=new jt({props:{$$slots:{default:[oe]},$$scope:{ctx:i}},$$inline:!0}),r=new _t({props:{$$slots:{default:[re]},$$scope:{ctx:i}},$$inline:!0});const e={c:function(){N(t.$$.fragment),c=U(),N(r.$$.fragment)},l:function(n){M(t.$$.fragment,n),c=F(n),M(r.$$.fragment,n)},m:function(n,a){H(t,n,a),I(n,c,a),H(r,n,a),o=!0},p:function(n,a){const l={};a&524288&&(l.$$scope={dirty:a,ctx:n}),t.$set(l);const f={};a&524288&&(f.$$scope={dirty:a,ctx:n}),r.$set(f)},i:function(n){o||(b(t.$$.fragment,n),b(r.$$.fragment,n),o=!0)},o:function(n){S(t.$$.fragment,n),S(r.$$.fragment,n),o=!1},d:function(n){L(t,n),n&&$(c),L(r,n)}};return w("SvelteRegisterBlock",{block:e,id:se.name,type:"slot",source:"(83:4) <Dialog bind:open={$deleteDialogOpen}>",ctx:i}),e}function ae(i){let t,c;const r={c:function(){t=y("span"),c=_(i[2]),this.h()},l:function(e){t=E(e,"SPAN",{});var s=R(t);c=O(s,i[2]),s.forEach($),this.h()},h:function(){G(t,W,96,4,3404)},m:function(e,s){I(e,t,s),m(t,c)},p:function(e,s){s&4&&rt(c,e[2])},d:function(e){e&&$(t)}};return w("SvelteRegisterBlock",{block:r,id:ae.name,type:"slot",source:"(96:2) <Toast bind:running={errorToast}>",ctx:i}),r}function bt(i){let t,c,r,o,e,s,n=!i[1].fetching&&!i[1].error&&i[1].data.getGuide&&xt(i);const a=[Kt,Jt,zt,qt],l=[];function f(d,u){return d[1].fetching?0:d[1].error?1:d[1].data.getGuide?2:3}r=f(i),o=l[r]=a[r](i);const g={c:function(){n&&n.c(),t=at(),c=U(),o.c(),e=at()},l:function(u){const h=fe("svelte-bhfvpi",document.head);n&&n.l(h),t=at(),h.forEach($),c=F(u),o.l(u),e=at()},m:function(u,h){n&&n.m(document.head,null),m(document.head,t),I(u,c,h),l[r].m(u,h),I(u,e,h),s=!0},p:function(u,[h]){!u[1].fetching&&!u[1].error&&u[1].data.getGuide?n?(n.p(u,h),h&2&&b(n,1)):(n=xt(u),n.c(),b(n,1),n.m(t.parentNode,t)):n&&(lt(),S(n,1,1,()=>{n=null}),ut());let x=r;r=f(u),r===x?l[r].p(u,h):(lt(),S(l[x],1,1,()=>{l[x]=null}),ut(),o=l[r],o?o.p(u,h):(o=l[r]=a[r](u),o.c()),b(o,1),o.m(e.parentNode,e))},i:function(u){s||(b(n),b(o),s=!0)},o:function(u){S(n),S(o),s=!1},d:function(u){n&&n.d(u),$(t),u&&$(c),l[r].d(u),u&&$(e)}};return w("SvelteRegisterBlock",{block:g,id:bt.name,type:"component",source:"",ctx:i}),g}function ve(i,t,c){let r,o,e,s;ft(pt,"user"),$t(i,pt,v=>c(10,e=v));let{$$slots:n={},$$scope:a}=t;Dt("Page",n,[]);let{data:l}=t;const{guideId:f,guide:g}=l;ft(g,"guide"),$t(i,g,v=>c(1,o=v));const d=St();let u="",h=!1;const x=Rt(!1);ft(x,"deleteDialogOpen"),$t(i,x,v=>c(4,s=v));const P=()=>{d.mutation(It,{guideId:f}).toPromise().then(v=>{v.error?(console.error(v.error.message),c(2,u="Error deleting guide: "+v.error.message),c(0,h=!0)):dt(Y+"/guides")})};i.$$.on_mount.push(function(){l===void 0&&!("data"in t||i.$$.bound[i.$$.props.data])&&Ct.warn("<Page> was created without expected prop 'data'")});const A=["data"];Object.keys(t).forEach(v=>{!~A.indexOf(v)&&v.slice(0,2)!=="$$"&&v!=="slot"&&Ct.warn(`<Page> was created with unknown prop '${v}'`)});const V=()=>dt(Y+"/guide/"+f+"/edit"),z=()=>x.set(!0),T=()=>x.set(!1),k=()=>P();function D(v){s=v,x.set(s)}function X(v){h=v,c(0,h)}return i.$$set=v=>{"data"in v&&c(9,l=v.data)},i.$capture_state=()=>({DeleteGuideDocument:It,GuideInfo:Lt,GuideAuthor:Wt,user:pt,goto:dt,writable:Rt,Toast:Tt,markdown:mt,base:Y,Dialog:Pt,Title:jt,DialogContent:_t,MetaDescriptors:Nt,Card:tt,Content:et,Button:ct,getContextClient:St,data:l,guideId:f,guide:g,client:d,errorMessage:u,errorToast:h,deleteDialogOpen:x,deleteGuideFn:P,canUserEdit:r,$guide:o,$user:e,$deleteDialogOpen:s}),i.$inject_state=v=>{"data"in v&&c(9,l=v.data),"errorMessage"in v&&c(2,u=v.errorMessage),"errorToast"in v&&c(0,h=v.errorToast),"canUserEdit"in v&&c(3,r=v.canUserEdit)},t&&"$$inject"in t&&i.$inject_state(t.$$inject),i.$$.update=()=>{i.$$.dirty&1026&&c(3,r=e?.roles?.deleteContent||e?.id===o?.data?.getGuide?.user?.id),i.$$.dirty&1&&(h||c(2,u=""))},[h,o,u,r,s,f,g,x,P,l,e,V,z,T,k,D,X]}class Re extends yt{constructor(t){super(t),Et(this,t,ve,bt,Gt,{data:9}),w("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:bt.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Re as component,Se as universal};
//# sourceMappingURL=11.a9a93c21.js.map
