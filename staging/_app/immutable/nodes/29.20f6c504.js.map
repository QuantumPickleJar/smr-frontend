{"version":3,"file":"29.20f6c504.js","sources":["../../../../../../src/routes/user/[userId]/+page.ts","../../../../../../src/lib/components/users/UserInfo.svelte","../../../../../../src/lib/components/users/UserAvatar.svelte","../../../../../../src/routes/user/[userId]/+page.svelte"],"sourcesContent":["import type { PageLoad } from './$types';\nimport { queryStore } from '@urql/svelte';\nimport { GetUserDocument } from '$lib/generated';\nimport { loadWaitForNoFetch } from '$lib/utils/gql';\n\nexport const load: PageLoad = async ({ params, parent }) => ({\n  ...params,\n  ...(await loadWaitForNoFetch({\n    user: queryStore({\n      query: GetUserDocument,\n      client: (await parent()).client,\n      variables: { user: params.userId }\n    })\n  }))\n});\n","<script lang=\"ts\">\n  import type { User } from '$lib/generated';\n  import Card, { Content } from '@smui/card';\n  import { prettyDate } from '$lib/utils/formatting';\n\n  export let user!: Pick<User, 'created_at'>;\n</script>\n\n<Card>\n  <Content>\n    <div class=\"text-lg\">\n      <h3 class=\"text-2xl my-4 font-bold\">Info</h3>\n      <span><strong>Created:</strong> {prettyDate(user.created_at)}</span><br />\n    </div>\n  </Content>\n</Card>\n","<script lang=\"ts\">\n  import { assets } from '$app/paths';\n\n  export let avatar!: string;\n  export let username!: string;\n\n  $: userAvatar = avatar || assets + '/images/no_image.webp';\n</script>\n\n<div>\n  <img class=\"rounded-lg sm:max-w-lg max-w-full w-full\" src={userAvatar} alt=\"Avatar for {username}\" />\n</div>\n","<script lang=\"ts\">\n  import Button from '@smui/button';\n  import UserInfo from '$lib/components/users/UserInfo.svelte';\n  import UserAvatar from '$lib/components/users/UserAvatar.svelte';\n  import ModCard from '$lib/components/mods/ModCard.svelte';\n  import GuideCard from '$lib/components/guides/GuideCard.svelte';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n  import { user as me } from '$lib/stores/user';\n  import { base } from '$app/paths';\n  import type { PageData } from './$types';\n\n  export let data: PageData;\n\n  const { user } = data;\n\n  let guidesTab = false;\n</script>\n\n<svelte:head>\n  {#if !$user.fetching && !$user.error && $user.data.getUser}\n    <MetaDescriptors\n      description=\"{$user.data.getUser.username} profile\"\n      title=\"{$user.data.getUser.username} profile\" />\n  {/if}\n</svelte:head>\n\n{#if $user.fetching}\n  <p>Loading...</p>\n{:else if $user.error}\n  <p>Oh no... {$user.error.message}</p>\n{:else if $user.data.getUser}\n  <div class=\"grid gap-6 xlx:grid-flow-row\">\n    <div class=\"flex flex-wrap h-auto justify-between items-center\">\n      <h1 class=\"text-4xl font-bold\">{$user.data.getUser.username}</h1>\n\n      <div>\n        {#if $me && $user.data.getUser.id === $me.id}\n          <Button variant=\"outlined\" href=\"{base}/settings\">Settings</Button>\n        {/if}\n\n        <Button variant=\"outlined\" on:click={() => (guidesTab = !guidesTab)}>\n          {#if !guidesTab}\n            Guides\n          {:else}\n            Mods\n          {/if}\n        </Button>\n      </div>\n    </div>\n    <div class=\"grid grid-auto-max auto-cols-fr gap-4\">\n      {#if !guidesTab}\n        <div class=\"grid 3xl:grid-cols-3 2xl:grid-cols-2 grid-cols-1 gap-4 h-fit\">\n          {#each $user.data.getUser.mods as mod}\n            <ModCard mod={mod.mod} />\n          {/each}\n\n          {#if $user.data.getUser.mods.length === 0}\n            <!-- TODO Prettier -->\n            User has no mods\n          {/if}\n        </div>\n      {:else}\n        <div class=\"grid 3xl:grid-cols-3 2xl:grid-cols-2 grid-cols-1 gap-4 h-fit\">\n          {#each $user.data.getUser.guides as guide}\n            <GuideCard {guide} logo={$user.data.getUser.avatar} />\n          {/each}\n\n          {#if $user.data.getUser.guides.length === 0}\n            <!-- TODO Prettier -->\n            User has no guides\n          {/if}\n        </div>\n      {/if}\n      <div class=\"grid grid-cols-1 auto-rows-min gap-8\">\n        <UserAvatar avatar={$user.data.getUser.avatar} username={$user.data.getUser.username} />\n        <UserInfo user={$user.data.getUser} />\n      </div>\n    </div>\n  </div>\n{:else}\n  <!-- TODO Better 404 -->\n  404\n{/if}\n"],"names":["load","async","params","parent","n","loadWaitForNoFetch","user","queryStore","query","GetUserDocument","client","variables","userId","prettyDate","ctx","created_at","insert_hydration_dev","target","div","anchor","append_hydration_dev","h3","span","strong","br","set_data_dev","t4","t4_value","$$props","attr_dev","img","img_src_value","avatar","username","userAvatar","assets","description","data","getUser","title","dirty","metadescriptors_changes","t0_value","id","create_if_block_7","div4","div1","h1","div0","div3","div2","current","t0","useravatar_changes","error","message","p","t1","t1_value","base","create_if_block_6","each_value_1","guides","length","i","create_if_block_5","each_blocks","each_value","mods","create_if_block_4","logo","guidecard_changes","props","mod","modcard_changes","fetching","create_if_block_8","guidesTab","click_handler","$$invalidate"],"mappings":"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"}