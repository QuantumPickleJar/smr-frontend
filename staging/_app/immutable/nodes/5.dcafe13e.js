import{S as rt,i as at,d as b,s as ct,bg as Y,r as lt,a9 as ft,v as ut,aI as A,aJ as N,af as $t,ag as mt,aL as z,aY as U,bh as K,P as dt,a2 as y,a0 as D,x as B,aa as M,ba as pt,a3 as k,q as d,a1 as O,y as R,z as _,ab as L,a8 as gt,B as j,a4 as w,l as S,a7 as T,ad as ht,p as v,t as V,a6 as P,k as F,m as St,n as bt,ac as Q,L as E}from"../chunks/vendor.2dadc702.js";import{h as G,U as H}from"../chunks/graphql.769656ab.js";import{T as W}from"../chunks/Toast.3d7ae842.js";import{S as X}from"../chunks/SMLVersionForm.537aa733.js";import{M as Z}from"../chunks/MetaDescriptors.c839152c.js";const vt=async({params:i})=>({...i}),Et=Object.freeze(Object.defineProperty({__proto__:null,load:vt},Symbol.toStringTag,{value:"Module"})),{console:J}=dt,C="src/routes/admin/sml-versions/[smlVersionId]/edit/+page.svelte";function tt(i){let t,e;t=new X({props:{onSubmit:i[5],initialValues:i[3],editing:!0,submitText:"Save"},$$inline:!0});const r={c:function(){y(t.$$.fragment)},l:function(n){k(t.$$.fragment,n)},m:function(n,o){w(t,n,o),e=!0},p:function(n,o){const l={};o&8&&(l.initialValues=n[3]),t.$set(l)},i:function(n){e||(v(t.$$.fragment,n),e=!0)},o:function(n){V(t.$$.fragment,n),e=!1},d:function(n){P(t,n)}};return b("SvelteRegisterBlock",{block:r,id:tt.name,type:"else",source:"(61:4) {:else}",ctx:i}),r}function et(i){let t,e,r=i[1].error.message+"",s;const n={c:function(){t=B("p"),e=M("Oh no... "),s=M(r),this.h()},l:function(l){t=R(l,"P",{});var u=_(t);e=L(u,"Oh no... "),s=L(u,r),u.forEach(d),this.h()},h:function(){j(t,C,59,6,1781)},m:function(l,u){S(l,t,u),T(t,e),T(t,s)},p:function(l,u){u&2&&r!==(r=l[1].error.message+"")&&Q(s,r)},i:E,o:E,d:function(l){l&&d(t)}};return b("SvelteRegisterBlock",{block:n,id:et.name,type:"if",source:"(59:32) ",ctx:i}),n}function nt(i){let t,e;const r={c:function(){t=B("p"),e=M("Loading..."),this.h()},l:function(n){t=R(n,"P",{});var o=_(t);e=L(o,"Loading..."),o.forEach(d),this.h()},h:function(){j(t,C,57,6,1724)},m:function(n,o){S(n,t,o),T(t,e)},p:E,i:E,o:E,d:function(n){n&&d(t)}};return b("SvelteRegisterBlock",{block:r,id:nt.name,type:"if",source:"(57:4) {#if $smlVersion.fetching}",ctx:i}),r}function ot(i){let t,e,r,s;const n=[nt,et,tt],o=[];function l($,f){return $[1].fetching?0:$[1].error?1:2}t=l(i),e=o[t]=n[t](i);const u={c:function(){e.c(),r=F()},l:function(f){e.l(f),r=F()},m:function(f,m){o[t].m(f,m),S(f,r,m),s=!0},p:function(f,m){let p=t;t=l(f),t===p?o[t].p(f,m):(St(),V(o[p],1,1,()=>{o[p]=null}),bt(),e=o[t],e?e.p(f,m):(e=o[t]=n[t](f),e.c()),v(e,1),e.m(r.parentNode,r))},i:function(f){s||(v(e),s=!0)},o:function(f){V(e),s=!1},d:function(f){o[t].d(f),f&&d(r)}};return b("SvelteRegisterBlock",{block:u,id:ot.name,type:"slot",source:"(56:2) <Content>",ctx:i}),u}function st(i){let t,e;t=new K({props:{$$slots:{default:[ot]},$$scope:{ctx:i}},$$inline:!0});const r={c:function(){y(t.$$.fragment)},l:function(n){k(t.$$.fragment,n)},m:function(n,o){w(t,n,o),e=!0},p:function(n,o){const l={};o&1034&&(l.$$scope={dirty:o,ctx:n}),t.$set(l)},i:function(n){e||(v(t.$$.fragment,n),e=!0)},o:function(n){V(t.$$.fragment,n),e=!1},d:function(n){P(t,n)}};return b("SvelteRegisterBlock",{block:r,id:st.name,type:"slot",source:"(55:0) <Card>",ctx:i}),r}function it(i){let t,e;const r={c:function(){t=B("span"),e=M(i[2]),this.h()},l:function(n){t=R(n,"SPAN",{});var o=_(t);e=L(o,i[2]),o.forEach(d),this.h()},h:function(){j(t,C,67,2,1983)},m:function(n,o){S(n,t,o),T(t,e)},p:function(n,o){o&4&&Q(e,n[2])},d:function(n){n&&d(t)}};return b("SvelteRegisterBlock",{block:r,id:it.name,type:"slot",source:"(67:0) <Toast bind:running={errorToast}>",ctx:i}),r}function q(i){let t,e,r,s,n,o,l,u,$,f;t=new Z({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"},$$inline:!0}),o=new Y({props:{$$slots:{default:[st]},$$scope:{ctx:i}},$$inline:!0});function m(g){i[7](g)}let p={$$slots:{default:[it]},$$scope:{ctx:i}};i[0]!==void 0&&(p.running=i[0]),u=new W({props:p,$$inline:!0}),lt.push(()=>ft(u,"running",m));const x={c:function(){y(t.$$.fragment),e=D(),r=B("h1"),s=M("Edit SMLVersion"),n=D(),y(o.$$.fragment),l=D(),y(u.$$.fragment),this.h()},l:function(c){const a=pt("svelte-7e9nlv",document.head);k(t.$$.fragment,a),a.forEach(d),e=O(c),r=R(c,"H1",{class:!0});var h=_(r);s=L(h,"Edit SMLVersion"),h.forEach(d),n=O(c),k(o.$$.fragment,c),l=O(c),k(u.$$.fragment,c),this.h()},h:function(){gt(r,"class","text-4xl my-4 font-bold"),j(r,C,52,0,1610)},m:function(c,a){w(t,document.head,null),S(c,e,a),S(c,r,a),T(r,s),S(c,n,a),w(o,c,a),S(c,l,a),w(u,c,a),f=!0},p:function(c,[a]){const h={};a&1034&&(h.$$scope={dirty:a,ctx:c}),o.$set(h);const I={};a&1028&&(I.$$scope={dirty:a,ctx:c}),!$&&a&1&&($=!0,I.running=c[0],ht(()=>$=!1)),u.$set(I)},i:function(c){f||(v(t.$$.fragment,c),v(o.$$.fragment,c),v(u.$$.fragment,c),f=!0)},o:function(c){V(t.$$.fragment,c),V(o.$$.fragment,c),V(u.$$.fragment,c),f=!1},d:function(c){P(t),c&&d(e),c&&d(r),c&&d(n),P(o,c),c&&d(l),P(u,c)}};return b("SvelteRegisterBlock",{block:x,id:q.name,type:"component",source:"",ctx:i}),x}function Vt(i,t,e){let r,s,{$$slots:n={},$$scope:o}=t;ut("Page",n,[]);let{data:l}=t;const{smlVersionId:u}=l,$=A();let f="",m=!1;const p=N({query:G,client:$,variables:{smlVersionID:u}});$t(p,"smlVersion"),mt(i,p,a=>e(1,s=a));const x=a=>{$.mutation(H,{smlVersionID:u,smlVersion:a}).toPromise().then(h=>{h.error?(console.error(h.error.message),e(2,f="Error editing SMLVersion: "+h.error.message),e(0,m=!0)):z(U+"/admin/sml-versions")})};i.$$.on_mount.push(function(){l===void 0&&!("data"in t||i.$$.bound[i.$$.props.data])&&J.warn("<Page> was created without expected prop 'data'")});const g=["data"];Object.keys(t).forEach(a=>{!~g.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&J.warn(`<Page> was created with unknown prop '${a}'`)});function c(a){m=a,e(0,m)}return i.$$set=a=>{"data"in a&&e(6,l=a.data)},i.$capture_state=()=>({getContextClient:A,queryStore:N,GetSmlVersionAdminDocument:G,UpdateSmlVersionDocument:H,Toast:W,goto:z,SMLVersionForm:X,base:U,MetaDescriptors:Z,Card:Y,Content:K,data:l,smlVersionId:u,client:$,errorMessage:f,errorToast:m,smlVersion:p,onSubmit:x,initialValues:r,$smlVersion:s}),i.$inject_state=a=>{"data"in a&&e(6,l=a.data),"errorMessage"in a&&e(2,f=a.errorMessage),"errorToast"in a&&e(0,m=a.errorToast),"initialValues"in a&&e(3,r=a.initialValues)},t&&"$$inject"in t&&i.$inject_state(t.$$inject),i.$$.update=()=>{i.$$.dirty&1&&(m||e(2,f="")),i.$$.dirty&2&&e(3,r=s.data?{...s.data.getSMLVersion,logo:void 0}:void 0)},[m,s,f,r,p,x,l,c]}class Mt extends rt{constructor(t){super(t),at(this,t,Vt,q,ct,{data:6}),b("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:q.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Mt as component,Et as universal};
//# sourceMappingURL=5.dcafe13e.js.map
